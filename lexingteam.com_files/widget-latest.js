!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=281)}([function(e,t,n){var r=n(1),i=n(13),a=n(27),o=n(23),s=n(35),u=function(e,t,n){var c,l,f,d,p=e&u.F,h=e&u.G,v=e&u.S,m=e&u.P,y=e&u.B,g=h?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),_=b.prototype||(b.prototype={});h&&(n=t);for(c in n)l=!p&&g&&void 0!==g[c],f=(l?g:n)[c],d=y&&l?s(f,r):m&&"function"==typeof f?s(Function.call,f):f,g&&o(g,c,f,e&u.U),b[c]!=f&&a(b,c,d),m&&_[c]!=f&&(_[c]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(599),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){var r=n(102)("wks"),i=n(60),a=n(1).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e,t,n,r){var i,a=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(i=e,a=e.default);var s="function"==typeof a?a.options:a;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),n&&(s._scopeId=n),r){var u=Object.create(s.computed||null);Object.keys(r).forEach(function(e){var t=r[e];u[e]=function(){return t}}),s.computed=u}return{esModule:i,exports:a,options:s}}},function(e,t,n){var r=n(37),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";function r(e){console&&console.warn&&console.warn(e)}function i(){i.init.call(this)}function a(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function o(e,t,n,i){var o,s,u;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(s=e._events,void 0===s?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),u=s[t]),void 0===u)u=s[t]=n,++e._eventsCount;else if("function"==typeof u?u=s[t]=i?[n,u]:[u,n]:i?u.unshift(n):u.push(n),(o=a(e))>0&&u.length>o&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,r(c)}return e}function s(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,m(this.listener,this.target,e))}function u(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=s.bind(r);return i.listener=n,r.wrapFn=i,i}function c(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?p(i):f(i,i.length)}function l(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function d(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function p(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}var h,v="object"==typeof Reflect?Reflect:null,m=v&&"function"==typeof v.apply?v.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};h=v&&"function"==typeof v.ownKeys?v.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var y=Number.isNaN||function(e){return e!==e};e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var g=10;Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(e){if("number"!=typeof e||e<0||y(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");g=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||y(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)m(s,this,t);else for(var u=s.length,c=f(s,u),n=0;n<u;++n)m(c[n],this,t);return!0},i.prototype.addListener=function(e,t){return o(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return o(this,e,t,!0)},i.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,u(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,u(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():d(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return c(this,e,!0)},i.prototype.rawListeners=function(e){return c(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):l.call(e,t)},i.prototype.listenerCount=l,i.prototype.eventNames=function(){return this._eventsCount>0?h(this._events):[]}},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="dist/",t(t.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var r=n(2)(n(3),n(4),null,null,null);e.exports=r.exports},function(e,t){e.exports=function(e,t,n,r,i){var a,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,o=e.default);var u="function"==typeof o?o.options:o;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns),r&&(u._scopeId=r);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):n&&(c=n),c){var l=u.functional,f=l?u.render:u.beforeCreate;l?u.render=function(e,t){return c.call(t),f(e,t)}:u.beforeCreate=f?[].concat(f,c):[c]}return{esModule:a,exports:o,options:u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},i=[],a="",o="",s="svg";t.default={data:function(){return{loaded:!1}},props:{icon:String,name:String,width:{type:String,default:""},height:{type:String,default:""},scale:String,dir:String,fill:{type:Boolean,default:!0},color:String,original:{type:Boolean,default:!1}},computed:{clazz:function(){var e=s+"-icon";return this.fill&&(e+=" "+s+"-fill"),this.dir&&(e+=" "+s+"-"+this.dir),e},iconName:function(){return this.name||this.icon},iconData:function(){return this.iconName&&this.loaded?r[this.iconName]:null},colors:function(){return this.color?this.color.split(" "):[]},path:function(){var e="";return this.iconData?(e=this.iconData.data,this.original&&(e=this.addOriginalColor(e)),this.colors.length>0&&(e=this.addColor(e))):i.push({name:this.iconName,component:this}),this.getValidPathData(e)},box:function(){var e=this.width||16,t=this.width||16;return this.iconData?this.iconData.viewBox?this.iconData.viewBox:"0 0 "+this.iconData.width+" "+this.iconData.height:"0 0 "+parseFloat(e)+" "+parseFloat(t)},style:function(){var e=/^\d+$/,t=Number(this.scale),n=void 0,r=void 0;return!isNaN(t)&&this.iconData?(n=Number(this.iconData.width)*t+"px",r=Number(this.iconData.height)*t+"px"):(n=e.test(this.width)?this.width+"px":this.width,r=e.test(this.height)?this.height+"px":this.height),{width:n||a,height:r||o}}},created:function(){r[this.iconName]&&(this.loaded=!0)},methods:{addColor:function(e){var t=this,n=/<(path|rect|circle|polygon|line|polyline|ellipse)\s/gi,r=0;return e.replace(n,function(e){var n=t.colors[r++]||t.colors[t.colors.length-1],i=t.fill;return n&&"_"===n?e:(n&&0===n.indexOf("r-")&&(i=!i,n=n.split("r-")[1]),e+(i?"fill":"stroke")+'="'+n+'" '+(i?"stroke":"fill")+'="none" ')})},addOriginalColor:function(e){var t=/_fill="|_stroke="/gi;return e.replace(t,function(e){return e&&e.slice(1)})},getValidPathData:function(e){if(this.original&&this.colors.length>0){var t=/<(path|rect|circle|polygon|line|polyline|ellipse)(\sfill|\sstroke)([="\w\s\.\-\+#\$\&>]+)(fill|stroke)/gi;e=e.replace(t,function(e,t,n,r,i){return"<"+t+n+r+"_"+i})}return e}},install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.tagName||"svgicon";t.classPrefix&&(s=t.classPrefix),t.defaultWidth&&(a=t.defaultWidth),t.defaultHeight&&(o=t.defaultHeight),e.component(n,this)},register:function(e){for(var t in e)!function(t){r[t]||(r[t]=e[t]),i=i.filter(function(e,n){return e.name===t&&e.component.$set(e.component,"loaded",!0),e.name!==t})}(t)},icons:r}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("svg",{class:e.clazz,style:e.style,attrs:{version:"1.1",viewBox:e.box},domProps:{innerHTML:e._s(e.path)}})},staticRenderFns:[]}}])})},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(3),i=n(180),a=n(51),o=Object.defineProperty;t.f=n(16)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(17),i=n(8),a=n(50),o=n(53),s=n(70),u=function(e,t,n){var c,l,f,d=e&u.F,p=e&u.G,h=e&u.S,v=e&u.P,m=e&u.B,y=e&u.W,g=p?i:i[t]||(i[t]={}),b=g.prototype,_=p?r:h?r[t]:(r[t]||{}).prototype;p&&(n=t);for(c in n)(l=!d&&_&&void 0!==_[c])&&s(g,c)||(f=l?_[c]:n[c],g[c]=p&&"function"!=typeof _[c]?n[c]:m&&l?a(f,r):y&&_[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):v&&"function"==typeof f?a(Function.call,f):f,v&&((g.virtual||(g.virtual={}))[c]=f,e&u.R&&b&&!b[c]&&o(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){e.exports=!n(2)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=n(578)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(25),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,n){function r(a,o){try{var s=t[a](o),u=s.value}catch(e){return void n(e)}if(!s.done)return i.default.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}},function(e,t,n){var r=n(161)("wks"),i=n(121),a=n(17).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(48);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(1),i=n(27),a=n(26),o=n(60)("src"),s=n(287),u=(""+s).split("toString");n(13).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(a(n,o)||i(n,o,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||s.call(this)})},function(e,t,n){var r=n(0),i=n(2),a=n(48),o=/"/g,s=function(e,t,n,r){var i=String(a(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(o,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){e.exports={default:n(585),__esModule:!0}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(14),i=n(59);e.exports=n(16)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(88),i=n(48);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";function r(e){return"[object Array]"===S.call(e)}function i(e){return"[object ArrayBuffer]"===S.call(e)}function a(e){return"undefined"!=typeof FormData&&e instanceof FormData}function o(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function f(e){return"[object Date]"===S.call(e)}function d(e){return"[object File]"===S.call(e)}function p(e){return"[object Blob]"===S.call(e)}function h(e){return"[object Function]"===S.call(e)}function v(e){return l(e)&&h(e.pipe)}function m(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function y(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function b(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function _(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=_(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)b(arguments[n],e);return t}function w(e,t,n){return b(t,function(t,r){e[r]=n&&"function"==typeof t?k(t,n):t}),e}var k=n(217),x=n(484),S=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:i,isBuffer:x,isFormData:a,isArrayBufferView:o,isString:s,isNumber:u,isObject:l,isUndefined:c,isDate:f,isFile:d,isBlob:p,isFunction:h,isStream:v,isURLSearchParams:m,isStandardBrowserEnv:g,forEach:b,merge:_,extend:w,trim:y}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(t.MESSAGE_PAGE_SIZE=50,t.MESSAGE_TIMESTAMP_POLLING=6e4,t.SERVICE_SID=window.SMITH.smithChatAccount,t.CSRF_TOKEN=window.CSRF_TOKEN,t.API_BASE_URL=void 0===window.SMITH.baseUrl?"https://app.smith.ai":window.SMITH.baseUrl,t.SIMULATOR_MODE=window.SMITH.simulatorMode||!1,t.STANDALONE_MODE=window.SMITH.standaloneMode||!1,t.CURRENT_URL=window.SMITH.currentUrl,t.CONVERSATION_CHANNEL_CLOSED=1,t.CONVERSATION_ASSIGNMENT_ADDED=2,t.CONVERSATION_ASSIGNMENT_REMOVED=3,t.CONVERSATION_TRANSLATION_ENABLED=5,t.CONVERSATION_TRANSLATION_DISABLED=6,t.CONVERSATION_PLAYBOOK_STARTED=7,t.CONVERSATION_PLAYBOOK_DONE=8,t.CONVERSATION_PLAYBOOK_ABORTED=10,t.CONVERSATION_PLAYBOOK_RESUMED=11,t.MESSAGE_MEDIA_TYPE_TEXT=1,t.MESSAGE_MEDIA_TYPE_IMAGE=2,t.STEPTYPE_MESSAGE=1,t.STEPTYPE_QUESTION=2,t.STEPTYPE_CHOICE=3,t.ANSWERTYPE_FREETEXT=1,t.ANSWERTYPE_PHONE=2,t.ANSWERTYPE_EMAIL=3,t.ANSWERTYPE_WEBSITE=4,t.ANSWERTYPE_GEOLOCATION=5,t.ANSWERTYPE_TIME=6,t.ANSWERTYPE_DATE=7,t.ANSWERTYPE_DATETIME=8,t.PLAYBOOK_LOCAL_STORE_KEY="SMITHCHAT_playbookInstanceId",[{id:1,name:"Alex",url:"https://prod-smith-dynamic.s3-us-west-1.amazonaws.com/static/chat/agent-avatars/agent1.png"},{id:2,name:"Becca",url:"https://prod-smith-dynamic.s3-us-west-1.amazonaws.com/static/chat/agent-avatars/agent2.png"},{id:3,name:"Carol",url:"https://prod-smith-dynamic.s3-us-west-1.amazonaws.com/static/chat/agent-avatars/agent3.png"},{id:4,name:"Dana",url:"https://prod-smith-dynamic.s3-us-west-1.amazonaws.com/static/chat/agent-avatars/agent4.png"},{id:5,name:"Edgar",url:"https://prod-smith-dynamic.s3-us-west-1.amazonaws.com/static/chat/agent-avatars/agent5.png"},{id:6,name:"Franco",url:"https://prod-smith-dynamic.s3-us-west-1.amazonaws.com/static/chat/agent-avatars/agent6.png"}]);t.AGENT_AVATARS=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array(3))).map(function(){var e=Math.floor(Math.random()*r.length);return r.splice(e,1)[0]}),t.WIDGET_POSITION_STANDARD=1,t.WIDGET_POSITION_LEFT_TAB=2,t.WIDGET_CUSTOM_FOOTER_LOGO=window.SMITH.customFooterLogo,t.WIDGET_CUSTOM_FOOTER_URL=window.SMITH.customFooterUrl,t.BLOCK_PROACTIVE_MODE_COOKIE="SMITHAI_BLOCK_PROACTIVE_MODE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return[(new Date).toISOString()+" Chat "+e+":"].concat((0,l.default)(t))}var a=n(5),o=r(a),s=n(6),u=r(s),c=n(248),l=r(c);Object.defineProperty(t,"__esModule",{value:!0});var f=n(619),d=f.getLogger("twilio-chat"),p=function(){function e(t){(0,o.default)(this,e),this.prefix="",this.prefix=null!==t&&void 0!==t&&t.length>0?t+" ":""}return(0,u.default)(e,[{key:"setLevel",value:function(e){d.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d.trace.apply(null,i(this.prefix+"T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d.debug.apply(null,i(this.prefix+"D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d.info.apply(null,i(this.prefix+"I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d.warn.apply(null,i(this.prefix+"W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d.error.apply(null,i(this.prefix+"E",t))}}],[{key:"scope",value:function(t){return new e(t)}},{key:"setLevel",value:function(e){d.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d.trace.apply(null,i("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d.debug.apply(null,i("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d.info.apply(null,i("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d.warn.apply(null,i("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d.error.apply(null,i("E",t))}}]),e}();t.Logger=p},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){var r=n(34),i=n(211),a=n(153),o=Object.defineProperty;t.f=n(41)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(22);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(36);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(89),i=n(59),a=n(28),o=n(51),s=n(26),u=n(180),c=Object.getOwnPropertyDescriptor;t.f=n(16)?c:function(e,t){if(e=a(e),t=o(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(0),i=n(13),a=n(2);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},function(e,t,n){var r=n(35),i=n(88),a=n(21),o=n(10),s=n(196);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var v,m,y=a(t),g=i(y),b=r(s,h,3),_=o(g.length),w=0,k=n?p(t,_):u?p(t,0):void 0;_>w;w++)if((d||w in g)&&(v=g[w],m=b(v,w,y),e))if(n)k[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:k.push(v)}else if(l)return!1;return f?-1:c||l?l:k}}},function(e,t,n){e.exports=!n(54)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports={default:n(596),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(242),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(246),a=r(i),o=n(247),s=r(o),u=n(242),c=r(u);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(a.default?(0,a.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return 0===v.createPatch(e,t).length}function a(e){return JSON.parse((0,h.default)(e))}function o(e){return void 0===e||isNaN(Number(e))?null:Number(e)}function s(e){try{return new Date(e)}catch(e){return null}}function u(e,t,n){var r={};if(e)try{r=JSON.parse(e)}catch(e){n.warn(t)}return r}var c=n(5),l=r(c),f=n(6),d=r(f),p=n(73),h=r(p);Object.defineProperty(t,"__esModule",{value:!0});var v=n(622);t.isDeepEqual=i,t.deepClone=a,t.parseToNumber=o,t.parseTime=s,t.parseAttributes=u;var m=function(){function e(t){(0,l.default)(this,e),this.base=t.replace(/\/$/,""),this.args=[],this.paths=[]}return(0,d.default)(e,[{key:"arg",value:function(e,t){return void 0!==t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"path",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),e}();t.UriBuilder=m},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";if(n(16)){var r=n(61),i=n(1),a=n(2),o=n(0),s=n(113),u=n(151),c=n(35),l=n(81),f=n(59),d=n(27),p=n(82),h=n(37),v=n(10),m=n(207),y=n(63),g=n(51),b=n(26),_=n(90),w=n(4),k=n(21),x=n(143),S=n(64),E=n(66),C=n(65).f,P=n(145),O=n(60),T=n(7),A=n(40),M=n(103),I=n(91),D=n(147),R=n(79),j=n(106),N=n(80),L=n(146),F=n(198),U=n(14),$=n(38),B=U.f,q=$.f,z=i.RangeError,H=i.TypeError,V=i.Uint8Array,Y=Array.prototype,W=u.ArrayBuffer,G=u.DataView,K=A(0),Q=A(2),J=A(3),X=A(4),Z=A(5),ee=A(6),te=M(!0),ne=M(!1),re=D.values,ie=D.keys,ae=D.entries,oe=Y.lastIndexOf,se=Y.reduce,ue=Y.reduceRight,ce=Y.join,le=Y.sort,fe=Y.slice,de=Y.toString,pe=Y.toLocaleString,he=T("iterator"),ve=T("toStringTag"),me=O("typed_constructor"),ye=O("def_constructor"),ge=s.CONSTR,be=s.TYPED,_e=s.VIEW,we=A(1,function(e,t){return Ce(I(e,e[ye]),t)}),ke=a(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),xe=!!V&&!!V.prototype.set&&a(function(){new V(1).set({})}),Se=function(e,t){var n=h(e);if(n<0||n%t)throw z("Wrong offset!");return n},Ee=function(e){if(w(e)&&be in e)return e;throw H(e+" is not a typed array!")},Ce=function(e,t){if(!(w(e)&&me in e))throw H("It is not a typed array constructor!");return new e(t)},Pe=function(e,t){return Oe(I(e,e[ye]),t)},Oe=function(e,t){for(var n=0,r=t.length,i=Ce(e,r);r>n;)i[n]=t[n++];return i},Te=function(e,t,n){B(e,t,{get:function(){return this._d[n]}})},Ae=function(e){var t,n,r,i,a,o,s=k(e),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=P(s);if(void 0!=d&&!x(d)){for(o=d.call(s),r=[],t=0;!(a=o.next()).done;t++)r.push(a.value);s=r}for(f&&u>2&&(l=c(l,arguments[2],2)),t=0,n=v(s.length),i=Ce(this,n);n>t;t++)i[t]=f?l(s[t],t):s[t];return i},Me=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},Ie=!!V&&a(function(){pe.call(new V(1))}),De=function(){return pe.apply(Ie?fe.call(Ee(this)):Ee(this),arguments)},Re={copyWithin:function(e,t){return F.call(Ee(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return X(Ee(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return L.apply(Ee(this),arguments)},filter:function(e){return Pe(this,Q(Ee(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Ee(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ee(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(Ee(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ee(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ee(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Ee(this),arguments)},lastIndexOf:function(e){return oe.apply(Ee(this),arguments)},map:function(e){return we(Ee(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ee(this),arguments)},reduceRight:function(e){return ue.apply(Ee(this),arguments)},reverse:function(){for(var e,t=this,n=Ee(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return J(Ee(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Ee(this),e)},subarray:function(e,t){var n=Ee(this),r=n.length,i=y(e,r);return new(I(n,n[ye]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===t?r:y(t,r))-i))}},je=function(e,t){return Pe(this,fe.call(Ee(this),e,t))},Ne=function(e){Ee(this);var t=Se(arguments[1],1),n=this.length,r=k(e),i=v(r.length),a=0;if(i+t>n)throw z("Wrong length!");for(;a<i;)this[t+a]=r[a++]},Le={entries:function(){return ae.call(Ee(this))},keys:function(){return ie.call(Ee(this))},values:function(){return re.call(Ee(this))}},Fe=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return Fe(e,t=g(t,!0))?f(2,e[t]):q(e,t)},$e=function(e,t,n){return!(Fe(e,t=g(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?B(e,t,n):(e[t]=n.value,e)};ge||($.f=Ue,U.f=$e),o(o.S+o.F*!ge,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:$e}),a(function(){de.call({})})&&(de=pe=function(){return ce.call(this)});var Be=p({},Re);p(Be,Le),d(Be,he,Le.values),p(Be,{slice:je,set:Ne,constructor:function(){},toString:de,toLocaleString:De}),Te(Be,"buffer","b"),Te(Be,"byteOffset","o"),Te(Be,"byteLength","l"),Te(Be,"length","e"),B(Be,ve,{get:function(){return this[be]}}),e.exports=function(e,t,n,u){u=!!u;var c=e+(u?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=i[c],y=h||{},g=h&&E(h),b=!h||!s.ABV,k={},x=h&&h.prototype,P=function(e,n){var r=e._d;return r.v[f](n*t+r.o,ke)},O=function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,ke)},T=function(e,t){B(e,t,{get:function(){return P(this,t)},set:function(e){return O(this,t,e)},enumerable:!0})};b?(h=n(function(e,n,r,i){l(e,h,c,"_d");var a,o,s,u,f=0,p=0;if(w(n)){if(!(n instanceof W||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return be in n?Oe(h,n):Ae.call(h,n);a=n,p=Se(r,t);var y=n.byteLength;if(void 0===i){if(y%t)throw z("Wrong length!");if((o=y-p)<0)throw z("Wrong length!")}else if((o=v(i)*t)+p>y)throw z("Wrong length!");s=o/t}else s=m(n),o=s*t,a=new W(o);for(d(e,"_d",{b:a,o:p,l:o,e:s,v:new G(a)});f<s;)T(e,f++)}),x=h.prototype=S(Be),d(x,"constructor",h)):a(function(){h(1)})&&a(function(){new h(-1)})&&j(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,r,i){l(e,h,c);var a;return w(n)?n instanceof W||"ArrayBuffer"==(a=_(n))||"SharedArrayBuffer"==a?void 0!==i?new y(n,Se(r,t),i):void 0!==r?new y(n,Se(r,t)):new y(n):be in n?Oe(h,n):Ae.call(h,n):new y(m(n))}),K(g!==Function.prototype?C(y).concat(C(g)):C(y),function(e){e in h||d(h,e,y[e])}),h.prototype=x,r||(x.constructor=h));var A=x[he],M=!!A&&("values"==A.name||void 0==A.name),I=Le.values;d(h,me,!0),d(x,be,c),d(x,_e,!0),d(x,ye,h),(u?new h(1)[ve]==c:ve in x)||B(x,ve,{get:function(){return c}}),k[c]=h,o(o.G+o.W+o.F*(h!=y),k),o(o.S,c,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*a(function(){y.of.call(h,1)}),c,{from:Ae,of:Me}),"BYTES_PER_ELEMENT"in x||d(x,"BYTES_PER_ELEMENT",t),o(o.P,c,Re),N(c),o(o.P+o.F*xe,c,{set:Ne}),o(o.P+o.F*!M,c,Le),r||x.toString==de||(x.toString=de),o(o.P+o.F*a(function(){new h(1).slice()}),c,{slice:je}),o(o.P+o.F*(a(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!a(function(){x.toLocaleString.call([1,2])})),c,{toLocaleString:De}),R[c]=M?A:I,r||M||d(x,he,I)}}else e.exports=function(){}},function(e,t,n){var r=n(69);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(60)("meta"),i=n(4),a=n(26),o=n(14).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(2)(function(){return u(Object.preventExtensions({}))}),l=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!a(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return c&&h.NEED&&u(e)&&!a(e,r)&&l(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){var r=n(33),i=n(92);e.exports=n(41)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports={default:n(629),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(654);t.TwilsockClient=r.TwilsockClient,t.Twilsock=r.TwilsockClient;var i=n(76);t.TwilsockError=i.TwilsockError;var a=n(678);t.TransportUnavailableError=a.TransportUnavailableError},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.name=o.constructor.name,o.message=e+" (status: "+n+", code: "+a+")",o.status=n,o.code=a,o}return a(t,e),t}(Error);t.SyncError=o;var s=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments[3];r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return s.body=o,s}return a(t,e),t}(o);t.SyncNetworkError=s,t.default=o},function(e,t,n){"use strict";function r(e,t){return[(new Date).toISOString()+" Sync "+e+":"].concat(Array.from(t))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(687),a=i.getLogger("twilio-sync");t.default={setLevel:function(e){a.setLevel(e)},trace:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.trace.apply(null,r("T",t))},debug:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.debug.apply(null,r("D",t))},info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.info.apply(null,r("I",t))},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.warn.apply(null,r("W",t))},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.error.apply(null,r("E",t))}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(182),i=n(130);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(37),i=Math.max,a=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):a(e,t)}},function(e,t,n){var r=n(3),i=n(183),a=n(130),o=n(129)("IE_PROTO"),s=function(){},u=function(){var e,t=n(127)("iframe"),r=a.length;for(t.style.display="none",n(131).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[a[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(182),i=n(130).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(26),i=n(21),a=n(129)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){var r=n(7)("unscopables"),i=Array.prototype;void 0==i[r]&&n(27)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";/**
 * vuex v3.1.0
 * (c) 2019 Evan You
 * @license MIT
 */
function r(e){function t(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:t});else{var n=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[t].concat(e.init):t,n.call(this,e)}}}function i(e){E&&(e._devtoolHook=E,E.emit("vuex:init",e),E.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(e,t){E.emit("vuex:mutation",e,t)}))}function a(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function o(e){return null!==e&&"object"==typeof e}function s(e){return e&&"function"==typeof e.then}function u(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;u(e.concat(r),t.getChild(r),n.modules[r])}}function c(e,t){return t.indexOf(e)<0&&t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function l(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;d(e,n,[],e._modules.root,!0),f(e,n,t)}function f(e,t,n){var r=e._vm;e.getters={};var i=e._wrappedGetters,o={};a(i,function(t,n){o[n]=function(){return t(e)},Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})});var s=T.config.silent;T.config.silent=!0,e._vm=new T({data:{$$state:t},computed:o}),T.config.silent=s,e.strict&&g(e),r&&(n&&e._withCommit(function(){r._data.$$state=null}),T.nextTick(function(){return r.$destroy()}))}function d(e,t,n,r,i){var a=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o]=r),!a&&!i){var s=b(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){T.set(s,u,r.state)})}var c=r.context=p(e,o,n);r.forEachMutation(function(t,n){v(e,o+n,t,c)}),r.forEachAction(function(t,n){var r=t.root?n:o+n,i=t.handler||t;m(e,r,i,c)}),r.forEachGetter(function(t,n){y(e,o+n,t,c)}),r.forEachChild(function(r,a){d(e,t,n.concat(a),r,i)})}function p(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var a=_(n,r,i),o=a.payload,s=a.options,u=a.type;return s&&s.root||(u=t+u),e.dispatch(u,o)},commit:r?e.commit:function(n,r,i){var a=_(n,r,i),o=a.payload,s=a.options,u=a.type;s&&s.root||(u=t+u),e.commit(u,o,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return h(e,t)}},state:{get:function(){return b(e.state,n)}}}),i}function h(e,t){var n={},r=t.length;return Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return e.getters[i]},enumerable:!0})}}),n}function v(e,t,n,r){(e._mutations[t]||(e._mutations[t]=[])).push(function(t){n.call(e,r.state,t)})}function m(e,t,n,r){(e._actions[t]||(e._actions[t]=[])).push(function(t,i){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t,i);return s(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(t){throw e._devtoolHook.emit("vuex:error",t),t}):a})}function y(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function g(e){e._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function b(e,t){return t.length?t.reduce(function(e,t){return e[t]},e):e}function _(e,t,n){return o(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function w(e){T&&e===T||(T=e,r(T))}function k(e){return Array.isArray(e)?e.map(function(e){return{key:e,val:e}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})}function x(e){return function(t,n){return"string"!=typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function S(e,t,n){return e._modulesNamespaceMap[n]}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Store",function(){return A}),n.d(t,"install",function(){return w}),n.d(t,"mapState",function(){return I}),n.d(t,"mapMutations",function(){return D}),n.d(t,"mapGetters",function(){return R}),n.d(t,"mapActions",function(){return j}),n.d(t,"createNamespacedHelpers",function(){return N});var E="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,C=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},P={namespaced:{configurable:!0}};P.namespaced.get=function(){return!!this._rawModule.namespaced},C.prototype.addChild=function(e,t){this._children[e]=t},C.prototype.removeChild=function(e){delete this._children[e]},C.prototype.getChild=function(e){return this._children[e]},C.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},C.prototype.forEachChild=function(e){a(this._children,e)},C.prototype.forEachGetter=function(e){this._rawModule.getters&&a(this._rawModule.getters,e)},C.prototype.forEachAction=function(e){this._rawModule.actions&&a(this._rawModule.actions,e)},C.prototype.forEachMutation=function(e){this._rawModule.mutations&&a(this._rawModule.mutations,e)},Object.defineProperties(C.prototype,P);var O=function(e){this.register([],e,!1)};O.prototype.get=function(e){return e.reduce(function(e,t){return e.getChild(t)},this.root)},O.prototype.getNamespace=function(e){var t=this.root;return e.reduce(function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")},"")},O.prototype.update=function(e){u([],this.root,e)},O.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new C(t,n);if(0===e.length)this.root=i;else{this.get(e.slice(0,-1)).addChild(e[e.length-1],i)}t.modules&&a(t.modules,function(t,i){r.register(e.concat(i),t,n)})},O.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];t.getChild(n).runtime&&t.removeChild(n)};var T,A=function(e){var t=this;void 0===e&&(e={}),!T&&"undefined"!=typeof window&&window.Vue&&w(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new O(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new T;var a=this,o=this,s=o.dispatch,u=o.commit;this.dispatch=function(e,t){return s.call(a,e,t)},this.commit=function(e,t,n){return u.call(a,e,t,n)},this.strict=r;var c=this._modules.root.state;d(this,c,[],this._modules.root),f(this,c),n.forEach(function(e){return e(t)}),(void 0!==e.devtools?e.devtools:T.config.devtools)&&i(this)},M={state:{configurable:!0}};M.state.get=function(){return this._vm._data.$$state},M.state.set=function(e){},A.prototype.commit=function(e,t,n){var r=this,i=_(e,t,n),a=i.type,o=i.payload,s=(i.options,{type:a,payload:o}),u=this._mutations[a];u&&(this._withCommit(function(){u.forEach(function(e){e(o)})}),this._subscribers.forEach(function(e){return e(s,r.state)}))},A.prototype.dispatch=function(e,t){var n=this,r=_(e,t),i=r.type,a=r.payload,o={type:i,payload:a},s=this._actions[i];if(s){try{this._actionSubscribers.filter(function(e){return e.before}).forEach(function(e){return e.before(o,n.state)})}catch(e){}return(s.length>1?Promise.all(s.map(function(e){return e(a)})):s[0](a)).then(function(e){try{n._actionSubscribers.filter(function(e){return e.after}).forEach(function(e){return e.after(o,n.state)})}catch(e){}return e})}},A.prototype.subscribe=function(e){return c(e,this._subscribers)},A.prototype.subscribeAction=function(e){return c("function"==typeof e?{before:e}:e,this._actionSubscribers)},A.prototype.watch=function(e,t,n){var r=this;return this._watcherVM.$watch(function(){return e(r.state,r.getters)},t,n)},A.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._vm._data.$$state=e})},A.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),d(this,this.state,e,this._modules.get(e),n.preserveState),f(this,this.state)},A.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var n=b(t.state,e.slice(0,-1));T.delete(n,e[e.length-1])}),l(this)},A.prototype.hotUpdate=function(e){this._modules.update(e),l(this,!0)},A.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(A.prototype,M);var I=x(function(e,t){var n={};return k(t).forEach(function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=S(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"==typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0}),n}),D=x(function(e,t){var n={};return k(t).forEach(function(t){var r=t.key,i=t.val;n[r]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=this.$store.commit;if(e){var a=S(this.$store,"mapMutations",e);if(!a)return;r=a.context.commit}return"function"==typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}}),n}),R=x(function(e,t){var n={};return k(t).forEach(function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||S(this.$store,"mapGetters",e))return this.$store.getters[i]},n[r].vuex=!0}),n}),j=x(function(e,t){var n={};return k(t).forEach(function(t){var r=t.key,i=t.val;n[r]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var a=S(this.$store,"mapActions",e);if(!a)return;r=a.context.dispatch}return"function"==typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}}),n}),N=function(e){return{mapState:I.bind(null,e),mapGetters:R.bind(null,e),mapMutations:D.bind(null,e),mapActions:j.bind(null,e)}},L={Store:A,install:w,version:"3.1.0",mapState:I,mapMutations:D,mapGetters:R,mapActions:j,createNamespacedHelpers:N};t.default=L},function(e,t,n){"use strict";var r=n(586)(!0);n(164)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){e.exports={default:n(621),__esModule:!0}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return[(new Date).toISOString()+" Twilsock "+e+":"].concat(Array.from(t))}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(655),s=function(){function e(t){r(this,e),this.prefix="",this.prefix=null!==t&&void 0!==t&&t.length>0?" "+t+":":""}return a(e,[{key:"setLevel",value:function(e){o.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.debug.apply(null,i("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.debug.apply(null,i("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.info.apply(null,i("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.warn.apply(null,i("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.error.apply(null,i("E",t))}}],[{key:"setLevel",value:function(e){o.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.trace.apply(null,i("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.debug.apply(null,i("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.info.apply(null,i("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.warn.apply(null,i("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.error.apply(null,i("E",t))}}]),e}();t.Logger=s;var u=new s("");t.log=u},function(e,t,n){var r=n(660),i=n(661),a=i;a.v1=r,a.v4=i,e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),t}(Error);t.TwilsockError=o},function(e,t,n){var r=n(14).f,i=n(26),a=n(7)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(0),i=n(48),a=n(2),o=n(133),s="["+o+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(e,t,n){var i={},s=a(function(){return!!o[e]()||u[e]()!=u}),c=i[e]=s?t(d):o[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},d=f.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=f},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(1),i=n(14),a=n(16),o=n(7)("species");e.exports=function(e){var t=r[e];a&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(23);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(157),i=n(158);e.exports=function(e){return r(i(e))}},function(e,t){e.exports={}},function(e,t,n){n(589);for(var r=n(17),i=n(53),a=n(84),o=n(20)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[o]&&i(f,o,c),a[c]=a.Array}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(650);t.Retrier=r.Retrier;var i=n(651);t.Backoff=i.Backoff,t.default=r.Retrier},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(75),a=function e(t){r(this,e),this.id=t||"TM"+i.v4()};t.AbstractMessage=a},function(e,t,n){var r=n(47);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(47),i=n(7)("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=o(t=Object(e),i))?n:a?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(3),i=n(36),a=n(7)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,n){var r=n(158);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(34),i=n(588),a=n(162),o=n(160)("IE_PROTO"),s=function(){},u=function(){var e,t=n(152)("iframe"),r=a.length;for(t.style.display="none",n(230).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[a[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(33).f,i=n(70),a=n(20)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(50),i=n(233),a=n(234),o=n(34),s=n(120),u=n(166),c={},l={},t=e.exports=function(e,t,n,f,d){var p,h,v,m,y=d?function(){return e}:u(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(a(y)){for(p=s(e.length);p>b;b++)if((m=t?g(o(h=e[b])[0],h[1]):g(e[b]))===c||m===l)return m}else for(v=y.call(e);!(h=v.next()).done;)if((m=i(v,g,h.value,t))===c||m===l)return m};t.BREAK=c,t.RETURN=l},function(e,t,n){"use strict";function r(e){return JSON.parse(JSON.stringify(e))}function i(e,t){if(!t||void 0!==e){var n=void 0===e?"undefined":d(e);if("number"!==n||!f(e)){var r="object"===n?"object":"'"+e+"' of type '"+n+"'";throw new p.default("Invalid TTL, expected a positive integer of type number, was "+r,400,54011)}}}function a(e){if(void 0!==e){var t=void 0===e?"undefined":d(e);if("string"!==t)throw new Error("Invalid ID type, expected a string, got '"+t+"'")}}function o(e){i(e,!0)}function s(e){i(e,!1)}function u(e){if(void 0!==e&&!l(e))throw new p.default("Invalid pageSize parameter. Expected a positive integer, was '"+e+"'.",400,54455)}function c(e){return!isNaN(parseInt(e))&&isFinite(e)}function l(e){return c(e)&&e>0}function f(e){return c(e)&&e>=0}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var p=n(57);t.deepClone=r,t.validateId=a,t.validateOptionalTtl=o,t.validateMandatoryTtl=s,t.validatePageSize=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t,n){r(this,e),this.services=t,this.removalHandler=n,this.subscriptionState="none",this._attachedListeners=new Map}return i(e,[{key:"_advanceLastEventId",value:function(e,t){}},{key:"reportFailure",value:function(e){404===e.status?this.onRemoved(!1):this.broadcastEventToListeners("failure",e)}},{key:"_subscribe",value:function(){this.services.router.subscribe(this.sid,this)}},{key:"_unsubscribe",value:function(){this.services.router.unsubscribe(this.sid)}},{key:"_setSubscriptionState",value:function(e){this.subscriptionState=e,this.broadcastEventToListeners("_subscriptionStateChanged",e)}},{key:"close",value:function(){this._unsubscribe(),null!=this.removalHandler&&this.removalHandler(this.type,this.sid,this.uniqueName)}},{key:"attach",value:function(e){var t=e.listenerUuid;this._attachedListeners.get(t)||(this._attachedListeners.size||this._subscribe(),this._attachedListeners.set(t,e))}},{key:"detach",value:function(e){this._attachedListeners.delete(e),this._attachedListeners.size||this.close()}},{key:"broadcastEventToListeners",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=this._attachedListeners.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){a.value.emit(e,t)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}}]),e}();t.SyncEntity=a,t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),u=n(75),c=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.closed=!1,e.uuid=u(),e}return a(t,e),o(t,[{key:"close",value:function(){this.removeAllListeners(),this.closed=!0}},{key:"ensureNotClosed",value:function(){if(this.closed)throw new Error("Invalid operation on closed object")}},{key:"listenerUuid",get:function(){return this.uuid}}]),t}(s.EventEmitter);t.Closeable=c,t.default=c},function(e,t,n){var r=n(13),i=n(1),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(61)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(28),i=n(10),a=n(63);e.exports=function(e){return function(t,n,o){var s,u=r(t),c=i(u.length),l=a(o,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(47);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(7)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},e(a)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(3);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(90),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";n(200);var r=n(23),i=n(27),a=n(2),o=n(48),s=n(7),u=n(148),c=s("species"),l=!a(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=s(e),p=!a(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),h=p?!a(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!t}):void 0;if(!p||!h||"replace"===e&&!l||"split"===e&&!f){var v=/./[d],m=n(o,d,""[e],function(e,t,n,r,i){return t.exec===u?p&&!i?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),y=m[0],g=m[1];r(String.prototype,e,y),i(RegExp.prototype,d,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},function(e,t,n){var r=n(35),i=n(195),a=n(143),o=n(3),s=n(10),u=n(145),c={},l={},t=e.exports=function(e,t,n,f,d){var p,h,v,m,y=d?function(){return e}:u(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(a(y)){for(p=s(e.length);p>b;b++)if((m=t?g(o(h=e[b])[0],h[1]):g(e[b]))===c||m===l)return m}else for(v=y.call(e);!(h=v.next()).done;)if((m=i(v,g,h.value,t))===c||m===l)return m};t.BREAK=c,t.RETURN=l},function(e,t,n){var r=n(1),i=r.navigator;e.exports=i&&i.userAgent||""},function(e,t,n){"use strict";var r=n(1),i=n(0),a=n(23),o=n(82),s=n(52),u=n(110),c=n(81),l=n(4),f=n(2),d=n(106),p=n(77),h=n(134);e.exports=function(e,t,n,v,m,y){var g=r[e],b=g,_=m?"set":"add",w=b&&b.prototype,k={},x=function(e){var t=w[e];a(w,e,"delete"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(y||w.forEach&&!f(function(){(new b).entries().next()}))){var S=new b,E=S[_](y?{}:-0,1)!=S,C=f(function(){S.has(1)}),P=d(function(e){new b(e)}),O=!y&&f(function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)});P||(b=t(function(t,n){c(t,b,e);var r=h(new g,t,b);return void 0!=n&&u(n,m,r[_],r),r}),b.prototype=w,w.constructor=b),(C||O)&&(x("delete"),x("has"),m&&x("get")),(O||E)&&x(_),y&&w.clear&&delete w.clear}else b=v.getConstructor(t,e,m,_),o(b.prototype,n),s.NEED=!0;return p(b,e),k[e]=b,i(i.G+i.W+i.F*(b!=g),k),y||v.setStrong(b,e,m),b}},function(e,t,n){for(var r,i=n(1),a=n(27),o=n(60),s=o("typed_array"),u=o("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(a(r.prototype,s,!0),a(r.prototype,u,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,n){function r(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function a(e){return!0===e}function o(e){return!1===e}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function u(e){return null!==e&&"object"==typeof e}function c(e){return"[object Object]"===Sa.call(e)}function l(e){return"[object RegExp]"===Sa.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function d(e){return i(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||c(e)&&e.toString===Sa?JSON.stringify(e,null,2):String(e)}function h(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function m(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function y(e,t){return Pa.call(e,t)}function g(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}function b(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function _(e,t){return e.bind(t)}function w(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function k(e,t){for(var n in t)e[n]=t[n];return e}function x(e){for(var t={},n=0;n<e.length;n++)e[n]&&k(t,e[n]);return t}function S(e,t,n){}function E(e,t){if(e===t)return!0;var n=u(e),r=u(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),a=Array.isArray(t);if(i&&a)return e.length===t.length&&e.every(function(e,n){return E(e,t[n])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||a)return!1;var o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every(function(n){return E(e[n],t[n])})}catch(e){return!1}}function C(e,t){for(var n=0;n<e.length;n++)if(E(e[n],t))return n;return-1}function P(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function O(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function T(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function A(e){if(!Ba.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}function M(e){return"function"==typeof e&&/native code/.test(e.toString())}function I(e){co.push(e),uo.target=e}function D(){co.pop(),uo.target=co[co.length-1]}function R(e){return new lo(void 0,void 0,void 0,String(e))}function j(e){var t=new lo(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}function N(e){yo=e}function L(e,t){e.__proto__=t}function F(e,t,n){for(var r=0,i=n.length;r<i;r++){var a=n[r];T(e,a,t[a])}}function U(e,t){if(u(e)&&!(e instanceof lo)){var n;return y(e,"__ob__")&&e.__ob__ instanceof go?n=e.__ob__:yo&&!ro()&&(Array.isArray(e)||c(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new go(e)),t&&n&&n.vmCount++,n}}function $(e,t,n,r,i){var a=new uo,o=Object.getOwnPropertyDescriptor(e,t);if(!o||!1!==o.configurable){var s=o&&o.get,u=o&&o.set;s&&!u||2!==arguments.length||(n=e[t]);var c=!i&&U(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return uo.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(t)&&z(t))),t},set:function(t){var r=s?s.call(e):n;t===r||t!==t&&r!==r||s&&!u||(u?u.call(e,t):n=t,c=!i&&U(t),a.notify())}})}}function B(e,t,n){if(Array.isArray(e)&&f(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?($(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function q(e,t){if(Array.isArray(e)&&f(t))return void e.splice(t,1);var n=e.__ob__;e._isVue||n&&n.vmCount||y(e,t)&&(delete e[t],n&&n.dep.notify())}function z(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&z(t)}function H(e,t){if(!t)return e;for(var n,r,i,a=ao?Reflect.ownKeys(t):Object.keys(t),o=0;o<a.length;o++)"__ob__"!==(n=a[o])&&(r=e[n],i=t[n],y(e,n)?r!==i&&c(r)&&c(i)&&H(r,i):B(e,n,i));return e}function V(e,t,n){return n?function(){var r="function"==typeof t?t.call(n,n):t,i="function"==typeof e?e.call(n,n):e;return r?H(r,i):i}:t?e?function(){return H("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Y(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?W(n):n}function W(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function G(e,t,n,r){var i=Object.create(e||null);return t?k(i,t):i}function K(e,t){var n=e.props;if(n){var r,i,a,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(a=Ta(i),o[a]={type:null});else if(c(n))for(var s in n)i=n[s],a=Ta(s),o[a]=c(i)?i:{type:i};e.props=o}}function Q(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(c(n))for(var a in n){var o=n[a];r[a]=c(o)?k({from:a},o):{from:o}}}}function J(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}function X(e,t,n){function r(r){var i=bo[r]||wo;s[r]=i(e[r],t[r],n,r)}if("function"==typeof t&&(t=t.options),K(t,n),Q(t,n),J(t),!t._base&&(t.extends&&(e=X(e,t.extends,n)),t.mixins))for(var i=0,a=t.mixins.length;i<a;i++)e=X(e,t.mixins[i],n);var o,s={};for(o in e)r(o);for(o in t)y(e,o)||r(o);return s}function Z(e,t,n,r){if("string"==typeof n){var i=e[t];if(y(i,n))return i[n];var a=Ta(n);if(y(i,a))return i[a];var o=Aa(a);if(y(i,o))return i[o];return i[n]||i[a]||i[o]}}function ee(e,t,n,r){var i=t[e],a=!y(n,e),o=n[e],s=ie(Boolean,i.type);if(s>-1)if(a&&!y(i,"default"))o=!1;else if(""===o||o===Ia(e)){var u=ie(String,i.type);(u<0||s<u)&&(o=!0)}if(void 0===o){o=te(r,i,e);var c=yo;N(!0),U(o),N(c)}return o}function te(e,t,n){if(y(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof r&&"Function"!==ne(t.type)?r.call(e):r}}function ne(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function re(e,t){return ne(e)===ne(t)}function ie(e,t){if(!Array.isArray(t))return re(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(re(t[n],e))return n;return-1}function ae(e,t,n){I();try{if(t)for(var r=t;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{var o=!1===i[a].call(r,e,t,n);if(o)return}catch(e){se(e,r,"errorCaptured hook")}}se(e,t,n)}finally{D()}}function oe(e,t,n,r,i){var a;try{a=n?e.apply(t,n):e.call(t),a&&!a._isVue&&d(a)&&!a._handled&&(a.catch(function(e){return ae(e,r,i+" (Promise/async)")}),a._handled=!0)}catch(e){ae(e,r,i)}return a}function se(e,t,n){if(Ua.errorHandler)try{return Ua.errorHandler.call(null,e,t,n)}catch(t){t!==e&&ue(t,null,"config.errorHandler")}ue(e,t,n)}function ue(e,t,n){if(!za&&!Ha||"undefined"==typeof console)throw e;console.error(e)}function ce(){So=!1;var e=xo.slice(0);xo.length=0;for(var t=0;t<e.length;t++)e[t]()}function le(e,t){var n;if(xo.push(function(){if(e)try{e.call(t)}catch(e){ae(e,t,"nextTick")}else n&&n(t)}),So||(So=!0,_o()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}function fe(e){de(e,To),To.clear()}function de(e,t){var n,r,i=Array.isArray(e);if(!(!i&&!u(e)||Object.isFrozen(e)||e instanceof lo)){if(e.__ob__){var a=e.__ob__.dep.id;if(t.has(a))return;t.add(a)}if(i)for(n=e.length;n--;)de(e[n],t);else for(r=Object.keys(e),n=r.length;n--;)de(e[r[n]],t)}}function pe(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return oe(r,null,arguments,t,"v-on handler");for(var i=r.slice(),a=0;a<i.length;a++)oe(i[a],null,e,t,"v-on handler")}return n.fns=e,n}function he(e,t,n,i,o,s){var u,c,l,f;for(u in e)c=e[u],l=t[u],f=Ao(u),r(c)||(r(l)?(r(c.fns)&&(c=e[u]=pe(c,s)),a(f.once)&&(c=e[u]=o(f.name,c,f.capture)),n(f.name,c,f.capture,f.passive,f.params)):c!==l&&(l.fns=c,e[u]=l));for(u in t)r(e[u])&&(f=Ao(u),i(f.name,t[u],f.capture))}function ve(e,t,n){function o(){n.apply(this,arguments),m(s.fns,o)}e instanceof lo&&(e=e.data.hook||(e.data.hook={}));var s,u=e[t];r(u)?s=pe([o]):i(u.fns)&&a(u.merged)?(s=u,s.fns.push(o)):s=pe([u,o]),s.merged=!0,e[t]=s}function me(e,t,n){var a=t.options.props;if(!r(a)){var o={},s=e.attrs,u=e.props;if(i(s)||i(u))for(var c in a){var l=Ia(c);ye(o,u,c,l,!0)||ye(o,s,c,l,!1)}return o}}function ye(e,t,n,r,a){if(i(t)){if(y(t,n))return e[n]=t[n],a||delete t[n],!0;if(y(t,r))return e[n]=t[r],a||delete t[r],!0}return!1}function ge(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function be(e){return s(e)?[R(e)]:Array.isArray(e)?we(e):void 0}function _e(e){return i(e)&&i(e.text)&&o(e.isComment)}function we(e,t){var n,o,u,c,l=[];for(n=0;n<e.length;n++)o=e[n],r(o)||"boolean"==typeof o||(u=l.length-1,c=l[u],Array.isArray(o)?o.length>0&&(o=we(o,(t||"")+"_"+n),_e(o[0])&&_e(c)&&(l[u]=R(c.text+o[0].text),o.shift()),l.push.apply(l,o)):s(o)?_e(c)?l[u]=R(c.text+o):""!==o&&l.push(R(o)):_e(o)&&_e(c)?l[u]=R(c.text+o.text):(a(e._isVList)&&i(o.tag)&&r(o.key)&&i(t)&&(o.key="__vlist"+t+"_"+n+"__"),l.push(o)));return l}function ke(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}function xe(e){var t=Se(e.$options.inject,e);t&&(N(!1),Object.keys(t).forEach(function(n){$(e,n,t[n])}),N(!0))}function Se(e,t){if(e){for(var n=Object.create(null),r=ao?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var a=r[i];if("__ob__"!==a){for(var o=e[a].from,s=t;s;){if(s._provided&&y(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s&&"default"in e[a]){var u=e[a].default;n[a]="function"==typeof u?u.call(t):u}}}return n}}function Ee(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var a=e[r],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==t&&a.fnContext!==t||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,u=n[s]||(n[s]=[]);"template"===a.tag?u.push.apply(u,a.children||[]):u.push(a)}}for(var c in n)n[c].every(Ce)&&delete n[c];return n}function Ce(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Pe(e,t,n){var r,i=Object.keys(t).length>0,a=e?!!e.$stable:!i,o=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&n&&n!==xa&&o===n.$key&&!i&&!n.$hasNormal)return n;r={};for(var s in e)e[s]&&"$"!==s[0]&&(r[s]=Oe(t,s,e[s]))}else r={};for(var u in t)u in r||(r[u]=Te(t,u));return e&&Object.isExtensible(e)&&(e._normalized=r),T(r,"$stable",a),T(r,"$key",o),T(r,"$hasNormal",i),r}function Oe(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:be(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Te(e,t){return function(){return e[t]}}function Ae(e,t){var n,r,a,o,s;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,a=e.length;r<a;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(u(e))if(ao&&e[Symbol.iterator]){n=[];for(var c=e[Symbol.iterator](),l=c.next();!l.done;)n.push(t(l.value,n.length)),l=c.next()}else for(o=Object.keys(e),n=new Array(o.length),r=0,a=o.length;r<a;r++)s=o[r],n[r]=t(e[s],s,r);return i(n)||(n=[]),n._isVList=!0,n}function Me(e,t,n,r){var i,a=this.$scopedSlots[e];a?(n=n||{},r&&(n=k(k({},r),n)),i=a(n)||t):i=this.$slots[e]||t;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},i):i}function Ie(e){return Z(this.$options,"filters",e,!0)||ja}function De(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Re(e,t,n,r,i){var a=Ua.keyCodes[t]||n;return i&&r&&!Ua.keyCodes[t]?De(i,r):a?De(a,e):r?Ia(r)!==t:void 0}function je(e,t,n,r,i){if(n)if(u(n)){Array.isArray(n)&&(n=x(n));var a;for(var o in n)!function(o){if("class"===o||"style"===o||Ca(o))a=e;else{var s=e.attrs&&e.attrs.type;a=r||Ua.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var u=Ta(o),c=Ia(o);if(!(u in a||c in a)&&(a[o]=n[o],i)){(e.on||(e.on={}))["update:"+o]=function(e){n[o]=e}}}(o)}else;return e}function Ne(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t?r:(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Fe(r,"__static__"+e,!1),r)}function Le(e,t,n){return Fe(e,"__once__"+t+(n?"_"+n:""),!0),e}function Fe(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&Ue(e[r],t+"_"+r,n);else Ue(e,t,n)}function Ue(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function $e(e,t){if(t)if(c(t)){var n=e.on=e.on?k({},e.on):{};for(var r in t){var i=n[r],a=t[r];n[r]=i?[].concat(i,a):a}}else;return e}function Be(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var a=e[i];Array.isArray(a)?Be(a,t,n):a&&(a.proxy&&(a.fn.proxy=!0),t[a.key]=a.fn)}return r&&(t.$key=r),t}function qe(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r&&(e[t[n]]=t[n+1])}return e}function ze(e,t){return"string"==typeof e?t+e:e}function He(e){e._o=Le,e._n=h,e._s=p,e._l=Ae,e._t=Me,e._q=E,e._i=C,e._m=Ne,e._f=Ie,e._k=Re,e._b=je,e._v=R,e._e=po,e._u=Be,e._g=$e,e._d=qe,e._p=ze}function Ve(e,t,n,r,i){var o,s=this,u=i.options;y(r,"_uid")?(o=Object.create(r),o._original=r):(o=r,r=r._original);var c=a(u._compiled),l=!c;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||xa,this.injections=Se(u.inject,r),this.slots=function(){return s.$slots||Pe(e.scopedSlots,s.$slots=Ee(n,r)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Pe(e.scopedSlots,this.slots())}}),c&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Pe(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,n,i){var a=et(o,e,t,n,i,l);return a&&!Array.isArray(a)&&(a.fnScopeId=u._scopeId,a.fnContext=r),a}:this._c=function(e,t,n,r){return et(o,e,t,n,r,l)}}function Ye(e,t,n,r,a){var o=e.options,s={},u=o.props;if(i(u))for(var c in u)s[c]=ee(c,u,t||xa);else i(n.attrs)&&Ge(s,n.attrs),i(n.props)&&Ge(s,n.props);var l=new Ve(n,s,a,r,e),f=o.render.call(null,l._c,l);if(f instanceof lo)return We(f,n,l.parent,o,l);if(Array.isArray(f)){for(var d=be(f)||[],p=new Array(d.length),h=0;h<d.length;h++)p[h]=We(d[h],n,l.parent,o,l);return p}}function We(e,t,n,r,i){var a=j(e);return a.fnContext=n,a.fnOptions=r,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function Ge(e,t){for(var n in t)e[Ta(n)]=t[n]}function Ke(e,t,n,o,s){if(!r(e)){var c=n.$options._base;if(u(e)&&(e=c.extend(e)),"function"==typeof e){var l;if(r(e.cid)&&(l=e,void 0===(e=st(l,c))))return ot(l,t,n,o,s);t=t||{},qt(e),i(t.model)&&Ze(e.options,t);var f=me(t,e,s);if(a(e.options.functional))return Ye(e,f,t,n,o);var d=t.on;if(t.on=t.nativeOn,a(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}Je(t);var h=e.options.name||s;return new lo("vue-component-"+e.cid+(h?"-"+h:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:f,listeners:d,tag:s,children:o},l)}}}function Qe(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function Je(e){for(var t=e.hook||(e.hook={}),n=0;n<Do.length;n++){var r=Do[n],i=t[r],a=Io[r];i===a||i&&i._merged||(t[r]=i?Xe(a,i):a)}}function Xe(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function Ze(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var a=t.on||(t.on={}),o=a[r],s=t.model.callback;i(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(a[r]=[s].concat(o)):a[r]=s}function et(e,t,n,r,i,o){return(Array.isArray(n)||s(n))&&(i=r,r=n,n=void 0),a(o)&&(i=jo),tt(e,t,n,r,i)}function tt(e,t,n,r,a){if(i(n)&&i(n.__ob__))return po();if(i(n)&&i(n.is)&&(t=n.is),!t)return po();Array.isArray(r)&&"function"==typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),a===jo?r=be(r):a===Ro&&(r=ge(r));var o,s;if("string"==typeof t){var u;s=e.$vnode&&e.$vnode.ns||Ua.getTagNamespace(t),o=Ua.isReservedTag(t)?new lo(Ua.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!i(u=Z(e.$options,"components",t))?new lo(t,n,r,void 0,void 0,e):Ke(u,n,e,r,t)}else o=Ke(t,n,e,r);return Array.isArray(o)?o:i(o)?(i(s)&&nt(o,s),i(n)&&rt(n),o):po()}function nt(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),i(e.children))for(var o=0,s=e.children.length;o<s;o++){var u=e.children[o];i(u.tag)&&(r(u.ns)||a(n)&&"svg"!==u.tag)&&nt(u,t,n)}}function rt(e){u(e.style)&&fe(e.style),u(e.class)&&fe(e.class)}function it(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=Ee(t._renderChildren,r),e.$scopedSlots=xa,e._c=function(t,n,r,i){return et(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return et(e,t,n,r,i,!0)};var i=n&&n.data;$(e,"$attrs",i&&i.attrs||xa,null,!0),$(e,"$listeners",t._parentListeners||xa,null,!0)}function at(e,t){return(e.__esModule||ao&&"Module"===e[Symbol.toStringTag])&&(e=e.default),u(e)?t.extend(e):e}function ot(e,t,n,r,i){var a=po();return a.asyncFactory=e,a.asyncMeta={data:t,context:n,children:r,tag:i},a}function st(e,t){if(a(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var n=No;if(n&&i(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),a(e.loading)&&i(e.loadingComp))return e.loadingComp;if(n&&!i(e.owners)){var o=e.owners=[n],s=!0,c=null,l=null;n.$on("hook:destroyed",function(){return m(o,n)});var f=function(e){for(var t=0,n=o.length;t<n;t++)o[t].$forceUpdate();e&&(o.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},p=P(function(n){e.resolved=at(n,t),s?o.length=0:f(!0)}),h=P(function(t){i(e.errorComp)&&(e.error=!0,f(!0))}),v=e(p,h);return u(v)&&(d(v)?r(e.resolved)&&v.then(p,h):d(v.component)&&(v.component.then(p,h),i(v.error)&&(e.errorComp=at(v.error,t)),i(v.loading)&&(e.loadingComp=at(v.loading,t),0===v.delay?e.loading=!0:c=setTimeout(function(){c=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,f(!1))},v.delay||200)),i(v.timeout)&&(l=setTimeout(function(){l=null,r(e.resolved)&&h(null)},v.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function ut(e){return e.isComment&&e.asyncFactory}function ct(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||ut(n)))return n}}function lt(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&ht(e,t)}function ft(e,t){Mo.$on(e,t)}function dt(e,t){Mo.$off(e,t)}function pt(e,t){var n=Mo;return function r(){null!==t.apply(null,arguments)&&n.$off(e,r)}}function ht(e,t,n){Mo=e,he(t,n||{},ft,dt,pt,e),Mo=void 0}function vt(e){var t=Lo;return Lo=e,function(){Lo=t}}function mt(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function yt(e,t,n){e.$el=t,e.$options.render||(e.$options.render=po),kt(e,"beforeMount");var r;return r=function(){e._update(e._render(),n)},new Go(e,r,S,{before:function(){e._isMounted&&!e._isDestroyed&&kt(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,kt(e,"mounted")),e}function gt(e,t,n,r,i){var a=r.data.scopedSlots,o=e.$scopedSlots,s=!!(a&&!a.$stable||o!==xa&&!o.$stable||a&&e.$scopedSlots.$key!==a.$key),u=!!(i||e.$options._renderChildren||s);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=i,e.$attrs=r.data.attrs||xa,e.$listeners=n||xa,t&&e.$options.props){N(!1);for(var c=e._props,l=e.$options._propKeys||[],f=0;f<l.length;f++){var d=l[f],p=e.$options.props;c[d]=ee(d,p,t,e)}N(!0),e.$options.propsData=t}n=n||xa;var h=e.$options._parentListeners;e.$options._parentListeners=n,ht(e,n,h),u&&(e.$slots=Ee(i,r.context),e.$forceUpdate())}function bt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function _t(e,t){if(t){if(e._directInactive=!1,bt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)_t(e.$children[n]);kt(e,"activated")}}function wt(e,t){if(!(t&&(e._directInactive=!0,bt(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)wt(e.$children[n]);kt(e,"deactivated")}}function kt(e,t){I();var n=e.$options[t],r=t+" hook";if(n)for(var i=0,a=n.length;i<a;i++)oe(n[i],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),D()}function xt(){zo=Fo.length=Uo.length=0,$o={},Bo=qo=!1}function St(){Ho=Vo(),qo=!0;var e,t;for(Fo.sort(function(e,t){return e.id-t.id}),zo=0;zo<Fo.length;zo++)e=Fo[zo],e.before&&e.before(),t=e.id,$o[t]=null,e.run();var n=Uo.slice(),r=Fo.slice();xt(),Pt(n),Et(r),io&&Ua.devtools&&io.emit("flush")}function Et(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&kt(r,"updated")}}function Ct(e){e._inactive=!1,Uo.push(e)}function Pt(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,_t(e[t],!0)}function Ot(e){var t=e.id;if(null==$o[t]){if($o[t]=!0,qo){for(var n=Fo.length-1;n>zo&&Fo[n].id>e.id;)n--;Fo.splice(n+1,0,e)}else Fo.push(e);Bo||(Bo=!0,le(St))}}function Tt(e,t,n){Ko.get=function(){return this[t][n]},Ko.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Ko)}function At(e){e._watchers=[];var t=e.$options;t.props&&Mt(e,t.props),t.methods&&Ft(e,t.methods),t.data?It(e):U(e._data={},!0),t.computed&&Rt(e,t.computed),t.watch&&t.watch!==Xa&&Ut(e,t.watch)}function Mt(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[],a=!e.$parent;a||N(!1);for(var o in t)!function(a){i.push(a);var o=ee(a,t,n,e);$(r,a,o),a in e||Tt(e,"_props",a)}(o);N(!0)}function It(e){var t=e.$options.data;t=e._data="function"==typeof t?Dt(t,e):t||{},c(t)||(t={});for(var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);i--;){var a=n[i];r&&y(r,a)||O(a)||Tt(e,"_data",a)}U(t,!0)}function Dt(e,t){I();try{return e.call(t,t)}catch(e){return ae(e,t,"data()"),{}}finally{D()}}function Rt(e,t){var n=e._computedWatchers=Object.create(null),r=ro();for(var i in t){var a=t[i],o="function"==typeof a?a:a.get;r||(n[i]=new Go(e,o||S,S,Qo)),i in e||jt(e,i,a)}}function jt(e,t,n){var r=!ro();"function"==typeof n?(Ko.get=r?Nt(t):Lt(n),Ko.set=S):(Ko.get=n.get?r&&!1!==n.cache?Nt(t):Lt(n.get):S,Ko.set=n.set||S),Object.defineProperty(e,t,Ko)}function Nt(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),uo.target&&t.depend(),t.value}}function Lt(e){return function(){return e.call(this,this)}}function Ft(e,t){e.$options.props;for(var n in t)e[n]="function"!=typeof t[n]?S:Da(t[n],e)}function Ut(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)$t(e,n,r[i]);else $t(e,n,r)}}function $t(e,t,n,r){return c(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}function Bt(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function qt(e){var t=e.options;if(e.super){var n=qt(e.super);if(n!==e.superOptions){e.superOptions=n;var r=zt(e);r&&k(e.extendOptions,r),t=e.options=X(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function zt(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}function Ht(e){this._init(e)}function Vt(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=w(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}function Yt(e){e.mixin=function(e){return this.options=X(this.options,e),this}}function Wt(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var a=e.name||n.options.name,o=function(e){this._init(e)};return o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.cid=t++,o.options=X(n.options,e),o.super=n,o.options.props&&Gt(o),o.options.computed&&Kt(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,La.forEach(function(e){o[e]=n[e]}),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=e,o.sealedOptions=k({},o.options),i[r]=o,o}}function Gt(e){var t=e.options.props;for(var n in t)Tt(e.prototype,"_props",n)}function Kt(e){var t=e.options.computed;for(var n in t)jt(e.prototype,n,t[n])}function Qt(e){La.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&c(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}function Jt(e){return e&&(e.Ctor.options.name||e.tag)}function Xt(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!l(e)&&e.test(t)}function Zt(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var a in n){var o=n[a];if(o){var s=Jt(o.componentOptions);s&&!t(s)&&en(n,a,r,i)}}}function en(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,m(n,t)}function tn(e){for(var t=e.data,n=e,r=e;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=nn(r.data,t));for(;i(n=n.parent);)n&&n.data&&(t=nn(t,n.data));return rn(t.staticClass,t.class)}function nn(e,t){return{staticClass:an(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function rn(e,t){return i(e)||i(t)?an(e,on(t)):""}function an(e,t){return e?t?e+" "+t:e:t||""}function on(e){return Array.isArray(e)?sn(e):u(e)?un(e):"string"==typeof e?e:""}function sn(e){for(var t,n="",r=0,a=e.length;r<a;r++)i(t=on(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function un(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function cn(e){return Ss(e)?"svg":"math"===e?"math":void 0}function ln(e){if(!za)return!0;if(Cs(e))return!1;if(e=e.toLowerCase(),null!=Ps[e])return Ps[e];var t=document.createElement(e);return e.indexOf("-")>-1?Ps[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Ps[e]=/HTMLUnknownElement/.test(t.toString())}function fn(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function dn(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function pn(e,t){return document.createElementNS(ks[e],t)}function hn(e){return document.createTextNode(e)}function vn(e){return document.createComment(e)}function mn(e,t,n){e.insertBefore(t,n)}function yn(e,t){e.removeChild(t)}function gn(e,t){e.appendChild(t)}function bn(e){return e.parentNode}function _n(e){return e.nextSibling}function wn(e){return e.tagName}function kn(e,t){e.textContent=t}function xn(e,t){e.setAttribute(t,"")}function Sn(e,t){var n=e.data.ref;if(i(n)){var r=e.context,a=e.componentInstance||e.elm,o=r.$refs;t?Array.isArray(o[n])?m(o[n],a):o[n]===a&&(o[n]=void 0):e.data.refInFor?Array.isArray(o[n])?o[n].indexOf(a)<0&&o[n].push(a):o[n]=[a]:o[n]=a}}function En(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&Cn(e,t)||a(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function Cn(e,t){if("input"!==e.tag)return!0;var n,r=i(n=e.data)&&i(n=n.attrs)&&n.type,a=i(n=t.data)&&i(n=n.attrs)&&n.type;return r===a||Os(r)&&Os(a)}function Pn(e,t,n){var r,a,o={};for(r=t;r<=n;++r)a=e[r].key,i(a)&&(o[a]=r);return o}function On(e,t){(e.data.directives||t.data.directives)&&Tn(e,t)}function Tn(e,t){var n,r,i,a=e===Ms,o=t===Ms,s=An(e.data.directives,e.context),u=An(t.data.directives,t.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,In(i,"update",t,e),i.def&&i.def.componentUpdated&&l.push(i)):(In(i,"bind",t,e),i.def&&i.def.inserted&&c.push(i));if(c.length){var f=function(){for(var n=0;n<c.length;n++)In(c[n],"inserted",t,e)};a?ve(t,"insert",f):f()}if(l.length&&ve(t,"postpatch",function(){for(var n=0;n<l.length;n++)In(l[n],"componentUpdated",t,e)}),!a)for(n in s)u[n]||In(s[n],"unbind",e,e,o)}function An(e,t){var n=Object.create(null);if(!e)return n;var r,i;for(r=0;r<e.length;r++)i=e[r],i.modifiers||(i.modifiers=Rs),n[Mn(i)]=i,i.def=Z(t.$options,"directives",i.name,!0);return n}function Mn(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function In(e,t,n,r,i){var a=e.def&&e.def[t];if(a)try{a(n.elm,e,n,r,i)}catch(r){ae(r,n.context,"directive "+e.name+" "+t+" hook")}}function Dn(e,t){var n=t.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var a,o,s=t.elm,u=e.data.attrs||{},c=t.data.attrs||{};i(c.__ob__)&&(c=t.data.attrs=k({},c));for(a in c)o=c[a],u[a]!==o&&Rn(s,a,o);(Wa||Ka)&&c.value!==u.value&&Rn(s,"value",c.value);for(a in u)r(c[a])&&(bs(a)?s.removeAttributeNS(gs,_s(a)):hs(a)||s.removeAttribute(a))}}function Rn(e,t,n){e.tagName.indexOf("-")>-1?jn(e,t,n):ys(t)?ws(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):hs(t)?e.setAttribute(t,ms(t,n)):bs(t)?ws(n)?e.removeAttributeNS(gs,_s(t)):e.setAttributeNS(gs,t,n):jn(e,t,n)}function jn(e,t,n){if(ws(n))e.removeAttribute(t);else{if(Wa&&!Ga&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}function Nn(e,t){var n=t.elm,a=t.data,o=e.data;if(!(r(a.staticClass)&&r(a.class)&&(r(o)||r(o.staticClass)&&r(o.class)))){var s=tn(t),u=n._transitionClasses;i(u)&&(s=an(s,on(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}function Ln(e){function t(){(o||(o=[])).push(e.slice(h,i).trim()),h=i+1}var n,r,i,a,o,s=!1,u=!1,c=!1,l=!1,f=0,d=0,p=0,h=0;for(i=0;i<e.length;i++)if(r=n,n=e.charCodeAt(i),s)39===n&&92!==r&&(s=!1);else if(u)34===n&&92!==r&&(u=!1);else if(c)96===n&&92!==r&&(c=!1);else if(l)47===n&&92!==r&&(l=!1);else if(124!==n||124===e.charCodeAt(i+1)||124===e.charCodeAt(i-1)||f||d||p){switch(n){case 34:u=!0;break;case 39:s=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:d++;break;case 93:d--;break;case 123:f++;break;case 125:f--}if(47===n){for(var v=i-1,m=void 0;v>=0&&" "===(m=e.charAt(v));v--);m&&Fs.test(m)||(l=!0)}}else void 0===a?(h=i+1,a=e.slice(0,i).trim()):t();if(void 0===a?a=e.slice(0,i).trim():0!==h&&t(),o)for(i=0;i<o.length;i++)a=Fn(a,o[i]);return a}function Fn(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var r=t.slice(0,n),i=t.slice(n+1);return'_f("'+r+'")('+e+(")"!==i?","+i:i)}function Un(e,t){console.error("[Vue compiler]: "+e)}function $n(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function Bn(e,t,n,r,i){(e.props||(e.props=[])).push(Jn({name:t,value:n,dynamic:i},r)),e.plain=!1}function qn(e,t,n,r,i){(i?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(Jn({name:t,value:n,dynamic:i},r)),e.plain=!1}function zn(e,t,n,r){e.attrsMap[t]=n,e.attrsList.push(Jn({name:t,value:n},r))}function Hn(e,t,n,r,i,a,o,s){(e.directives||(e.directives=[])).push(Jn({name:t,rawName:n,value:r,arg:i,isDynamicArg:a,modifiers:o},s)),e.plain=!1}function Vn(e,t,n){return n?"_p("+t+',"'+e+'")':e+t}function Yn(e,t,n,r,i,a,o,s){r=r||xa,r.right?s?t="("+t+")==='click'?'contextmenu':("+t+")":"click"===t&&(t="contextmenu",delete r.right):r.middle&&(s?t="("+t+")==='click'?'mouseup':("+t+")":"click"===t&&(t="mouseup")),r.capture&&(delete r.capture,t=Vn("!",t,s)),r.once&&(delete r.once,t=Vn("~",t,s)),r.passive&&(delete r.passive,t=Vn("&",t,s));var u;r.native?(delete r.native,u=e.nativeEvents||(e.nativeEvents={})):u=e.events||(e.events={});var c=Jn({value:n.trim(),dynamic:s},o);r!==xa&&(c.modifiers=r);var l=u[t];Array.isArray(l)?i?l.unshift(c):l.push(c):u[t]=l?i?[c,l]:[l,c]:c,e.plain=!1}function Wn(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}function Gn(e,t,n){var r=Kn(e,":"+t)||Kn(e,"v-bind:"+t);if(null!=r)return Ln(r);if(!1!==n){var i=Kn(e,t);if(null!=i)return JSON.stringify(i)}}function Kn(e,t,n){var r;if(null!=(r=e.attrsMap[t]))for(var i=e.attrsList,a=0,o=i.length;a<o;a++)if(i[a].name===t){i.splice(a,1);break}return n&&delete e.attrsMap[t],r}function Qn(e,t){for(var n=e.attrsList,r=0,i=n.length;r<i;r++){var a=n[r];if(t.test(a.name))return n.splice(r,1),a}}function Jn(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function Xn(e,t,n){var r=n||{},i=r.number,a=r.trim,o="$$v";a&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(o="_n("+o+")");var s=Zn(t,o);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+s+"}"}}function Zn(e,t){var n=er(e);return null===n.key?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}function er(e){if(e=e.trim(),ts=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<ts-1)return is=e.lastIndexOf("."),is>-1?{exp:e.slice(0,is),key:'"'+e.slice(is+1)+'"'}:{exp:e,key:null};for(ns=e,is=as=os=0;!nr();)rs=tr(),rr(rs)?ar(rs):91===rs&&ir(rs);return{exp:e.slice(0,as),key:e.slice(as+1,os)}}function tr(){return ns.charCodeAt(++is)}function nr(){return is>=ts}function rr(e){return 34===e||39===e}function ir(e){var t=1;for(as=is;!nr();)if(e=tr(),rr(e))ar(e);else if(91===e&&t++,93===e&&t--,0===t){os=is;break}}function ar(e){for(var t=e;!nr()&&(e=tr())!==t;);}function or(e,t,n){ss=n;var r=t.value,i=t.modifiers,a=e.tag,o=e.attrsMap.type;if(e.component)return Xn(e,r,i),!1;if("select"===a)cr(e,r,i);else if("input"===a&&"checkbox"===o)sr(e,r,i);else if("input"===a&&"radio"===o)ur(e,r,i);else if("input"===a||"textarea"===a)lr(e,r,i);else if(!Ua.isReservedTag(a))return Xn(e,r,i),!1;return!0}function sr(e,t,n){var r=n&&n.number,i=Gn(e,"value")||"null",a=Gn(e,"true-value")||"true",o=Gn(e,"false-value")||"false";Bn(e,"checked","Array.isArray("+t+")?_i("+t+","+i+")>-1"+("true"===a?":("+t+")":":_q("+t+","+a+")")),Yn(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+a+"):("+o+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Zn(t,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Zn(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Zn(t,"$$c")+"}",null,!0)}function ur(e,t,n){var r=n&&n.number,i=Gn(e,"value")||"null";i=r?"_n("+i+")":i,Bn(e,"checked","_q("+t+","+i+")"),Yn(e,"change",Zn(t,i),null,!0)}function cr(e,t,n){var r=n&&n.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r?"_n(val)":"val")+"})",a="var $$selectedVal = "+i+";";a=a+" "+Zn(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Yn(e,"change",a,null,!0)}function lr(e,t,n){var r=e.attrsMap.type,i=n||{},a=i.lazy,o=i.number,s=i.trim,u=!a&&"range"!==r,c=a?"change":"range"===r?Us:"input",l="$event.target.value";s&&(l="$event.target.value.trim()"),o&&(l="_n("+l+")");var f=Zn(t,l);u&&(f="if($event.target.composing)return;"+f),Bn(e,"value","("+t+")"),Yn(e,c,f,null,!0),(s||o)&&Yn(e,"blur","$forceUpdate()")}function fr(e){if(i(e[Us])){var t=Wa?"change":"input";e[t]=[].concat(e[Us],e[t]||[]),delete e[Us]}i(e[$s])&&(e.change=[].concat(e[$s],e.change||[]),delete e[$s])}function dr(e,t,n){var r=us;return function i(){null!==t.apply(null,arguments)&&hr(e,i,n,r)}}function pr(e,t,n,r){if(Bs){var i=Ho,a=t;t=a._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}}us.addEventListener(e,t,Za?{capture:n,passive:r}:n)}function hr(e,t,n,r){(r||us).removeEventListener(e,t._wrapper||t,n)}function vr(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};us=t.elm,fr(n),he(n,i,pr,hr,dr,t.context),us=void 0}}function mr(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,a,o=t.elm,s=e.data.domProps||{},u=t.data.domProps||{};i(u.__ob__)&&(u=t.data.domProps=k({},u));for(n in s)n in u||(o[n]="");for(n in u){if(a=u[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),a===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=a;var c=r(a)?"":String(a);yr(o,c)&&(o.value=c)}else if("innerHTML"===n&&Ss(o.tagName)&&r(o.innerHTML)){cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+a+"</svg>";for(var l=cs.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}else if(a!==s[n])try{o[n]=a}catch(e){}}}}function yr(e,t){return!e.composing&&("OPTION"===e.tagName||gr(e,t)||br(e,t))}function gr(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}function br(e,t){var n=e.value,r=e._vModifiers;if(i(r)){if(r.number)return h(n)!==h(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}function _r(e){var t=wr(e.style);return e.staticStyle?k(e.staticStyle,t):t}function wr(e){return Array.isArray(e)?x(e):"string"==typeof e?Hs(e):e}function kr(e,t){var n,r={};if(t)for(var i=e;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=_r(i.data))&&k(r,n);(n=_r(e.data))&&k(r,n);for(var a=e;a=a.parent;)a.data&&(n=_r(a.data))&&k(r,n);return r}function xr(e,t){var n=t.data,a=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(a.staticStyle)&&r(a.style))){var o,s,u=t.elm,c=a.staticStyle,l=a.normalizedStyle||a.style||{},f=c||l,d=wr(t.data.style)||{};t.data.normalizedStyle=i(d.__ob__)?k({},d):d;var p=kr(t,!0);for(s in f)r(p[s])&&Ws(u,s,"");for(s in p)(o=p[s])!==f[s]&&Ws(u,s,null==o?"":o)}}function Sr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Js).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Er(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Js).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function Cr(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&k(t,Xs(e.name||"v")),k(t,e),t}return"string"==typeof e?Xs(e):void 0}}function Pr(e){ou(function(){ou(e)})}function Or(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Sr(e,t))}function Tr(e,t){e._transitionClasses&&m(e._transitionClasses,t),Er(e,t)}function Ar(e,t,n){var r=Mr(e,t),i=r.type,a=r.timeout,o=r.propCount;if(!i)return n();var s=i===eu?ru:au,u=0,c=function(){e.removeEventListener(s,l),n()},l=function(t){t.target===e&&++u>=o&&c()};setTimeout(function(){u<o&&c()},a+1),e.addEventListener(s,l)}function Mr(e,t){var n,r=window.getComputedStyle(e),i=(r[nu+"Delay"]||"").split(", "),a=(r[nu+"Duration"]||"").split(", "),o=Ir(i,a),s=(r[iu+"Delay"]||"").split(", "),u=(r[iu+"Duration"]||"").split(", "),c=Ir(s,u),l=0,f=0;return t===eu?o>0&&(n=eu,l=o,f=a.length):t===tu?c>0&&(n=tu,l=c,f=u.length):(l=Math.max(o,c),n=l>0?o>c?eu:tu:null,f=n?n===eu?a.length:u.length:0),{type:n,timeout:l,propCount:f,hasTransform:n===eu&&su.test(r[nu+"Property"])}}function Ir(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return Dr(t)+Dr(e[n])}))}function Dr(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Rr(e,t){var n=e.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var a=Cr(e.data.transition);if(!r(a)&&!i(n._enterCb)&&1===n.nodeType){for(var o=a.css,s=a.type,c=a.enterClass,l=a.enterToClass,f=a.enterActiveClass,d=a.appearClass,p=a.appearToClass,v=a.appearActiveClass,m=a.beforeEnter,y=a.enter,g=a.afterEnter,b=a.enterCancelled,_=a.beforeAppear,w=a.appear,k=a.afterAppear,x=a.appearCancelled,S=a.duration,E=Lo,C=Lo.$vnode;C&&C.parent;)E=C.context,C=C.parent;var O=!E._isMounted||!e.isRootInsert;if(!O||w||""===w){var T=O&&d?d:c,A=O&&v?v:f,M=O&&p?p:l,I=O?_||m:m,D=O&&"function"==typeof w?w:y,R=O?k||g:g,j=O?x||b:b,N=h(u(S)?S.enter:S),L=!1!==o&&!Ga,F=Lr(D),U=n._enterCb=P(function(){L&&(Tr(n,M),Tr(n,A)),U.cancelled?(L&&Tr(n,T),j&&j(n)):R&&R(n),n._enterCb=null});e.data.show||ve(e,"insert",function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),D&&D(n,U)}),I&&I(n),L&&(Or(n,T),Or(n,A),Pr(function(){Tr(n,T),U.cancelled||(Or(n,M),F||(Nr(N)?setTimeout(U,N):Ar(n,s,U)))})),e.data.show&&(t&&t(),D&&D(n,U)),L||F||U()}}}function jr(e,t){function n(){x.cancelled||(!e.data.show&&a.parentNode&&((a.parentNode._pending||(a.parentNode._pending={}))[e.key]=e),p&&p(a),_&&(Or(a,l),Or(a,d),Pr(function(){Tr(a,l),x.cancelled||(Or(a,f),w||(Nr(k)?setTimeout(x,k):Ar(a,c,x)))})),v&&v(a,x),_||w||x())}var a=e.elm;i(a._enterCb)&&(a._enterCb.cancelled=!0,a._enterCb());var o=Cr(e.data.transition);if(r(o)||1!==a.nodeType)return t();if(!i(a._leaveCb)){var s=o.css,c=o.type,l=o.leaveClass,f=o.leaveToClass,d=o.leaveActiveClass,p=o.beforeLeave,v=o.leave,m=o.afterLeave,y=o.leaveCancelled,g=o.delayLeave,b=o.duration,_=!1!==s&&!Ga,w=Lr(v),k=h(u(b)?b.leave:b),x=a._leaveCb=P(function(){a.parentNode&&a.parentNode._pending&&(a.parentNode._pending[e.key]=null),_&&(Tr(a,f),Tr(a,d)),x.cancelled?(_&&Tr(a,l),y&&y(a)):(t(),m&&m(a)),a._leaveCb=null});g?g(n):n()}}function Nr(e){return"number"==typeof e&&!isNaN(e)}function Lr(e){if(r(e))return!1;var t=e.fns;return i(t)?Lr(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Fr(e,t){!0!==t.data.show&&Rr(t)}function Ur(e,t,n){$r(e,t,n),(Wa||Ka)&&setTimeout(function(){$r(e,t,n)},0)}function $r(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var a,o,s=0,u=e.options.length;s<u;s++)if(o=e.options[s],i)a=C(r,qr(o))>-1,o.selected!==a&&(o.selected=a);else if(E(qr(o),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));i||(e.selectedIndex=-1)}}function Br(e,t){return t.every(function(t){return!E(t,e)})}function qr(e){return"_value"in e?e._value:e.value}function zr(e){e.target.composing=!0}function Hr(e){e.target.composing&&(e.target.composing=!1,Vr(e.target,"input"))}function Vr(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Yr(e){return!e.componentInstance||e.data&&e.data.transition?e:Yr(e.componentInstance._vnode)}function Wr(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Wr(ct(t.children)):e}function Gr(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var a in i)t[Ta(a)]=i[a];return t}function Kr(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Qr(e){for(;e=e.parent;)if(e.data.transition)return!0}function Jr(e,t){return t.key===e.key&&t.tag===e.tag}function Xr(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Zr(e){e.data.newPos=e.elm.getBoundingClientRect()}function ei(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate("+r+"px,"+i+"px)",a.transitionDuration="0s"}}function ti(e,t){var n=t?Lu(t):ju;if(n.test(e)){for(var r,i,a,o=[],s=[],u=n.lastIndex=0;r=n.exec(e);){i=r.index,i>u&&(s.push(a=e.slice(u,i)),o.push(JSON.stringify(a)));var c=Ln(r[1].trim());o.push("_s("+c+")"),s.push({"@binding":c}),u=i+r[0].length}return u<e.length&&(s.push(a=e.slice(u)),o.push(JSON.stringify(a))),{expression:o.join("+"),tokens:s}}}function ni(e,t){var n=(t.warn,Kn(e,"class"));n&&(e.staticClass=JSON.stringify(n));var r=Gn(e,"class",!1);r&&(e.classBinding=r)}function ri(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}function ii(e,t){var n=(t.warn,Kn(e,"style"));if(n){e.staticStyle=JSON.stringify(Hs(n))}var r=Gn(e,"style",!1);r&&(e.styleBinding=r)}function ai(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}function oi(e,t){var n=t?ic:rc;return e.replace(n,function(e){return nc[e]})}function si(e,t){function n(t){l+=t,e=e.substring(t)}function r(e,n,r){var i,s;if(null==n&&(n=l),null==r&&(r=l),e)for(s=e.toLowerCase(),i=o.length-1;i>=0&&o[i].lowerCasedTag!==s;i--);else i=0;if(i>=0){for(var u=o.length-1;u>=i;u--)t.end&&t.end(o[u].tag,n,r);o.length=i,a=i&&o[i-1].tag}else"br"===s?t.start&&t.start(e,[],!0,n,r):"p"===s&&(t.start&&t.start(e,[],!1,n,r),t.end&&t.end(e,n,r))}for(var i,a,o=[],s=t.expectHTML,u=t.isUnaryTag||Ra,c=t.canBeLeftOpenTag||Ra,l=0;e;){if(i=e,a&&ec(a)){var f=0,d=a.toLowerCase(),p=tc[d]||(tc[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),h=e.replace(p,function(e,n,r){return f=r.length,ec(d)||"noscript"===d||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),oc(d,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""});l+=e.length-h.length,e=h,r(d,l-f,l)}else{var v=e.indexOf("<");if(0===v){if(Xu.test(e)){var m=e.indexOf("--\x3e");if(m>=0){t.shouldKeepComment&&t.comment(e.substring(4,m),l,l+m+3),n(m+3);continue}}if(Zu.test(e)){var y=e.indexOf("]>");if(y>=0){n(y+2);continue}}var g=e.match(Ju);if(g){n(g[0].length);continue}var b=e.match(Qu);if(b){var _=l;n(b[0].length),r(b[1],_,l);continue}var w=function(){var t=e.match(Gu);if(t){var r={tagName:t[1],attrs:[],start:l};n(t[0].length);for(var i,a;!(i=e.match(Ku))&&(a=e.match(Vu)||e.match(Hu));)a.start=l,n(a[0].length),a.end=l,r.attrs.push(a);if(i)return r.unarySlash=i[1],n(i[0].length),r.end=l,r}}();if(w){!function(e){var n=e.tagName,i=e.unarySlash;s&&("p"===a&&zu(n)&&r(a),c(n)&&a===n&&r(n));for(var l=u(n)||!!i,f=e.attrs.length,d=new Array(f),p=0;p<f;p++){var h=e.attrs[p],v=h[3]||h[4]||h[5]||"",m="a"===n&&"href"===h[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;d[p]={name:h[1],value:oi(v,m)}}l||(o.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:d,start:e.start,end:e.end}),a=n),t.start&&t.start(n,d,l,e.start,e.end)}(w),oc(w.tagName,e)&&n(1);continue}}var k=void 0,x=void 0,S=void 0;if(v>=0){for(x=e.slice(v);!(Qu.test(x)||Gu.test(x)||Xu.test(x)||Zu.test(x)||(S=x.indexOf("<",1))<0);)v+=S,x=e.slice(v);k=e.substring(0,v)}v<0&&(k=e),k&&n(k.length),t.chars&&k&&t.chars(k,l-k.length,l)}if(e===i){t.chars&&t.chars(e);break}}r()}function ui(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:Ti(t),rawAttrsMap:{},parent:n,children:[]}}function ci(e,t){function n(e){if(r(e),l||e.processed||(e=di(e,t)),s.length||e===a||a.if&&(e.elseif||e.else)&&_i(a,{exp:e.elseif,block:e}),o&&!e.forbidden)if(e.elseif||e.else)gi(e,o);else{if(e.slotScope){var n=e.slotTarget||'"default"';(o.scopedSlots||(o.scopedSlots={}))[n]=e}o.children.push(e),e.parent=o}e.children=e.children.filter(function(e){return!e.slotScope}),r(e),e.pre&&(l=!1),Ou(e.tag)&&(f=!1);for(var i=0;i<Pu.length;i++)Pu[i](e,t)}function r(e){if(!f)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}xu=t.warn||Un,Ou=t.isPreTag||Ra,Tu=t.mustUseProp||Ra,Au=t.getTagNamespace||Ra;var i=t.isReservedTag||Ra;Mu=function(e){return!!e.component||!i(e.tag)},Eu=$n(t.modules,"transformNode"),Cu=$n(t.modules,"preTransformNode"),Pu=$n(t.modules,"postTransformNode"),Su=t.delimiters;var a,o,s=[],u=!1!==t.preserveWhitespace,c=t.whitespace,l=!1,f=!1;return si(e,{warn:xu,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,r,i,u,c){var d=o&&o.ns||Au(e);Wa&&"svg"===d&&(r=Ii(r));var p=ui(e,r,o);d&&(p.ns=d),Mi(p)&&!ro()&&(p.forbidden=!0);for(var h=0;h<Cu.length;h++)p=Cu[h](p,t)||p;l||(li(p),p.pre&&(l=!0)),Ou(p.tag)&&(f=!0),l?fi(p):p.processed||(vi(p),yi(p),wi(p)),a||(a=p),i?n(p):(o=p,s.push(p))},end:function(e,t,r){var i=s[s.length-1];s.length-=1,o=s[s.length-1],n(i)},chars:function(e,t,n){if(o&&(!Wa||"textarea"!==o.tag||o.attrsMap.placeholder!==e)){var r=o.children;if(e=f||e.trim()?Ai(o)?e:bc(e):r.length?c?"condense"===c&&yc.test(e)?"":" ":u?" ":"":""){f||"condense"!==c||(e=e.replace(gc," "));var i,a;!l&&" "!==e&&(i=ti(e,Su))?a={type:2,expression:i.expression,tokens:i.tokens,text:e}:" "===e&&r.length&&" "===r[r.length-1].text||(a={type:3,text:e}),a&&r.push(a)}}},comment:function(e,t,n){if(o){var r={type:3,text:e,isComment:!0};o.children.push(r)}}}),a}function li(e){null!=Kn(e,"v-pre")&&(e.pre=!0)}function fi(e){var t=e.attrsList,n=t.length;if(n)for(var r=e.attrs=new Array(n),i=0;i<n;i++)r[i]={name:t[i].name,value:JSON.stringify(t[i].value)},null!=t[i].start&&(r[i].start=t[i].start,r[i].end=t[i].end);else e.pre||(e.plain=!0)}function di(e,t){pi(e),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,hi(e),ki(e),Si(e),Ei(e);for(var n=0;n<Eu.length;n++)e=Eu[n](e,t)||e;return Ci(e),e}function pi(e){var t=Gn(e,"key");if(t){e.key=t}}function hi(e){var t=Gn(e,"ref");t&&(e.ref=t,e.refInFor=Pi(e))}function vi(e){var t;if(t=Kn(e,"v-for")){var n=mi(t);n&&k(e,n)}}function mi(e){var t=e.match(cc);if(t){var n={};n.for=t[2].trim();var r=t[1].trim().replace(fc,""),i=r.match(lc);return i?(n.alias=r.replace(lc,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r,n}}function yi(e){var t=Kn(e,"v-if");if(t)e.if=t,_i(e,{exp:t,block:e});else{null!=Kn(e,"v-else")&&(e.else=!0);var n=Kn(e,"v-else-if");n&&(e.elseif=n)}}function gi(e,t){var n=bi(t.children);n&&n.if&&_i(n,{exp:e.elseif,block:e})}function bi(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}function _i(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function wi(e){null!=Kn(e,"v-once")&&(e.once=!0)}function ki(e){var t;"template"===e.tag?(t=Kn(e,"scope"),e.slotScope=t||Kn(e,"slot-scope")):(t=Kn(e,"slot-scope"))&&(e.slotScope=t);var n=Gn(e,"slot");if(n&&(e.slotTarget='""'===n?'"default"':n,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||qn(e,"slot",n,Wn(e,"slot"))),"template"===e.tag){var r=Qn(e,mc);if(r){var i=xi(r),a=i.name,o=i.dynamic;e.slotTarget=a,e.slotTargetDynamic=o,e.slotScope=r.value||_c}}else{var s=Qn(e,mc);if(s){var u=e.scopedSlots||(e.scopedSlots={}),c=xi(s),l=c.name,f=c.dynamic,d=u[l]=ui("template",[],e);d.slotTarget=l,d.slotTargetDynamic=f,d.children=e.children.filter(function(e){if(!e.slotScope)return e.parent=d,!0}),d.slotScope=s.value||_c,e.children=[],e.plain=!1}}}function xi(e){var t=e.name.replace(mc,"");return t||"#"!==e.name[0]&&(t="default"),dc.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function Si(e){"slot"===e.tag&&(e.slotName=Gn(e,"name"))}function Ei(e){var t;(t=Gn(e,"is"))&&(e.component=t),null!=Kn(e,"inline-template")&&(e.inlineTemplate=!0)}function Ci(e){var t,n,r,i,a,o,s,u,c=e.attrsList;for(t=0,n=c.length;t<n;t++)if(r=i=c[t].name,a=c[t].value,uc.test(r))if(e.hasBindings=!0,o=Oi(r.replace(uc,"")),o&&(r=r.replace(vc,"")),hc.test(r))r=r.replace(hc,""),a=Ln(a),u=dc.test(r),u&&(r=r.slice(1,-1)),o&&(o.prop&&!u&&"innerHtml"===(r=Ta(r))&&(r="innerHTML"),o.camel&&!u&&(r=Ta(r)),o.sync&&(s=Zn(a,"$event"),u?Yn(e,'"update:"+('+r+")",s,null,!1,xu,c[t],!0):(Yn(e,"update:"+Ta(r),s,null,!1,xu,c[t]),Ia(r)!==Ta(r)&&Yn(e,"update:"+Ia(r),s,null,!1,xu,c[t])))),o&&o.prop||!e.component&&Tu(e.tag,e.attrsMap.type,r)?Bn(e,r,a,c[t],u):qn(e,r,a,c[t],u);else if(sc.test(r))r=r.replace(sc,""),u=dc.test(r),u&&(r=r.slice(1,-1)),Yn(e,r,a,o,!1,xu,c[t],u);else{r=r.replace(uc,"");var l=r.match(pc),f=l&&l[1];u=!1,f&&(r=r.slice(0,-(f.length+1)),dc.test(f)&&(f=f.slice(1,-1),u=!0)),Hn(e,r,i,a,f,u,o,c[t])}else{qn(e,r,JSON.stringify(a),c[t]),!e.component&&"muted"===r&&Tu(e.tag,e.attrsMap.type,r)&&Bn(e,r,"true",c[t])}}function Pi(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}function Oi(e){var t=e.match(vc);if(t){var n={};return t.forEach(function(e){n[e.slice(1)]=!0}),n}}function Ti(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].name]=e[n].value;return t}function Ai(e){return"script"===e.tag||"style"===e.tag}function Mi(e){return"style"===e.tag||"script"===e.tag&&(!e.attrsMap.type||"text/javascript"===e.attrsMap.type)}function Ii(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];wc.test(r.name)||(r.name=r.name.replace(kc,""),t.push(r))}return t}function Di(e,t){if("input"===e.tag){var n=e.attrsMap;if(!n["v-model"])return;var r;if((n[":type"]||n["v-bind:type"])&&(r=Gn(e,"type")),n.type||r||!n["v-bind"]||(r="("+n["v-bind"]+").type"),r){var i=Kn(e,"v-if",!0),a=i?"&&("+i+")":"",o=null!=Kn(e,"v-else",!0),s=Kn(e,"v-else-if",!0),u=Ri(e);vi(u),zn(u,"type","checkbox"),di(u,t),u.processed=!0,u.if="("+r+")==='checkbox'"+a,_i(u,{exp:u.if,block:u});var c=Ri(e);Kn(c,"v-for",!0),zn(c,"type","radio"),di(c,t),_i(u,{exp:"("+r+")==='radio'"+a,block:c});var l=Ri(e);return Kn(l,"v-for",!0),zn(l,":type",r),di(l,t),_i(u,{exp:i,block:l}),o?u.else=!0:s&&(u.elseif=s),u}}}function Ri(e){return ui(e.tag,e.attrsList.slice(),e.parent)}function ji(e,t){t.value&&Bn(e,"textContent","_s("+t.value+")",t)}function Ni(e,t){t.value&&Bn(e,"innerHTML","_s("+t.value+")",t)}function Li(e,t){e&&(Iu=Pc(t.staticKeys||""),Du=t.isReservedTag||Ra,Ui(e),$i(e,!1))}function Fi(e){return v("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))}function Ui(e){if(e.static=Bi(e),1===e.type){if(!Du(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var t=0,n=e.children.length;t<n;t++){var r=e.children[t];Ui(r),r.static||(e.static=!1)}if(e.ifConditions)for(var i=1,a=e.ifConditions.length;i<a;i++){var o=e.ifConditions[i].block;Ui(o),o.static||(e.static=!1)}}}function $i(e,t){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=t),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var n=0,r=e.children.length;n<r;n++)$i(e.children[n],t||!!e.for);if(e.ifConditions)for(var i=1,a=e.ifConditions.length;i<a;i++)$i(e.ifConditions[i].block,t)}}function Bi(e){return 2!==e.type&&(3===e.type||!(!e.pre&&(e.hasBindings||e.if||e.for||Ea(e.tag)||!Du(e.tag)||qi(e)||!Object.keys(e).every(Iu))))}function qi(e){for(;e.parent;){if(e=e.parent,"template"!==e.tag)return!1;if(e.for)return!0}return!1}function zi(e,t){var n=t?"nativeOn:":"on:",r="",i="";for(var a in e){var o=Hi(e[a]);e[a]&&e[a].dynamic?i+=a+","+o+",":r+='"'+a+'":'+o+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function Hi(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return Hi(e)}).join(",")+"]";var t=Ac.test(e.value),n=Oc.test(e.value),r=Ac.test(e.value.replace(Tc,""));if(e.modifiers){var i="",a="",o=[];for(var s in e.modifiers)if(Rc[s])a+=Rc[s],Mc[s]&&o.push(s);else if("exact"===s){var u=e.modifiers;a+=Dc(["ctrl","shift","alt","meta"].filter(function(e){return!u[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))}else o.push(s);o.length&&(i+=Vi(o)),a&&(i+=a);return"function($event){"+i+(t?"return "+e.value+"($event)":n?"return ("+e.value+")($event)":r?"return "+e.value:e.value)+"}"}return t||n?e.value:"function($event){"+(r?"return "+e.value:e.value)+"}"}function Vi(e){return"if(!$event.type.indexOf('key')&&"+e.map(Yi).join("&&")+")return null;"}function Yi(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=Mc[e],r=Ic[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}function Wi(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}}function Gi(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}}function Ki(e,t){var n=new Nc(t);return{render:"with(this){return "+(e?Qi(e,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Qi(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Ji(e,t);if(e.once&&!e.onceProcessed)return Xi(e,t);if(e.for&&!e.forProcessed)return ta(e,t);if(e.if&&!e.ifProcessed)return Zi(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return va(e,t);var n;if(e.component)n=ma(e.component,e,t);else{var r;(!e.plain||e.pre&&t.maybeComponent(e))&&(r=na(e,t));var i=e.inlineTemplate?null:ca(e,t,!0);n="_c('"+e.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var a=0;a<t.transforms.length;a++)n=t.transforms[a](e,n);return n}return ca(e,t)||"void 0"}function Ji(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+Qi(e,t)+"}"),t.pre=n,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function Xi(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return Zi(e,t);if(e.staticInFor){for(var n="",r=e.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Qi(e,t)+","+t.onceId+++","+n+")":Qi(e,t)}return Ji(e,t)}function Zi(e,t,n,r){return e.ifProcessed=!0,ea(e.ifConditions.slice(),t,n,r)}function ea(e,t,n,r){function i(e){return n?n(e,t):e.once?Xi(e,t):Qi(e,t)}if(!e.length)return r||"_e()";var a=e.shift();return a.exp?"("+a.exp+")?"+i(a.block)+":"+ea(e,t,n,r):""+i(a.block)}function ta(e,t,n,r){var i=e.for,a=e.alias,o=e.iterator1?","+e.iterator1:"",s=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(r||"_l")+"(("+i+"),function("+a+o+s+"){return "+(n||Qi)(e,t)+"})"}function na(e,t){var n="{",r=ra(e,t);r&&(n+=r+","),e.key&&(n+="key:"+e.key+","),e.ref&&(n+="ref:"+e.ref+","),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'+e.tag+'",');for(var i=0;i<t.dataGenFns.length;i++)n+=t.dataGenFns[i](e);if(e.attrs&&(n+="attrs:"+ya(e.attrs)+","),e.props&&(n+="domProps:"+ya(e.props)+","),e.events&&(n+=zi(e.events,!1)+","),e.nativeEvents&&(n+=zi(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(n+="slot:"+e.slotTarget+","),e.scopedSlots&&(n+=aa(e,e.scopedSlots,t)+","),e.model&&(n+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var a=ia(e,t);a&&(n+=a+",")}return n=n.replace(/,$/,"")+"}",e.dynamicAttrs&&(n="_b("+n+',"'+e.tag+'",'+ya(e.dynamicAttrs)+")"),e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function ra(e,t){var n=e.directives;if(n){var r,i,a,o,s="directives:[",u=!1;for(r=0,i=n.length;r<i;r++){a=n[r],o=!0;var c=t.directives[a.name];c&&(o=!!c(e,a,t.warn)),o&&(u=!0,s+='{name:"'+a.name+'",rawName:"'+a.rawName+'"'+(a.value?",value:("+a.value+"),expression:"+JSON.stringify(a.value):"")+(a.arg?",arg:"+(a.isDynamicArg?a.arg:'"'+a.arg+'"'):"")+(a.modifiers?",modifiers:"+JSON.stringify(a.modifiers):"")+"},")}return u?s.slice(0,-1)+"]":void 0}}function ia(e,t){var n=e.children[0];if(n&&1===n.type){var r=Ki(n,t.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}function aa(e,t,n){var r=e.for||Object.keys(t).some(function(e){var n=t[e];return n.slotTargetDynamic||n.if||n.for||sa(n)}),i=!!e.if;if(!r)for(var a=e.parent;a;){if(a.slotScope&&a.slotScope!==_c||a.for){r=!0;break}a.if&&(i=!0),a=a.parent}var o=Object.keys(t).map(function(e){return ua(t[e],n)}).join(",");return"scopedSlots:_u(["+o+"]"+(r?",null,true":"")+(!r&&i?",null,false,"+oa(o):"")+")"}function oa(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}function sa(e){return 1===e.type&&("slot"===e.tag||e.children.some(sa))}function ua(e,t){var n=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!n)return Zi(e,t,ua,"null");if(e.for&&!e.forProcessed)return ta(e,t,ua);var r=e.slotScope===_c?"":String(e.slotScope),i="function("+r+"){return "+("template"===e.tag?e.if&&n?"("+e.if+")?"+(ca(e,t)||"undefined")+":undefined":ca(e,t)||"undefined":Qi(e,t))+"}",a=r?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+i+a+"}"}function ca(e,t,n,r,i){var a=e.children;if(a.length){var o=a[0];if(1===a.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag){var s=n?t.maybeComponent(o)?",1":",0":"";return""+(r||Qi)(o,t)+s}var u=n?la(a,t.maybeComponent):0,c=i||da;return"["+a.map(function(e){return c(e,t)}).join(",")+"]"+(u?","+u:"")}}function la(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];if(1===i.type){if(fa(i)||i.ifConditions&&i.ifConditions.some(function(e){return fa(e.block)})){n=2;break}(t(i)||i.ifConditions&&i.ifConditions.some(function(e){return t(e.block)}))&&(n=1)}}return n}function fa(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function da(e,t){return 1===e.type?Qi(e,t):3===e.type&&e.isComment?ha(e):pa(e)}function pa(e){return"_v("+(2===e.type?e.expression:ga(JSON.stringify(e.text)))+")"}function ha(e){return"_e("+JSON.stringify(e.text)+")"}function va(e,t){var n=e.slotName||'"default"',r=ca(e,t),i="_t("+n+(r?","+r:""),a=e.attrs||e.dynamicAttrs?ya((e.attrs||[]).concat(e.dynamicAttrs||[]).map(function(e){return{name:Ta(e.name),value:e.value,dynamic:e.dynamic}})):null,o=e.attrsMap["v-bind"];return!a&&!o||r||(i+=",null"),a&&(i+=","+a),o&&(i+=(a?"":",null")+","+o),i+")"}function ma(e,t,n){var r=t.inlineTemplate?null:ca(t,n,!0);return"_c("+e+","+na(t,n)+(r?","+r:"")+")"}function ya(e){for(var t="",n="",r=0;r<e.length;r++){var i=e[r],a=ga(i.value);i.dynamic?n+=i.name+","+a+",":t+='"'+i.name+'":'+a+","}return t="{"+t.slice(0,-1)+"}",n?"_d("+t+",["+n.slice(0,-1)+"])":t}function ga(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function ba(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),S}}function _a(e){var t=Object.create(null);return function(n,r,i){r=k({},r);r.warn;delete r.warn;var a=r.delimiters?String(r.delimiters)+n:n;if(t[a])return t[a];var o=e(n,r),s={},u=[];return s.render=ba(o.render,u),s.staticRenderFns=o.staticRenderFns.map(function(e){return ba(e,u)}),t[a]=s}}function wa(e){return Ru=Ru||document.createElement("div"),Ru.innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',Ru.innerHTML.indexOf("&#10;")>0}function ka(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var xa=Object.freeze({}),Sa=Object.prototype.toString,Ea=v("slot,component",!0),Ca=v("key,ref,slot,slot-scope,is"),Pa=Object.prototype.hasOwnProperty,Oa=/-(\w)/g,Ta=g(function(e){return e.replace(Oa,function(e,t){return t?t.toUpperCase():""})}),Aa=g(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Ma=/\B([A-Z])/g,Ia=g(function(e){return e.replace(Ma,"-$1").toLowerCase()}),Da=Function.prototype.bind?_:b,Ra=function(e,t,n){return!1},ja=function(e){return e},Na="data-server-rendered",La=["component","directive","filter"],Fa=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],Ua={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Ra,isReservedAttr:Ra,isUnknownElement:Ra,getTagNamespace:S,parsePlatformTagName:ja,mustUseProp:Ra,async:!0,_lifecycleHooks:Fa},$a=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,Ba=new RegExp("[^"+$a.source+".$_\\d]"),qa="__proto__"in{},za="undefined"!=typeof window,Ha="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Va=Ha&&WXEnvironment.platform.toLowerCase(),Ya=za&&window.navigator.userAgent.toLowerCase(),Wa=Ya&&/msie|trident/.test(Ya),Ga=Ya&&Ya.indexOf("msie 9.0")>0,Ka=Ya&&Ya.indexOf("edge/")>0,Qa=(Ya&&Ya.indexOf("android"),Ya&&/iphone|ipad|ipod|ios/.test(Ya)||"ios"===Va),Ja=(Ya&&/chrome\/\d+/.test(Ya),Ya&&/phantomjs/.test(Ya),Ya&&Ya.match(/firefox\/(\d+)/)),Xa={}.watch,Za=!1;if(za)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Za=!0}}),window.addEventListener("test-passive",null,eo)}catch(e){}var to,no,ro=function(){return void 0===to&&(to=!za&&!Ha&&void 0!==e&&(e.process&&"server"===e.process.env.VUE_ENV)),to},io=za&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,ao="undefined"!=typeof Symbol&&M(Symbol)&&"undefined"!=typeof Reflect&&M(Reflect.ownKeys);no="undefined"!=typeof Set&&M(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var oo=S,so=0,uo=function(){this.id=so++,this.subs=[]};uo.prototype.addSub=function(e){this.subs.push(e)},uo.prototype.removeSub=function(e){m(this.subs,e)},uo.prototype.depend=function(){uo.target&&uo.target.addDep(this)},uo.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},uo.target=null;var co=[],lo=function(e,t,n,r,i,a,o,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fo={child:{configurable:!0}};fo.child.get=function(){return this.componentInstance},Object.defineProperties(lo.prototype,fo);var po=function(e){void 0===e&&(e="");var t=new lo;return t.text=e,t.isComment=!0,t},ho=Array.prototype,vo=Object.create(ho);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=ho[e];T(vo,e,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,a=t.apply(this,n),o=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&o.observeArray(i),o.dep.notify(),a})});var mo=Object.getOwnPropertyNames(vo),yo=!0,go=function(e){this.value=e,this.dep=new uo,this.vmCount=0,T(e,"__ob__",this),Array.isArray(e)?(qa?L(e,vo):F(e,vo,mo),this.observeArray(e)):this.walk(e)};go.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)$(e,t[n])},go.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)U(e[t])};var bo=Ua.optionMergeStrategies;bo.data=function(e,t,n){return n?V(e,t,n):t&&"function"!=typeof t?e:V(e,t)},Fa.forEach(function(e){bo[e]=Y}),La.forEach(function(e){bo[e+"s"]=G}),bo.watch=function(e,t,n,r){if(e===Xa&&(e=void 0),t===Xa&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};k(i,e);for(var a in t){var o=i[a],s=t[a];o&&!Array.isArray(o)&&(o=[o]),i[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return i},bo.props=bo.methods=bo.inject=bo.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return k(i,e),t&&k(i,t),i},bo.provide=V;var _o,wo=function(e,t){return void 0===t?e:t},ko=!1,xo=[],So=!1;if("undefined"!=typeof Promise&&M(Promise)){var Eo=Promise.resolve();_o=function(){Eo.then(ce),Qa&&setTimeout(S)},ko=!0}else if(Wa||"undefined"==typeof MutationObserver||!M(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())_o=void 0!==n&&M(n)?function(){n(ce)}:function(){setTimeout(ce,0)};else{var Co=1,Po=new MutationObserver(ce),Oo=document.createTextNode(String(Co));Po.observe(Oo,{characterData:!0}),_o=function(){Co=(Co+1)%2,Oo.data=String(Co)},ko=!0}var To=new no,Ao=g(function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}});He(Ve.prototype);var Mo,Io={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;Io.prepatch(n,n)}else{(e.componentInstance=Qe(e,Lo)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions;gt(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,kt(n,"mounted")),e.data.keepAlive&&(t._isMounted?Ct(n):_t(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?wt(t,!0):t.$destroy())}},Do=Object.keys(Io),Ro=1,jo=2,No=null,Lo=null,Fo=[],Uo=[],$o={},Bo=!1,qo=!1,zo=0,Ho=0,Vo=Date.now;if(za&&!Wa){var Yo=window.performance;Yo&&"function"==typeof Yo.now&&Vo()>document.createEvent("Event").timeStamp&&(Vo=function(){return Yo.now()})}var Wo=0,Go=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Wo,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new no,this.newDepIds=new no,this.expression="","function"==typeof t?this.getter=t:(this.getter=A(t),this.getter||(this.getter=S)),this.value=this.lazy?void 0:this.get()};Go.prototype.get=function(){I(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;ae(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&fe(e),D(),this.cleanupDeps()}return e},Go.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Go.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Go.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ot(this)},Go.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||u(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){ae(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Go.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Go.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},Go.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Ko={enumerable:!0,configurable:!0,get:S,set:S},Qo={lazy:!0},Jo=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=Jo++,t._isVue=!0,e&&e._isComponent?Bt(t,e):t.$options=X(qt(t.constructor),e||{},t),t._renderProxy=t,t._self=t,mt(t),lt(t),it(t),kt(t,"beforeCreate"),xe(t),At(t),ke(t),kt(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(Ht),function(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=B,e.prototype.$delete=q,e.prototype.$watch=function(e,t,n){var r=this;if(c(t))return $t(r,e,t,n);n=n||{},n.user=!0;var i=new Go(r,e,t,n);if(n.immediate)try{t.call(r,i.value)}catch(e){ae(e,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(Ht),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var i=0,a=e.length;i<a;i++)r.$on(e[i],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){function n(){r.$off(e,n),t.apply(r,arguments)}var r=this;return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)n.$off(e[r],t);return n}var a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;for(var o,s=a.length;s--;)if((o=a[s])===t||o.fn===t){a.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?w(n):n;for(var r=w(arguments,1),i='event handler for "'+e+'"',a=0,o=n.length;a<o;a++)oe(n[a],t,r,t,i)}return t}}(Ht),function(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,a=vt(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),a(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){kt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||m(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),kt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Ht),function(e){He(e.prototype),e.prototype.$nextTick=function(e){return le(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,r=t._parentVnode;r&&(e.$scopedSlots=Pe(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;var i;try{No=e,i=n.call(e._renderProxy,e.$createElement)}catch(t){ae(t,e,"render"),i=e._vnode}finally{No=null}return Array.isArray(i)&&1===i.length&&(i=i[0]),i instanceof lo||(i=po()),i.parent=r,i}}(Ht);var Xo=[String,RegExp,Array],Zo={name:"keep-alive",abstract:!0,props:{include:Xo,exclude:Xo,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)en(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){Zt(e,function(e){return Xt(t,e)})}),this.$watch("exclude",function(t){Zt(e,function(e){return!Xt(t,e)})})},render:function(){var e=this.$slots.default,t=ct(e),n=t&&t.componentOptions;if(n){var r=Jt(n),i=this,a=i.include,o=i.exclude;if(a&&(!r||!Xt(a,r))||o&&r&&Xt(o,r))return t;var s=this,u=s.cache,c=s.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;u[l]?(t.componentInstance=u[l].componentInstance,m(c,l),c.push(l)):(u[l]=t,c.push(l),this.max&&c.length>parseInt(this.max)&&en(u,c[0],c,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},es={KeepAlive:Zo};!function(e){var t={};t.get=function(){return Ua},Object.defineProperty(e,"config",t),e.util={warn:oo,extend:k,mergeOptions:X,defineReactive:$},e.set=B,e.delete=q,e.nextTick=le,e.observable=function(e){return U(e),e},e.options=Object.create(null),La.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,k(e.options.components,es),Vt(e),Yt(e),Wt(e),Qt(e)}(Ht),Object.defineProperty(Ht.prototype,"$isServer",{get:ro}),Object.defineProperty(Ht.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ht,"FunctionalRenderContext",{value:Ve}),Ht.version="2.6.10";var ts,ns,rs,is,as,os,ss,us,cs,ls,fs=v("style,class"),ds=v("input,textarea,option,select,progress"),ps=function(e,t,n){return"value"===n&&ds(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},hs=v("contenteditable,draggable,spellcheck"),vs=v("events,caret,typing,plaintext-only"),ms=function(e,t){return ws(t)||"false"===t?"false":"contenteditable"===e&&vs(t)?t:"true"},ys=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),gs="http://www.w3.org/1999/xlink",bs=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},_s=function(e){return bs(e)?e.slice(6,e.length):""},ws=function(e){return null==e||!1===e},ks={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},xs=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ss=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Es=function(e){return"pre"===e},Cs=function(e){return xs(e)||Ss(e)},Ps=Object.create(null),Os=v("text,number,password,search,email,tel,url"),Ts=Object.freeze({createElement:dn,createElementNS:pn,createTextNode:hn,createComment:vn,insertBefore:mn,removeChild:yn,appendChild:gn,parentNode:bn,nextSibling:_n,tagName:wn,setTextContent:kn,setStyleScope:xn}),As={create:function(e,t){Sn(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Sn(e,!0),Sn(t))},destroy:function(e){Sn(e,!0)}},Ms=new lo("",{},[]),Is=["create","activate","update","remove","destroy"],Ds={create:On,update:On,destroy:function(e){On(e,Ms)}},Rs=Object.create(null),js=[As,Ds],Ns={create:Dn,update:Dn},Ls={create:Nn,update:Nn},Fs=/[\w).+\-_$\]]/,Us="__r",$s="__c",Bs=ko&&!(Ja&&Number(Ja[1])<=53),qs={create:vr,update:vr},zs={create:mr,update:mr},Hs=g(function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach(function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}),Vs=/^--/,Ys=/\s*!important$/,Ws=function(e,t,n){if(Vs.test(t))e.style.setProperty(t,n);else if(Ys.test(n))e.style.setProperty(Ia(t),n.replace(Ys,""),"important");else{var r=Ks(t);if(Array.isArray(n))for(var i=0,a=n.length;i<a;i++)e.style[r]=n[i];else e.style[r]=n}},Gs=["Webkit","Moz","ms"],Ks=g(function(e){if(ls=ls||document.createElement("div").style,"filter"!==(e=Ta(e))&&e in ls)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Gs.length;n++){var r=Gs[n]+t;if(r in ls)return r}}),Qs={create:xr,update:xr},Js=/\s+/,Xs=g(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),Zs=za&&!Ga,eu="transition",tu="animation",nu="transition",ru="transitionend",iu="animation",au="animationend";Zs&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(nu="WebkitTransition",ru="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(iu="WebkitAnimation",au="webkitAnimationEnd"));var ou=za?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()},su=/\b(transform|all)(,|$)/,uu=za?{create:Fr,activate:Fr,remove:function(e,t){!0!==e.data.show?jr(e,t):t()}}:{},cu=[Ns,Ls,qs,zs,Qs,uu],lu=cu.concat(js),fu=function(e){function t(e){return new lo(M.tagName(e).toLowerCase(),{},[],void 0,e)}function n(e,t){function n(){0==--n.listeners&&o(e)}return n.listeners=t,n}function o(e){var t=M.parentNode(e);i(t)&&M.removeChild(t,e)}function u(e,t,n,r,o,s,u){if(i(e.elm)&&i(s)&&(e=s[u]=j(e)),e.isRootInsert=!o,!c(e,t,n,r)){var l=e.data,f=e.children,h=e.tag;i(h)?(e.elm=e.ns?M.createElementNS(e.ns,h):M.createElement(h,e),y(e),p(e,f,t),i(l)&&m(e,t),d(n,e.elm,r)):a(e.isComment)?(e.elm=M.createComment(e.text),d(n,e.elm,r)):(e.elm=M.createTextNode(e.text),d(n,e.elm,r))}}function c(e,t,n,r){var o=e.data;if(i(o)){var s=i(e.componentInstance)&&o.keepAlive;if(i(o=o.hook)&&i(o=o.init)&&o(e,!1),i(e.componentInstance))return l(e,t),d(n,e.elm,r),a(s)&&f(e,t,n,r),!0}}function l(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,h(e)?(m(e,t),y(e)):(Sn(e),t.push(e))}function f(e,t,n,r){for(var a,o=e;o.componentInstance;)if(o=o.componentInstance._vnode,i(a=o.data)&&i(a=a.transition)){for(a=0;a<T.activate.length;++a)T.activate[a](Ms,o);t.push(o);break}d(n,e.elm,r)}function d(e,t,n){i(e)&&(i(n)?M.parentNode(n)===e&&M.insertBefore(e,t,n):M.appendChild(e,t))}function p(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r)u(t[r],n,e.elm,null,!0,t,r);else s(e.text)&&M.appendChild(e.elm,M.createTextNode(String(e.text)))}function h(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return i(e.tag)}function m(e,t){for(var n=0;n<T.create.length;++n)T.create[n](Ms,e);P=e.data.hook,i(P)&&(i(P.create)&&P.create(Ms,e),i(P.insert)&&t.push(e))}function y(e){var t;if(i(t=e.fnScopeId))M.setStyleScope(e.elm,t);else for(var n=e;n;)i(t=n.context)&&i(t=t.$options._scopeId)&&M.setStyleScope(e.elm,t),n=n.parent;i(t=Lo)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&M.setStyleScope(e.elm,t)}function g(e,t,n,r,i,a){for(;r<=i;++r)u(n[r],a,e,t,!1,n,r)}function b(e){var t,n,r=e.data;if(i(r))for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<T.destroy.length;++t)T.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)b(e.children[n])}function _(e,t,n,r){for(;n<=r;++n){var a=t[n];i(a)&&(i(a.tag)?(w(a),b(a)):o(a.elm))}}function w(e,t){if(i(t)||i(e.data)){var r,a=T.remove.length+1;for(i(t)?t.listeners+=a:t=n(e.elm,a),i(r=e.componentInstance)&&i(r=r._vnode)&&i(r.data)&&w(r,t),r=0;r<T.remove.length;++r)T.remove[r](e,t);i(r=e.data.hook)&&i(r=r.remove)?r(e,t):t()}else o(e.elm)}function k(e,t,n,a,o){for(var s,c,l,f,d=0,p=0,h=t.length-1,v=t[0],m=t[h],y=n.length-1,b=n[0],w=n[y],k=!o;d<=h&&p<=y;)r(v)?v=t[++d]:r(m)?m=t[--h]:En(v,b)?(S(v,b,a,n,p),v=t[++d],b=n[++p]):En(m,w)?(S(m,w,a,n,y),m=t[--h],w=n[--y]):En(v,w)?(S(v,w,a,n,y),k&&M.insertBefore(e,v.elm,M.nextSibling(m.elm)),v=t[++d],w=n[--y]):En(m,b)?(S(m,b,a,n,p),k&&M.insertBefore(e,m.elm,v.elm),m=t[--h],b=n[++p]):(r(s)&&(s=Pn(t,d,h)),c=i(b.key)?s[b.key]:x(b,t,d,h),r(c)?u(b,a,e,v.elm,!1,n,p):(l=t[c],En(l,b)?(S(l,b,a,n,p),t[c]=void 0,k&&M.insertBefore(e,l.elm,v.elm)):u(b,a,e,v.elm,!1,n,p)),b=n[++p]);d>h?(f=r(n[y+1])?null:n[y+1].elm,g(e,f,n,p,y,a)):p>y&&_(e,t,d,h)}function x(e,t,n,r){for(var a=n;a<r;a++){var o=t[a];if(i(o)&&En(e,o))return a}}function S(e,t,n,o,s,u){if(e!==t){i(t.elm)&&i(o)&&(t=o[s]=j(t));var c=t.elm=e.elm;if(a(e.isAsyncPlaceholder))return void(i(t.asyncFactory.resolved)?C(e.elm,t,n):t.isAsyncPlaceholder=!0);if(a(t.isStatic)&&a(e.isStatic)&&t.key===e.key&&(a(t.isCloned)||a(t.isOnce)))return void(t.componentInstance=e.componentInstance);var l,f=t.data;i(f)&&i(l=f.hook)&&i(l=l.prepatch)&&l(e,t);var d=e.children,p=t.children;if(i(f)&&h(t)){for(l=0;l<T.update.length;++l)T.update[l](e,t);i(l=f.hook)&&i(l=l.update)&&l(e,t)}r(t.text)?i(d)&&i(p)?d!==p&&k(c,d,p,n,u):i(p)?(i(e.text)&&M.setTextContent(c,""),g(c,null,p,0,p.length-1,n)):i(d)?_(c,d,0,d.length-1):i(e.text)&&M.setTextContent(c,""):e.text!==t.text&&M.setTextContent(c,t.text),i(f)&&i(l=f.hook)&&i(l=l.postpatch)&&l(e,t)}}function E(e,t,n){if(a(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}function C(e,t,n,r){var o,s=t.tag,u=t.data,c=t.children;if(r=r||u&&u.pre,t.elm=e,a(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(o=u.hook)&&i(o=o.init)&&o(t,!0),i(o=t.componentInstance)))return l(t,n),!0;if(i(s)){if(i(c))if(e.hasChildNodes())if(i(o=u)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==e.innerHTML)return!1}else{for(var f=!0,d=e.firstChild,h=0;h<c.length;h++){if(!d||!C(d,c[h],n,r)){f=!1;break}d=d.nextSibling}if(!f||d)return!1}else p(t,c,n);if(i(u)){var v=!1;for(var y in u)if(!I(y)){v=!0,m(t,n);break}!v&&u.class&&fe(u.class)}}else e.data!==t.text&&(e.data=t.text);return!0}var P,O,T={},A=e.modules,M=e.nodeOps;for(P=0;P<Is.length;++P)for(T[Is[P]]=[],O=0;O<A.length;++O)i(A[O][Is[P]])&&T[Is[P]].push(A[O][Is[P]]);var I=v("attrs,class,staticClass,staticStyle,key");return function(e,n,o,s){if(r(n))return void(i(e)&&b(e));var c=!1,l=[];if(r(e))c=!0,u(n,l);else{var f=i(e.nodeType);if(!f&&En(e,n))S(e,n,l,null,null,s);else{if(f){if(1===e.nodeType&&e.hasAttribute(Na)&&(e.removeAttribute(Na),o=!0),a(o)&&C(e,n,l))return E(n,l,!0),e;e=t(e)}var d=e.elm,p=M.parentNode(d);if(u(n,l,d._leaveCb?null:p,M.nextSibling(d)),i(n.parent))for(var v=n.parent,m=h(n);v;){for(var y=0;y<T.destroy.length;++y)T.destroy[y](v);if(v.elm=n.elm,m){for(var g=0;g<T.create.length;++g)T.create[g](Ms,v);var w=v.data.hook.insert;if(w.merged)for(var k=1;k<w.fns.length;k++)w.fns[k]()}else Sn(v);v=v.parent}i(p)?_(p,[e],0,0):i(e.tag)&&b(e)}}return E(n,l,c),n.elm}}({nodeOps:Ts,modules:lu});Ga&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Vr(e,"input")});var du={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ve(n,"postpatch",function(){du.componentUpdated(e,t,n)}):Ur(e,t,n.context),e._vOptions=[].map.call(e.options,qr)):("textarea"===n.tag||Os(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",zr),e.addEventListener("compositionend",Hr),e.addEventListener("change",Hr),Ga&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Ur(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,qr);if(i.some(function(e,t){return!E(e,r[t])})){(e.multiple?t.value.some(function(e){return Br(e,i)}):t.value!==t.oldValue&&Br(t.value,i))&&Vr(e,"change")}}}},pu={bind:function(e,t,n){var r=t.value;n=Yr(n);var i=n.data&&n.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,Rr(n,function(){e.style.display=a})):e.style.display=r?a:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&(n=Yr(n),n.data&&n.data.transition?(n.data.show=!0,r?Rr(n,function(){e.style.display=e.__vOriginalDisplay}):jr(n,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},hu={model:du,show:pu},vu={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},mu=function(e){return e.tag||ut(e)},yu=function(e){return"show"===e.name},gu={name:"transition",props:vu,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(mu),n.length)){var r=this.mode,i=n[0];if(Qr(this.$vnode))return i;var a=Wr(i);if(!a)return i;if(this._leaving)return Kr(e,i);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var u=(a.data||(a.data={})).transition=Gr(this),c=this._vnode,l=Wr(c);if(a.data.directives&&a.data.directives.some(yu)&&(a.data.show=!0),l&&l.data&&!Jr(a,l)&&!ut(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=k({},u);if("out-in"===r)return this._leaving=!0,ve(f,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Kr(e,i);if("in-out"===r){if(ut(a))return c;var d,p=function(){d()};ve(u,"afterEnter",p),ve(u,"enterCancelled",p),ve(f,"delayLeave",function(e){d=e})}}return i}}},bu=k({tag:String,moveClass:String},vu);delete bu.mode;var _u={props:bu,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=vt(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=Gr(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),n[u.key]=u,(u.data||(u.data={})).transition=o;else;}if(r){for(var c=[],l=[],f=0;f<r.length;f++){var d=r[f];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?c.push(d):l.push(d)}this.kept=e(t,null,c),this.removed=l}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Xr),e.forEach(Zr),e.forEach(ei),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,r=n.style;Or(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ru,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ru,e),n._moveCb=null,Tr(n,t))})}}))},methods:{hasMove:function(e,t){if(!Zs)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){Er(n,e)}),Sr(n,t),n.style.display="none",this.$el.appendChild(n);var r=Mr(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}},wu={Transition:gu,TransitionGroup:_u};Ht.config.mustUseProp=ps,Ht.config.isReservedTag=Cs,Ht.config.isReservedAttr=fs,Ht.config.getTagNamespace=cn,Ht.config.isUnknownElement=ln,k(Ht.options.directives,hu),k(Ht.options.components,wu),Ht.prototype.__patch__=za?fu:S,Ht.prototype.$mount=function(e,t){return e=e&&za?fn(e):void 0,yt(this,e,t)},za&&setTimeout(function(){Ua.devtools&&io&&io.emit("init",Ht)},0);var ku,xu,Su,Eu,Cu,Pu,Ou,Tu,Au,Mu,Iu,Du,Ru,ju=/\{\{((?:.|\r?\n)+?)\}\}/g,Nu=/[-.*+?^${}()|[\]\/\\]/g,Lu=g(function(e){var t=e[0].replace(Nu,"\\$&"),n=e[1].replace(Nu,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")}),Fu={staticKeys:["staticClass"],transformNode:ni,genData:ri},Uu={staticKeys:["staticStyle"],transformNode:ii,genData:ai},$u={decode:function(e){return ku=ku||document.createElement("div"),ku.innerHTML=e,ku.textContent}},Bu=v("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),qu=v("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),zu=v("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Hu=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Vu=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Yu="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+$a.source+"]*",Wu="((?:"+Yu+"\\:)?"+Yu+")",Gu=new RegExp("^<"+Wu),Ku=/^\s*(\/?)>/,Qu=new RegExp("^<\\/"+Wu+"[^>]*>"),Ju=/^<!DOCTYPE [^>]+>/i,Xu=/^<!\--/,Zu=/^<!\[/,ec=v("script,style,textarea",!0),tc={},nc={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},rc=/&(?:lt|gt|quot|amp|#39);/g,ic=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,ac=v("pre,textarea",!0),oc=function(e,t){return e&&ac(e)&&"\n"===t[0]},sc=/^@|^v-on:/,uc=/^v-|^@|^:/,cc=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,lc=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,fc=/^\(|\)$/g,dc=/^\[.*\]$/,pc=/:(.*)$/,hc=/^:|^\.|^v-bind:/,vc=/\.[^.\]]+(?=[^\]]*$)/g,mc=/^v-slot(:|$)|^#/,yc=/[\r\n]/,gc=/\s+/g,bc=g($u.decode),_c="_empty_",wc=/^xmlns:NS\d+/,kc=/^NS\d+:/,xc={preTransformNode:Di},Sc=[Fu,Uu,xc],Ec={model:or,text:ji,html:Ni},Cc={expectHTML:!0,modules:Sc,directives:Ec,isPreTag:Es,isUnaryTag:Bu,mustUseProp:ps,canBeLeftOpenTag:qu,isReservedTag:Cs,getTagNamespace:cn,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}(Sc)},Pc=g(Fi),Oc=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*(?:[\w$]+)?\s*\(/,Tc=/\([^)]*?\);*$/,Ac=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Mc={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Ic={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Dc=function(e){return"if("+e+")return null;"},Rc={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Dc("$event.target !== $event.currentTarget"),ctrl:Dc("!$event.ctrlKey"),shift:Dc("!$event.shiftKey"),alt:Dc("!$event.altKey"),meta:Dc("!$event.metaKey"),left:Dc("'button' in $event && $event.button !== 0"),middle:Dc("'button' in $event && $event.button !== 1"),right:Dc("'button' in $event && $event.button !== 2")},jc={on:Wi,bind:Gi,cloak:S},Nc=function(e){this.options=e,this.warn=e.warn||Un,this.transforms=$n(e.modules,"transformCode"),this.dataGenFns=$n(e.modules,"genData"),this.directives=k(k({},jc),e.directives);var t=e.isReservedTag||Ra;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1},Lc=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),function(e){return function(t){function n(n,r){var i=Object.create(t),a=[],o=[],s=function(e,t,n){(n?o:a).push(e)};if(r){r.modules&&(i.modules=(t.modules||[]).concat(r.modules)),r.directives&&(i.directives=k(Object.create(t.directives||null),r.directives));for(var u in r)"modules"!==u&&"directives"!==u&&(i[u]=r[u])}i.warn=s;var c=e(n.trim(),i);return c.errors=a,c.tips=o,c}return{compile:n,compileToFunctions:_a(n)}}}(function(e,t){var n=ci(e.trim(),t);!1!==t.optimize&&Li(n,t);var r=Ki(n,t);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}})),Fc=Lc(Cc),Uc=(Fc.compile,Fc.compileToFunctions),$c=!!za&&wa(!1),Bc=!!za&&wa(!0),qc=g(function(e){var t=fn(e);return t&&t.innerHTML}),zc=Ht.prototype.$mount;Ht.prototype.$mount=function(e,t){if((e=e&&fn(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=qc(r));else{if(!r.nodeType)return this;r=r.innerHTML}else e&&(r=ka(e));if(r){var i=Uc(r,{outputSourceRange:!1,shouldDecodeNewlines:$c,shouldDecodeNewlinesForHref:Bc,delimiters:n.delimiters,comments:n.comments},this),a=i.render,o=i.staticRenderFns;n.render=a,n.staticRenderFns=o}}return zc.call(this,e,t)},Ht.compile=Uc,t.default=Ht}.call(t,n(46),n(462).setImmediate)},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r.constructor=t,t.prototype=r,t}t.__esModule=!0,t.inherits=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkPhone=t.startPlaybook=t.updateConversationMetadata=t.getConversationData=t.fetchAgentIdentity=t.fetchCustomizations=t.phoneHome=t.fetchToken=t.HTTP=void 0;var i=n(482),a=r(i),o=n(222),s=r(o),u=n(537),c=r(u),l=n(30),f={"X-CSRFToken":l.CSRF_TOKEN};l.SIMULATOR_MODE&&(f["X-Simulate"]="True");var d=t.HTTP=a.default.create({headers:f,baseURL:l.API_BASE_URL,timeout:1e4});d.interceptors.response.use(function(e){return s.default.dispatch("clearConnectionErrorMode"),e},function(e){return void 0===e.response&&"Network Error"===e.message&&s.default.dispatch("activateConnectionErrorMode"),Promise.reject(e)});t.fetchToken=function(e){var t=c.default["rest:chat:chchannel-list"]();return d.post(t,e)},t.phoneHome=function(){var e=c.default.ok_response();return d.get(e)},t.fetchCustomizations=function(){var e=c.default["rest:chat:chservice-detail"](l.SERVICE_SID);return d.get(e)},t.fetchAgentIdentity=function(e){var t=c.default["rest:chat:chidentity-detail"](e),n={agents:"True"};return d.get(t,{params:n})},t.getConversationData=function(e){var t=c.default["rest:chat:chconversation-detail"](e);return d.get(t)},t.updateConversationMetadata=function(e,t){var n=c.default["rest:chat:chconversation-list"]();return d.patch(n+"last/",{channel_id:e,extra_data:t})},t.startPlaybook=function(e,t){var n=c.default["rest:chat:playbookinstance-list"](e);return d.post(n,{playbook:t,is_simulation:l.SIMULATOR_MODE})},t.checkPhone=function(e){var t=c.default["rest:validators:check-phone"]();return d.post(t,{phone:e})}},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(508);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(559);Object.defineProperty(t,"BrowserSupportMixin",{enumerable:!0,get:function(){return r(i).default}});var a=n(560);Object.defineProperty(t,"ColorCustomizationMixin",{enumerable:!0,get:function(){return r(a).default}});var o=n(562);Object.defineProperty(t,"PageTitleMixin",{enumerable:!0,get:function(){return r(o).default}});var s=n(563);Object.defineProperty(t,"PlaystepStateMixin",{enumerable:!0,get:function(){return r(s).default}})},function(e,t,n){var r=n(228),i=n(162);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(159),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){},function(e,t,n){var r=n(93),i=n(20)("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=o(t=Object(e),i))?n:a?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(25),a=r(i),o=n(5),s=r(o),u=n(6),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(t,n,r,i){(0,s.default)(this,e),this.state={prevToken:r,nextToken:i,source:n,items:t}}return(0,c.default)(e,[{key:"nextPage",value:function(){return this.hasNextPage?this.state.source(this.state.nextToken):a.default.reject(new Error("No next page"))}},{key:"prevPage",value:function(){return this.hasPrevPage?this.state.source(this.state.prevToken):a.default.reject(new Error("No previous page"))}},{key:"hasNextPage",get:function(){return!!this.state.nextToken}},{key:"hasPrevPage",get:function(){return!!this.state.prevToken}},{key:"items",get:function(){return this.state.items}}]),e}();t.RestPaginator=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t){r(this,e),this.base=t,this.args=new Array,this.paths=new Array}return i(e,[{key:"pathSegment",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"queryParam",value:function(e,t){return void 0!==t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),e}();t.UriBuilder=a},function(e,t,n){var r=n(4),i=n(1).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){t.f=n(7)},function(e,t,n){var r=n(102)("keys"),i=n(60);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(4),i=n(3),a=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(35)(Function.call,n(38).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(4),i=n(132).set;e.exports=function(e,t,n){var a,o=t.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&r(a)&&i&&i(e,a),e}},function(e,t,n){"use strict";var r=n(37),i=n(48);e.exports=function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(37),i=n(48);e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(61),i=n(0),a=n(23),o=n(27),s=n(79),u=n(194),c=n(77),l=n(66),f=n(7)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,v,m,y){u(n,t,h);var g,b,_,w=function(e){if(!d&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",x="values"==v,S=!1,E=e.prototype,C=E[f]||E["@@iterator"]||v&&E[v],P=C||w(v),O=v?x?w("entries"):P:void 0,T="Array"==t?E.entries||C:C;if(T&&(_=l(T.call(new e)))!==Object.prototype&&_.next&&(c(_,k,!0),r||"function"==typeof _[f]||o(_,f,p)),x&&C&&"values"!==C.name&&(S=!0,P=function(){return C.call(this)}),r&&!y||!d&&!S&&E[f]||o(E,f,P),s[t]=P,s[k]=p,v)if(g={values:x?P:w("values"),keys:m?P:w("keys"),entries:O},y)for(b in g)b in E||a(E,b,g[b]);else i(i.P+i.F*(d||S),t,g);return g}},function(e,t,n){var r=n(141),i=n(48);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(4),i=n(47),a=n(7)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(7)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(79),i=n(7)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){"use strict";var r=n(14),i=n(59);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(90),i=n(7)("iterator"),a=n(79);e.exports=n(13).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){"use strict";var r=n(21),i=n(63),a=n(10);e.exports=function(e){for(var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(67),i=n(199),a=n(79),o=n(28);e.exports=n(139)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r=n(107),i=RegExp.prototype.exec,a=String.prototype.replace,o=i,s=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=void 0!==/()??/.exec("")[1];(s||u)&&(o=function(e){var t,n,o,c,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),s&&(t=l.lastIndex),o=i.call(l,e),s&&o&&(l.lastIndex=l.global?o.index+o[0].length:t),u&&o&&o.length>1&&a.call(o[0],n,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)}),o}),e.exports=o},function(e,t,n){"use strict";var r=n(138)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r,i,a,o=n(35),s=n(188),u=n(131),c=n(127),l=n(1),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete y[e]},"process"==n(47)(f)?r=function(e){f.nextTick(o(g,e,1))}:v&&v.now?r=function(e){v.now(o(g,e,1))}:h?(i=new h,a=i.port2,i.port1.onmessage=b,r=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(o(g,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){"use strict";function r(e,t,n){var r,i,a,o=new Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?F(2,-24)-F(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for(e=L(e),e!=e||e===j?(i=e!=e?1:0,r=u):(r=U($(e)/B),e*(a=F(2,-r))<1&&(r--,a*=2),e+=r+c>=1?l/a:l*F(2,1-c),e*a>=2&&(r++,a/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*a-1)*F(2,t),r+=c):(i=e*F(2,c-1)*F(2,t),r=0));t>=8;o[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;o[f++]=255&r,r/=256,s-=8);return o[--f]|=128*d,o}function i(e,t,n){var r,i=8*n-t-1,a=(1<<i)-1,o=a>>1,s=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===l)l=1-o;else{if(l===a)return r?NaN:c?-j:j;r+=F(2,t),l-=o}return(c?-1:1)*r*F(2,l-t)}function a(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function u(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function c(e){return r(e,52,8)}function l(e){return r(e,23,4)}function f(e,t,n){C(e[T],t,{get:function(){return this[n]}})}function d(e,t,n,r){var i=+n,a=S(i);if(a+t>e[z])throw R(A);var o=e[q]._b,s=a+e[H],u=o.slice(s,s+t);return r?u:u.reverse()}function p(e,t,n,r,i,a){var o=+n,s=S(o);if(s+t>e[z])throw R(A);for(var u=e[q]._b,c=s+e[H],l=r(+i),f=0;f<t;f++)u[c+f]=l[a?f:t-f-1]}var h=n(1),v=n(16),m=n(61),y=n(113),g=n(27),b=n(82),_=n(2),w=n(81),k=n(37),x=n(10),S=n(207),E=n(65).f,C=n(14).f,P=n(146),O=n(77),T="prototype",A="Wrong index!",M=h.ArrayBuffer,I=h.DataView,D=h.Math,R=h.RangeError,j=h.Infinity,N=M,L=D.abs,F=D.pow,U=D.floor,$=D.log,B=D.LN2,q=v?"_b":"buffer",z=v?"_l":"byteLength",H=v?"_o":"byteOffset";if(y.ABV){if(!_(function(){M(1)})||!_(function(){new M(-1)})||_(function(){return new M,new M(1.5),new M(NaN),"ArrayBuffer"!=M.name})){M=function(e){return w(this,M),new N(S(e))};for(var V,Y=M[T]=N[T],W=E(N),G=0;W.length>G;)(V=W[G++])in M||g(M,V,N[V]);m||(Y.constructor=M)}var K=new I(new M(2)),Q=I[T].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||b(I[T],{setInt8:function(e,t){Q.call(this,e,t<<24>>24)},setUint8:function(e,t){Q.call(this,e,t<<24>>24)}},!0)}else M=function(e){w(this,M,"ArrayBuffer");var t=S(e);this._b=P.call(new Array(t),0),this[z]=t},I=function(e,t,n){w(this,I,"DataView"),w(e,M,"DataView");var r=e[z],i=k(t);if(i<0||i>r)throw R("Wrong offset!");if(n=void 0===n?r-i:x(n),i+n>r)throw R("Wrong length!");this[q]=e,this[H]=i,this[z]=n},v&&(f(M,"byteLength","_l"),f(I,"buffer","_b"),f(I,"byteLength","_l"),f(I,"byteOffset","_o")),b(I[T],{getInt8:function(e){return d(this,1,e)[0]<<24>>24},getUint8:function(e){return d(this,1,e)[0]},getInt16:function(e){var t=d(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=d(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return a(d(this,4,e,arguments[1]))},getUint32:function(e){return a(d(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return i(d(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return i(d(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,o,t)},setUint8:function(e,t){p(this,1,e,o,t)},setInt16:function(e,t){p(this,2,e,s,t,arguments[2])},setUint16:function(e,t){p(this,2,e,s,t,arguments[2])},setInt32:function(e,t){p(this,4,e,u,t,arguments[2])},setUint32:function(e,t){p(this,4,e,u,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,l,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,c,t,arguments[2])}});O(M,"ArrayBuffer"),O(I,"DataView"),g(I[T],y.VIEW,!0),t.ArrayBuffer=M,t.DataView=I},function(e,t,n){var r=n(22),i=n(17).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(22);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";function r(e){var t=e?{v:e}:{};return(0,a.inherits)(o,(0,i.createTokenClass)(),t)}t.__esModule=!0,t.AMPERSAND=t.CLOSEPAREN=t.CLOSEANGLEBRACKET=t.CLOSEBRACKET=t.CLOSEBRACE=t.OPENPAREN=t.OPENANGLEBRACKET=t.OPENBRACKET=t.OPENBRACE=t.WS=t.TLD=t.SYM=t.UNDERSCORE=t.SLASH=t.MAILTO=t.PROTOCOL=t.QUERY=t.POUND=t.PLUS=t.NUM=t.NL=t.LOCALHOST=t.PUNCTUATION=t.DOT=t.COLON=t.AT=t.DOMAIN=t.Base=void 0;var i=n(216),a=n(115),o=(0,i.createTokenClass)();o.prototype={toString:function(){return this.v+""}};var s=r(),u=r("@"),c=r(":"),l=r("."),f=r(),d=r(),p=r("\n"),h=r(),v=r("+"),m=r("#"),y=r(),g=r("mailto:"),b=r("?"),_=r("/"),w=r("_"),k=r(),x=r(),S=r(),E=r("{"),C=r("["),P=r("<"),O=r("("),T=r("}"),A=r("]"),M=r(">"),I=r(")"),D=r("&");t.Base=o,t.DOMAIN=s,t.AT=u,t.COLON=c,t.DOT=l,t.PUNCTUATION=f,t.LOCALHOST=d,t.NL=p,t.NUM=h,t.PLUS=v,t.POUND=m,t.QUERY=b,t.PROTOCOL=y,t.MAILTO=g,t.SLASH=_,t.UNDERSCORE=w,t.SYM=k,t.TLD=x,t.WS=S,t.OPENBRACE=E,t.OPENBRACKET=C,t.OPENANGLEBRACKET=P,t.OPENPAREN=O,t.CLOSEBRACE=T,t.CLOSEBRACKET=A,t.CLOSEANGLEBRACKET=M,t.CLOSEPAREN=I,t.AMPERSAND=D},function(e,t,n){"use strict";(function(t){function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i=n(29),a=n(486),o={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(218):void 0!==t&&(e=n(218)),e}(),transformRequest:[function(e,t){return a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(e){s.headers[e]={}}),i.forEach(["post","put","patch"],function(e){s.headers[e]=i.merge(o)}),e.exports=s}).call(t,n(214))},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(93);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(161)("keys"),i=n(121);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(8),i=n(17),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(94)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(94),i=n(15),a=n(229),o=n(53),s=n(84),u=n(587),c=n(97),l=n(231),f=n(20)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,v,m,y){u(n,t,h);var g,b,_,w=function(e){if(!d&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",x="values"==v,S=!1,E=e.prototype,C=E[f]||E["@@iterator"]||v&&E[v],P=C||w(v),O=v?x?w("entries"):P:void 0,T="Array"==t?E.entries||C:C;if(T&&(_=l(T.call(new e)))!==Object.prototype&&_.next&&(c(_,k,!0),r||"function"==typeof _[f]||o(_,f,p)),x&&C&&"values"!==C.name&&(S=!0,P=function(){return C.call(this)}),r&&!y||!d&&!S&&E[f]||o(E,f,P),s[t]=P,s[k]=p,v)if(g={values:x?P:w("values"),keys:m?P:w("keys"),entries:O},y)for(b in g)b in E||a(E,b,g[b]);else i(i.P+i.F*(d||S),t,g);return g}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(124),i=n(20)("iterator"),a=n(84);e.exports=n(8).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(69);e.exports.f=function(e){return new r(e)}},function(e,t,n){var r=n(53);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){t.f=n(20)},function(e,t,n){var r=n(121)("meta"),i=n(22),a=n(70),o=n(33).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(54)(function(){return u(Object.preventExtensions({}))}),l=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!a(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return c&&h.NEED&&u(e)&&!a(e,r)&&l(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){var r=n(17),i=n(8),a=n(94),o=n(169),s=n(33).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){e.exports={default:n(627),__esModule:!0}},function(e,t,n){var r=n(22);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(659);t.Init=r.Init;var i=n(662);t.InitReply=i.InitReply;var a=n(663);t.Update=a.Update;var o=n(664);t.Message=o.Message;var s=n(665);t.Reply=s.Reply;var u=n(666);t.Close=u.Close},function(e,t,n){(function(e,r){var i;(function(){"use strict";function a(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=u(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function s(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=w)for(;++n<r;)t(e[n],n,e);else c(e,t)}function u(e){return e=h(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:a(e)}function c(e,t){for(var n in e)S.call(e,n)&&t(e[n],n,e)}function l(e){return null==e?a(e):E.call(e).slice(8,-1)}function f(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function d(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function p(e,t){var n=null;return s(e,function(r,i){n=t(n,r,i,e)}),n}function h(e){return String(e).replace(/^ +| +$/g,"")}function v(e){function t(t){return p(t,function(t,n){var r=n.pattern||d(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=u(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function n(){return this.description||""}var r=y,i=e&&"object"==typeof e&&"String"!=l(e);i&&(r=e,e=null);var a=r.navigator||{},s=a.userAgent||"";e||(e=s);var m,g,b=i?!!a.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(E.toString()),_=i?"Object":"ScriptBridgingProxyObject",w=i?"Object":"Environment",x=i&&r.java?"JavaPackage":l(r.java),S=i?"Object":"RuntimeObject",C=/\bJava/.test(x)&&r.java,P=C&&l(r.environment)==w,O=C?"a":"α",T=C?"b":"β",A=r.document||{},M=r.operamini||r.opera,I=k.test(I=i&&M?M["[[Class]]"]:l(M))?I:M=null,D=e,R=[],j=null,N=e==s,L=N&&M&&"function"==typeof M.version&&M.version(),F=function(t){return p(t,function(t,n){return t||RegExp("\\b"+(n.pattern||d(n))+"\\b","i").exec(e)&&(n.label||n)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),U=function(t){return p(t,function(t,n){return t||RegExp("\\b"+(n.pattern||d(n))+"\\b","i").exec(e)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),$=t([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),B=function(t){return p(t,function(t,n,r){return t||(n[$]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec($)]||RegExp("\\b"+d(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),q=function(t){return p(t,function(t,n){var r=n.pattern||d(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=o(t,r,n.label||n)),t})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(F&&(F=[F]),B&&!$&&($=t([B])),(m=/\bGoogle TV\b/.exec($))&&($=m[0]),/\bSimulator\b/i.test(e)&&($=($?$+" ":"")+"Simulator"),"Opera Mini"==U&&/\bOPiOS\b/.test(e)&&R.push("running in Turbo/Uncompressed mode"),"IE"==U&&/\blike iPhone OS\b/.test(e)?(m=v(e.replace(/like iPhone OS/,"")),B=m.manufacturer,$=m.product):/^iP/.test($)?(U||(U="Safari"),q="iOS"+((m=/ OS ([\d_]+)/i.exec(e))?" "+m[1].replace(/_/g,"."):"")):"Konqueror"!=U||/buntu/i.test(q)?B&&"Google"!=B&&(/Chrome/.test(U)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test($))||/\bAndroid\b/.test(q)&&/^Chrome/.test(U)&&/\bVersion\//i.test(e)?(U="Android Browser",q=/\bAndroid\b/.test(q)?q:"Android"):"Silk"==U?(/\bMobi/i.test(e)||(q="Android",R.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&R.unshift("accelerated")):"PaleMoon"==U&&(m=/\bFirefox\/([\d.]+)\b/.exec(e))?R.push("identifying as Firefox "+m[1]):"Firefox"==U&&(m=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(q||(q="Firefox OS"),$||($=m[1])):!U||(m=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(U))?(U&&!$&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(m+"/")+8))&&(U=null),(m=$||B||q)&&($||B||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(q))&&(U=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(q)?q:m)+" Browser")):"Electron"==U&&(m=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&R.push("Chromium "+m):q="Kubuntu",L||(L=function(t){return p(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",d(U),"(?:Firefox|Minefield|NetFront)"])),(m="iCab"==F&&parseFloat(L)>3&&"WebKit"||/\bOpera\b/.test(U)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(F)&&"WebKit"||!F&&/\bMSIE\b/i.test(e)&&("Mac OS"==q?"Tasman":"Trident")||"WebKit"==F&&/\bPlayStation\b(?! Vita\b)/i.test(U)&&"NetFront")&&(F=[m]),"IE"==U&&(m=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(U+=" Mobile",q="Windows Phone "+(/\+$/.test(m)?m:m+".x"),R.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(U="IE Mobile",q="Windows Phone 8.x",R.unshift("desktop mode"),L||(L=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=U&&"Trident"==F&&(m=/\brv:([\d.]+)/.exec(e))&&(U&&R.push("identifying as "+U+(L?" "+L:"")),U="IE",L=m[1]),N){if(f(r,"global"))if(C&&(m=C.lang.System,D=m.getProperty("os.arch"),q=q||m.getProperty("os.name")+" "+m.getProperty("os.version")),P){try{L=r.require("ringo/engine").version.join("."),U="RingoJS"}catch(e){(m=r.system)&&m.global.system==r.system&&(U="Narwhal",q||(q=m[0].os||null))}U||(U="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(m=r.process)&&("object"==typeof m.versions&&("string"==typeof m.versions.electron?(R.push("Node "+m.versions.node),U="Electron",L=m.versions.electron):"string"==typeof m.versions.nw&&(R.push("Chromium "+L,"Node "+m.versions.node),U="NW.js",L=m.versions.nw)),U||(U="Node.js",D=m.arch,q=m.platform,L=/[\d.]+/.exec(m.version),L=L?L[0]:null));else l(m=r.runtime)==_?(U="Adobe AIR",q=m.flash.system.Capabilities.os):l(m=r.phantom)==S?(U="PhantomJS",L=(m=m.version||null)&&m.major+"."+m.minor+"."+m.patch):"number"==typeof A.documentMode&&(m=/\bTrident\/(\d+)/i.exec(e))?(L=[L,A.documentMode],(m=+m[1]+4)!=L[1]&&(R.push("IE "+L[1]+" mode"),F&&(F[1]=""),L[1]=m),L="IE"==U?String(L[1].toFixed(1)):L[0]):"number"==typeof A.documentMode&&/^(?:Chrome|Firefox)\b/.test(U)&&(R.push("masking as "+U+" "+L),U="IE",L="11.0",F=["Trident"],q="Windows");q=q&&u(q)}if(L&&(m=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(L)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(N&&a.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(j=/b/i.test(m)?"beta":"alpha",L=L.replace(RegExp(m+"\\+?$"),"")+("beta"==j?T:O)+(/\d+\+?/.exec(m)||"")),"Fennec"==U||"Firefox"==U&&/\b(?:Android|Firefox OS)\b/.test(q))U="Firefox Mobile";else if("Maxthon"==U&&L)L=L.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test($))"Xbox 360"==$&&(q=null),"Xbox 360"==$&&/\bIEMobile\b/.test(e)&&R.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(U)&&(!U||$||/Browser|Mobi/.test(U))||"Windows CE"!=q&&!/Mobi/i.test(e))if("IE"==U&&N)try{null===r.external&&R.unshift("platform preview")}catch(e){R.unshift("embedded")}else(/\bBlackBerry\b/.test($)||/\bBB10\b/.test(e))&&(m=(RegExp($.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||L)?(m=[m,/BB10/.test(e)],q=(m[1]?($=null,B="BlackBerry"):"Device Software")+" "+m[0],L=null):this!=c&&"Wii"!=$&&(N&&M||/Opera/.test(U)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==U&&/\bOS X (?:\d+\.){2,}/.test(q)||"IE"==U&&(q&&!/^Win/.test(q)&&L>5.5||/\bWindows XP\b/.test(q)&&L>8||8==L&&!/\bTrident\b/.test(e)))&&!k.test(m=v.call(c,e.replace(k,"")+";"))&&m.name&&(m="ing as "+m.name+((m=m.version)?" "+m:""),k.test(U)?(/\bIE\b/.test(m)&&"Mac OS"==q&&(q=null),m="identify"+m):(m="mask"+m,U=I?u(I.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(m)&&(q=null),N||(L=null)),F=["Presto"],R.push(m));else U+=" Mobile";(m=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(m=[parseFloat(m.replace(/\.(\d)$/,".0$1")),m],"Safari"==U&&"+"==m[1].slice(-1)?(U="WebKit Nightly",j="alpha",L=m[1].slice(0,-1)):L!=m[1]&&L!=(m[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(L=null),m[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==m[0]&&537.36==m[2]&&parseFloat(m[1])>=28&&"WebKit"==F&&(F=["Blink"]),N&&(b||m[1])?(F&&(F[1]="like Chrome"),m=m[1]||(m=m[0],m<530?1:m<532?2:m<532.05?3:m<533?4:m<534.03?5:m<534.07?6:m<534.1?7:m<534.13?8:m<534.16?9:m<534.24?10:m<534.3?11:m<535.01?12:m<535.02?"13+":m<535.07?15:m<535.11?16:m<535.19?17:m<536.05?18:m<536.1?19:m<537.01?20:m<537.11?"21+":m<537.13?23:m<537.18?24:m<537.24?25:m<537.36?26:"Blink"!=F?"27":"28")):(F&&(F[1]="like Safari"),m=m[0],m=m<400?1:m<500?2:m<526?3:m<533?4:m<534?"4+":m<535?5:m<537?6:m<538?7:m<601?8:"8"),F&&(F[1]+=" "+(m+="number"==typeof m?".x":/[.+]/.test(m)?"":"+")),"Safari"==U&&(!L||parseInt(L)>45)&&(L=m)),"Opera"==U&&(m=/\bzbov|zvav$/.exec(q))?(U+=" ",R.unshift("desktop mode"),"zvav"==m?(U+="Mini",L=null):U+="Mobile",q=q.replace(RegExp(" *"+m+"$"),"")):"Safari"==U&&/\bChrome\b/.exec(F&&F[1])&&(R.unshift("desktop mode"),U="Chrome Mobile",L=null,/\bOS X\b/.test(q)?(B="Apple",q="iOS 4.3+"):q=null),L&&0==L.indexOf(m=/[\d.]+$/.exec(q))&&e.indexOf("/"+m+"-")>-1&&(q=h(q.replace(m,""))),F&&!/\b(?:Avant|Nook)\b/.test(U)&&(/Browser|Lunascape|Maxthon/.test(U)||"Safari"!=U&&/^iOS/.test(q)&&/\bSafari\b/.test(F[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(U)&&F[1])&&(m=F[F.length-1])&&R.push(m),R.length&&(R=["("+R.join("; ")+")"]),B&&$&&$.indexOf(B)<0&&R.push("on "+B),$&&R.push((/^on /.test(R[R.length-1])?"":"on ")+$),q&&(m=/ ([\d.+]+)$/.exec(q),g=m&&"/"==q.charAt(q.length-m[0].length-1),q={architecture:32,family:m&&!g?q.replace(m[0],""):q,version:m?m[1]:null,toString:function(){var e=this.version;return this.family+(e&&!g?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(m=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(D))&&!/\bi686\b/i.test(D)?(q&&(q.architecture=64,q.family=q.family.replace(RegExp(" *"+m),"")),U&&(/\bWOW64\b/i.test(e)||N&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(e))&&R.unshift("32-bit")):q&&/^OS X/.test(q.family)&&"Chrome"==U&&parseFloat(L)>=39&&(q.architecture=64),e||(e=null);var z={};return z.description=e,z.layout=F&&F[0],z.manufacturer=B,z.name=U,z.prerelease=j,z.product=$,z.ua=e,z.version=U&&L,z.os=q||{architecture:null,family:null,version:null,toString:function(){return"null"}},z.parse=v,z.toString=n,z.version&&R.unshift(L),z.name&&R.unshift(U),q&&U&&(q!=String(q).split(" ")[0]||q!=U.split(" ")[0]&&!$)&&R.push($?"("+q+")":"on "+q),R.length&&(z.description=R.join(" ")),z}var m={function:!0,object:!0},y=m[typeof window]&&window||this,g=m[typeof t]&&t,b=m[typeof e]&&e&&!e.nodeType&&e,_=g&&b&&"object"==typeof r&&r;!_||_.global!==_&&_.window!==_&&_.self!==_||(y=_);var w=Math.pow(2,53)-1,k=/\bOpera/,x=Object.prototype,S=x.hasOwnProperty,E=x.toString,C=v();y.platform=C,void 0!==(i=function(){return C}.call(t,n,t,e))&&(e.exports=i)}).call(this)}).call(t,n(266)(e),n(46))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return[(new Date).toISOString()+" Notifications "+e+":"].concat(Array.from(t))}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(683),s=function(){function e(){r(this,e),this.prefix=""}return a(e,[{key:"setLevel",value:function(e){o.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.debug.apply(null,i("T"+this.prefix,t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.debug.apply(null,i("D"+this.prefix,t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.info.apply(null,i("I"+this.prefix,t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.warn.apply(null,i("W"+this.prefix,t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.error.apply(null,i("E"+this.prefix,t))}}],[{key:"scope",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new e}}]),e}();t.Logger=s;var u=s.scope();t.log=u},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){i(this,e),this.queuedRequests=[],this.isRequestInFlight=!1,this.inputMergingFunction=t}return a(e,[{key:"add",value:function(e,t){var n=this,r=new Promise(function(r,i){return n.queuedRequests.push({input:e,requestFunction:t,resolve:r,reject:i})});return this.wakeupQueue(),r}},{key:"squashAndAdd",value:function(e,t){var n=this.queuedRequests;this.queuedRequests=[];var r=void 0;n.length>0?(r=n.map(function(e){return e.input}).reduce(this.inputMergingFunction),r=this.inputMergingFunction(r,e)):r=e;var i=this.add(r,t);return n.forEach(function(e){return i.then(e.resolve,e.reject)}),i}},{key:"isEmpty",value:function(){return 0===this.queuedRequests.length&&!this.isRequestInFlight}},{key:"wakeupQueue",value:function(){var e=this;if(0!==this.queuedRequests.length&&!this.isRequestInFlight){var t=this.queuedRequests.shift();this.isRequestInFlight=!0,t.requestFunction(t.input).then(t.resolve,t.reject).then(function(t){e.isRequestInFlight=!1,e.wakeupQueue()})}}}]),e}();t.MergingQueue=o;var s=function(){function e(t){i(this,e),this.queueByNamespaceKey=new Map,this.inputReducer=t}return a(e,[{key:"add",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.invokeQueueMethod(t,function(e){return e.add(n,r)}));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"squashAndAdd",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.invokeQueueMethod(t,function(e){return e.squashAndAdd(n,r)}));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"invokeQueueMethod",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.queueByNamespaceKey.has(t)||this.queueByNamespaceKey.set(t,new o(this.inputReducer)),r=this.queueByNamespaceKey.get(t),i=n(r),this.queueByNamespaceKey.get(t).isEmpty()&&this.queueByNamespaceKey.delete(t),e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.NamespacedMergingQueue=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(692),s=function(){function e(t,n){r(this,e),this.value=t,this.revision=n||0}return a(e,[{key:"isValid",get:function(){return!0}}]),e}(),u=function(){function e(t){r(this,e),this.revision=t}return a(e,[{key:"isValid",get:function(){return!1}}]),e}(),c=function(){function e(){r(this,e),this.items=new o.TreeMap}return a(e,[{key:"store",value:function(e,t,n){var r=this.items.get(e);return r&&r.revision>n?r.isValid?r.value:null:(this.items.set(e,new s(t,n)),t)}},{key:"delete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.items.get(e);(!r||r.revision<t||r&&!0===n)&&this.items.set(e,new u(t))}},{key:"isKnown",value:function(e,t){var n=this.items.get(e);return n&&n.revision>=t}},{key:"get",value:function(e){var t=this.items.get(e);return t&&t.isValid?t.value:null}},{key:"has",value:function(e){var t=this.items.get(e);return t&&t.isValid}},{key:"forEach",value:function(e){if(this.items){var t=!0,n=!1,r=void 0;try{for(var a,o=this.items[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value,u=i(s,2),c=u[0],l=u[1];l.isValid&&e(c,l.value)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}}]),e}();t.Cache=c,t.default=c},function(e,t,n){(function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function t(){return Mr.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function a(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return Et(e,t,n,r,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function h(e){if(null==e._isValid){var t=p(e),n=Ir.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function v(e){var t=f(NaN);return null!=e?l(p(t),e):p(t).userInvalidated=!0,t}function m(e,t){var n,r,i;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=p(t)),a(t._locale)||(e._locale=t._locale),Dr.length>0)for(n=0;n<Dr.length;n++)r=Dr[n],i=t[r],a(i)||(e[r]=i);return e}function y(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Rr&&(Rr=!0,t.updateOffset(this),Rr=!1)}function g(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function w(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&_(e[r])!==_(t[r]))&&o++;return o+a}function k(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,n){var r=!0;return l(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),r){for(var i,a=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){i+="\n["+o+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[o];a.push(i)}k(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function S(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),jr[e]||(k(n),jr[e]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e){var t,n;for(n in e)t=e[n],E(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var n,i=l({},e);for(n in t)c(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},l(i[n],e[n]),l(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)c(e,n)&&!c(t,n)&&r(e[n])&&(i[n]=l({},i[n]));return i}function O(e){null!=e&&this.set(e)}function T(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return E(r)?r.call(t,n):r}function A(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function M(){return this._invalidDate}function I(e){return this._ordinal.replace("%d",e)}function D(e,t,n,r){var i=this._relativeTime[n];return E(i)?i(e,t,n,r):i.replace(/%d/i,e)}function R(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)}function j(e,t){var n=e.toLowerCase();Br[n]=Br[n+"s"]=Br[t]=e}function N(e){return"string"==typeof e?Br[e]||Br[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)c(e,n)&&(t=N(n))&&(r[t]=e[n]);return r}function F(e,t){qr[e]=t}function U(e){var t=[];for(var n in e)t.push({unit:n,priority:qr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function $(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function B(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Yr[e]=i),t&&(Yr[t[0]]=function(){return $(i.apply(this,arguments),t[1],t[2])}),n&&(Yr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,r=e.match(zr);for(t=0,n=r.length;t<n;t++)Yr[r[t]]?r[t]=Yr[r[t]]:r[t]=q(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=E(r[i])?r[i].call(t,e):r[i];return a}}function H(e,t){return e.isValid()?(t=V(t,e.localeData()),Vr[t]=Vr[t]||z(t),Vr[t](e)):e.localeData().invalidDate()}function V(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Hr.lastIndex=0;r>=0&&Hr.test(e);)e=e.replace(Hr,n),Hr.lastIndex=0,r-=1;return e}function Y(e,t,n){li[e]=E(t)?t:function(e,r){return e&&n?n:t}}function W(e,t){return c(li,e)?li[e](t._strict,t._locale):new RegExp(G(e))}function G(e){return K(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function K(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),o(t)&&(r=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)fi[e[n]]=r}function J(e,t){Q(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function X(e,t,n){null!=t&&c(fi,e)&&fi[e](t,n._a,n,e)}function Z(e){return ee(e)?366:365}function ee(e){return e%4==0&&e%100!=0||e%400==0}function te(){return ee(this.year())}function ne(e,n){return function(r){return null!=r?(ie(this,e,r),t.updateOffset(this,n),this):re(this,e)}}function re(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ie(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ee(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ue(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function ae(e){return e=N(e),E(this[e])?this[e]():this}function oe(e,t){if("object"==typeof e){e=L(e);for(var n=U(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=N(e),E(this[e]))return this[e](t);return this}function se(e,t){return(e%t+t)%t}function ue(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=se(t,12);return e+=(t-n)/12,1===n?ee(e)?29:28:31-n%7%2}function ce(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||xi).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function le(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[xi.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function fe(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?(i=wi.call(this._shortMonthsParse,o),-1!==i?i:null):(i=wi.call(this._longMonthsParse,o),-1!==i?i:null):"MMM"===t?-1!==(i=wi.call(this._shortMonthsParse,o))?i:(i=wi.call(this._longMonthsParse,o),-1!==i?i:null):-1!==(i=wi.call(this._longMonthsParse,o))?i:(i=wi.call(this._shortMonthsParse,o),-1!==i?i:null)}function de(e,t,n){var r,i,a;if(this._monthsParseExact)return fe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function pe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(t=e.localeData().monthsParse(t),!o(t))return e;return n=Math.min(e.date(),ue(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function he(e){return null!=e?(pe(this,e),t.updateOffset(this,!0),this):re(this,"Month")}function ve(){return ue(this.year(),this.month())}function me(e){return this._monthsParseExact?(c(this,"_monthsRegex")||ge.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Ci),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ye(e){return this._monthsParseExact?(c(this,"_monthsRegex")||ge.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Pi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ge(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=f([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=K(r[t]),i[t]=K(i[t]);for(t=0;t<24;t++)a[t]=K(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function be(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function _e(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function we(e,t,n){var r=7+t-n;return-(7+_e(e,0,r).getUTCDay()-t)%7+r-1}function ke(e,t,n,r,i){var a,o,s=(7+n-r)%7,u=we(e,r,i),c=1+7*(t-1)+s+u;return c<=0?(a=e-1,o=Z(a)+c):c>Z(e)?(a=e+1,o=c-Z(e)):(a=e,o=c),{year:a,dayOfYear:o}}function xe(e,t,n){var r,i,a=we(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?(i=e.year()-1,r=o+Se(i,t,n)):o>Se(e.year(),t,n)?(r=o-Se(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function Se(e,t,n){var r=we(e,t,n),i=we(e+1,t,n);return(Z(e)-r+i)/7}function Ee(e){return xe(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function Pe(){return this._week.doy}function Oe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Te(e){var t=xe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ae(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Me(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ie(e,t){return e.slice(t,7).concat(e.slice(0,t))}function De(e,t){var r=n(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ie(r,this._week.dow):e?r[e.day()]:r}function Re(e){return!0===e?Ie(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function je(e){return!0===e?Ie(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ne(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?(i=wi.call(this._weekdaysParse,o),-1!==i?i:null):"ddd"===t?(i=wi.call(this._shortWeekdaysParse,o),-1!==i?i:null):(i=wi.call(this._minWeekdaysParse,o),-1!==i?i:null):"dddd"===t?-1!==(i=wi.call(this._weekdaysParse,o))?i:-1!==(i=wi.call(this._shortWeekdaysParse,o))?i:(i=wi.call(this._minWeekdaysParse,o),-1!==i?i:null):"ddd"===t?-1!==(i=wi.call(this._shortWeekdaysParse,o))?i:-1!==(i=wi.call(this._weekdaysParse,o))?i:(i=wi.call(this._minWeekdaysParse,o),-1!==i?i:null):-1!==(i=wi.call(this._minWeekdaysParse,o))?i:-1!==(i=wi.call(this._weekdaysParse,o))?i:(i=wi.call(this._shortWeekdaysParse,o),-1!==i?i:null)}function Le(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Ne.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ae(e,this.localeData()),this.add(e-t,"d")):t}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function $e(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Me(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Be(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ii),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qe(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Di),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ze(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ri),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function He(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);for(o.sort(e),s.sort(e),u.sort(e),c.sort(e),t=0;t<7;t++)s[t]=K(s[t]),u[t]=K(u[t]),c[t]=K(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ve(){return this.hours()%12||12}function Ye(){return this.hours()||24}function We(e,t){B(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ge(e,t){return t._meridiemParse}function Ke(e){return"p"===(e+"").toLowerCase().charAt(0)}function Qe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Je(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,n,r,i,a=0;a<e.length;){for(i=Je(e[a]).split("-"),t=i.length,n=Je(e[a+1]),n=n?n.split("-"):null;t>0;){if(r=Ze(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}a++}return ji}function Ze(t){var n=null;if(!Ui[t]&&void 0!==e&&e&&e.exports)try{n=ji._abbr;!function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),et(n)}catch(e){}return Ui[t]}function et(e,t){var n;return e&&(n=a(t)?rt(e):tt(e,t),n?ji=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ji._abbr}function tt(e,t){if(null!==t){var n,r=Fi;if(t.abbr=e,null!=Ui[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ui[e]._config;else if(null!=t.parentLocale)if(null!=Ui[t.parentLocale])r=Ui[t.parentLocale]._config;else{if(null==(n=Ze(t.parentLocale)))return $i[t.parentLocale]||($i[t.parentLocale]=[]),$i[t.parentLocale].push({name:e,config:t}),null;r=n._config}return Ui[e]=new O(P(r,t)),$i[e]&&$i[e].forEach(function(e){tt(e.name,e.config)}),et(e),Ui[e]}return delete Ui[e],null}function nt(e,t){if(null!=t){var n,r,i=Fi;r=Ze(e),null!=r&&(i=r._config),t=P(i,t),n=new O(t),n.parentLocale=Ui[e],Ui[e]=n,et(e)}else null!=Ui[e]&&(null!=Ui[e].parentLocale?Ui[e]=Ui[e].parentLocale:null!=Ui[e]&&delete Ui[e]);return Ui[e]}function rt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ji;if(!n(e)){if(t=Ze(e))return t;e=[e]}return Xe(e)}function it(){return Nr(Ui)}function at(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[pi]<0||n[pi]>11?pi:n[hi]<1||n[hi]>ue(n[di],n[pi])?hi:n[vi]<0||n[vi]>24||24===n[vi]&&(0!==n[mi]||0!==n[yi]||0!==n[gi])?vi:n[mi]<0||n[mi]>59?mi:n[yi]<0||n[yi]>59?yi:n[gi]<0||n[gi]>999?gi:-1,p(e)._overflowDayOfYear&&(t<di||t>hi)&&(t=hi),p(e)._overflowWeeks&&-1===t&&(t=bi),p(e)._overflowWeekday&&-1===t&&(t=_i),p(e).overflow=t),e}function ot(e,t,n){return null!=e?e:null!=t?t:n}function st(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ut(e){var t,n,r,i,a,o=[];if(!e._d){for(r=st(e),e._w&&null==e._a[hi]&&null==e._a[pi]&&ct(e),null!=e._dayOfYear&&(a=ot(e._a[di],r[di]),(e._dayOfYear>Z(a)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=_e(a,0,e._dayOfYear),e._a[pi]=n.getUTCMonth(),e._a[hi]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[vi]&&0===e._a[mi]&&0===e._a[yi]&&0===e._a[gi]&&(e._nextDay=!0,e._a[vi]=0),e._d=(e._useUTC?_e:be).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[vi]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(p(e).weekdayMismatch=!0)}}function ct(e){var t,n,r,i,a,o,s,u;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)a=1,o=4,n=ot(t.GG,e._a[di],xe(Ct(),1,4).year),r=ot(t.W,1),((i=ot(t.E,1))<1||i>7)&&(u=!0);else{a=e._locale._week.dow,o=e._locale._week.doy;var c=xe(Ct(),a,o);n=ot(t.gg,e._a[di],c.year),r=ot(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a}r<1||r>Se(n,a,o)?p(e)._overflowWeeks=!0:null!=u?p(e)._overflowWeekday=!0:(s=ke(n,r,i,a,o),e._a[di]=s.year,e._dayOfYear=s.dayOfYear)}function lt(e){var t,n,r,i,a,o,s=e._i,u=Bi.exec(s)||qi.exec(s);if(u){for(p(e).iso=!0,t=0,n=Hi.length;t<n;t++)if(Hi[t][1].exec(u[1])){i=Hi[t][0],r=!1!==Hi[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Vi.length;t<n;t++)if(Vi[t][1].exec(u[3])){a=(u[2]||" ")+Vi[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!zi.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),gt(e)}else e._isValid=!1}function ft(e,t,n,r,i,a){var o=[dt(e),Ei.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function dt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function pt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ht(e,t,n){if(e){if(Ai.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function vt(e,t,n){if(e)return Gi[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function mt(e){var t=Wi.exec(pt(e._i));if(t){var n=ft(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ht(t[1],n,e))return;e._a=n,e._tzm=vt(t[8],t[9],t[10]),e._d=_e.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function yt(e){var n=Yi.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));lt(e),!1===e._isValid&&(delete e._isValid,mt(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function gt(e){if(e._f===t.ISO_8601)return void lt(e);if(e._f===t.RFC_2822)return void mt(e);e._a=[],p(e).empty=!0;var n,r,i,a,o,s=""+e._i,u=s.length,c=0;for(i=V(e._f,e._locale).match(zr)||[],n=0;n<i.length;n++)a=i[n],r=(s.match(W(a,e))||[])[0],r&&(o=s.substr(0,s.indexOf(r)),o.length>0&&p(e).unusedInput.push(o),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Yr[a]?(r?p(e).empty=!1:p(e).unusedTokens.push(a),X(a,r,e)):e._strict&&!r&&p(e).unusedTokens.push(a);p(e).charsLeftOver=u-c,s.length>0&&p(e).unusedInput.push(s),e._a[vi]<=12&&!0===p(e).bigHour&&e._a[vi]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[vi]=bt(e._locale,e._a[vi],e._meridiem),ut(e),at(e)}function bt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function _t(e){var t,n,r,i,a;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],gt(t),h(t)&&(a+=p(t).charsLeftOver,a+=10*p(t).unusedTokens.length,p(t).score=a,(null==r||a<r)&&(r=a,n=t));l(e,n||t)}function wt(e){if(!e._d){var t=L(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ut(e)}}function kt(e){var t=new y(at(xt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function xt(e){var t=e._i,r=e._f;return e._locale=e._locale||rt(e._l),null===t||void 0===r&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new y(at(t)):(s(t)?e._d=t:n(r)?_t(e):r?gt(e):St(e),h(e)||(e._d=null),e))}function St(e){var i=e._i;a(i)?e._d=new Date(t.now()):s(i)?e._d=new Date(i.valueOf()):"string"==typeof i?yt(e):n(i)?(e._a=u(i.slice(0),function(e){return parseInt(e,10)}),ut(e)):r(i)?wt(e):o(i)?e._d=new Date(i):t.createFromInputFallback(e)}function Et(e,t,a,o,s){var u={};return!0!==a&&!1!==a||(o=a,a=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=a,u._i=e,u._f=t,u._strict=o,kt(u)}function Ct(e,t,n,r){return Et(e,t,n,r,!1)}function Pt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ct();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function Ot(){return Pt("isBefore",[].slice.call(arguments,0))}function Tt(){return Pt("isAfter",[].slice.call(arguments,0))}function At(e){for(var t in e)if(-1===wi.call(Xi,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Xi.length;++r)if(e[Xi[r]]){if(n)return!1;parseFloat(e[Xi[r]])!==_(e[Xi[r]])&&(n=!0)}return!0}function Mt(){return this._isValid}function It(){return Jt(NaN)}function Dt(e){var t=L(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=At(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=rt(),this._bubble()}function Rt(e){return e instanceof Dt}function jt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Nt(e,t){B(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+$(~~(e/60),2)+t+$(~~e%60,2)})}function Lt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Zi)||["-",0,0],a=60*i[1]+_(i[2]);return 0===a?0:"+"===i[0]?a:-a}function Ft(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(g(e)||s(e)?e.valueOf():Ct(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),t.updateOffset(r,!1),r):Ct(e).local()}function Ut(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function $t(e,n,r){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Lt(si,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&n&&(i=Ut(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!n||this._changeInProgress?nn(this,Jt(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Ut(this)}function Bt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function qt(e){return this.utcOffset(0,e)}function zt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ut(this),"m")),this}function Ht(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Lt(oi,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Vt(e){return!!this.isValid()&&(e=e?Ct(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Yt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Wt(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=xt(e),e._a){var t=e._isUTC?f(e._a):Ct(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Gt(){return!!this.isValid()&&!this._isUTC}function Kt(){return!!this.isValid()&&this._isUTC}function Qt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Jt(e,t){var n,r,i,a=e,s=null;return Rt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:o(e)?(a={},t?a[t]=e:a.milliseconds=e):(s=ea.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:_(s[hi])*n,h:_(s[vi])*n,m:_(s[mi])*n,s:_(s[yi])*n,ms:_(jt(1e3*s[gi]))*n}):(s=ta.exec(e))?(n="-"===s[1]?-1:1,a={y:Xt(s[2],n),M:Xt(s[3],n),w:Xt(s[4],n),d:Xt(s[5],n),h:Xt(s[6],n),m:Xt(s[7],n),s:Xt(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=en(Ct(a.from),Ct(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new Dt(a),Rt(e)&&c(e,"_locale")&&(r._locale=e._locale),r}function Xt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Zt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function en(e,t){var n;return e.isValid()&&t.isValid()?(t=Ft(t,e),e.isBefore(t)?n=Zt(e,t):(n=Zt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(e,t){return function(n,r){var i,a;return null===r||isNaN(+r)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),n="string"==typeof n?+n:n,i=Jt(n,r),nn(this,i,e),this}}function nn(e,n,r,i){var a=n._milliseconds,o=jt(n._days),s=jt(n._months);e.isValid()&&(i=null==i||i,s&&pe(e,re(e,"Month")+s*r),o&&ie(e,"Date",re(e,"Date")+o*r),a&&e._d.setTime(e._d.valueOf()+a*r),i&&t.updateOffset(e,o||s))}function rn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function an(e,n){var r=e||Ct(),i=Ft(r,this).startOf("day"),a=t.calendarFormat(this,i)||"sameElse",o=n&&(E(n[a])?n[a].call(this,r):n[a]);return this.format(o||this.localeData().calendar(a,this,Ct(r)))}function on(){return new y(this)}function sn(e,t){var n=g(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&(t=N(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function un(e,t){var n=g(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&(t=N(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function cn(e,t,n,r){var i=g(e)?e:Ct(e),a=g(t)?t:Ct(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&(r=r||"()",("("===r[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n)))}function ln(e,t){var n,r=g(e)?e:Ct(e);return!(!this.isValid()||!r.isValid())&&(t=N(t)||"millisecond","millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function fn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function dn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pn(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(r=Ft(e,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=N(t)){case"year":a=hn(this,r)/12;break;case"month":a=hn(this,r);break;case"quarter":a=hn(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:b(a)}function hn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(i,"months");return t-a<0?(n=e.clone().add(i-1,"months"),r=(t-a)/(a-n)):(n=e.clone().add(i+1,"months"),r=(t-a)/(n-a)),-(i+r)||0}function vn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mn(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function yn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function gn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=H(this,e);return this.localeData().postformat(n)}function bn(e,t){return this.isValid()&&(g(e)&&e.isValid()||Ct(e).isValid())?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function _n(e){return this.from(Ct(),e)}function wn(e,t){return this.isValid()&&(g(e)&&e.isValid()||Ct(e).isValid())?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function kn(e){return this.to(Ct(),e)}function xn(e){var t;return void 0===e?this._locale._abbr:(t=rt(e),null!=t&&(this._locale=t),this)}function Sn(){return this._locale}function En(e,t){return(e%t+t)%t}function Cn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ua:new Date(e,t,n).valueOf()}function Pn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ua:Date.UTC(e,t,n)}function On(e){var n;if(void 0===(e=N(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?Pn:Cn;switch(e){case"year":n=r(this.year(),0,1);break;case"quarter":n=r(this.year(),this.month()-this.month()%3,1);break;case"month":n=r(this.year(),this.month(),1);break;case"week":n=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=r(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=En(n+(this._isUTC?0:this.utcOffset()*oa),sa);break;case"minute":n=this._d.valueOf(),n-=En(n,oa);break;case"second":n=this._d.valueOf(),n-=En(n,aa)}return this._d.setTime(n),t.updateOffset(this,!0),this}function Tn(e){var n;if(void 0===(e=N(e))||"millisecond"===e||!this.isValid())return this;var r=this._isUTC?Pn:Cn;switch(e){case"year":n=r(this.year()+1,0,1)-1;break;case"quarter":n=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=r(this.year(),this.month()+1,1)-1;break;case"week":n=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=sa-En(n+(this._isUTC?0:this.utcOffset()*oa),sa)-1;break;case"minute":n=this._d.valueOf(),n+=oa-En(n,oa)-1;break;case"second":n=this._d.valueOf(),n+=aa-En(n,aa)-1}return this._d.setTime(n),t.updateOffset(this,!0),this}function An(){return this._d.valueOf()-6e4*(this._offset||0)}function Mn(){return Math.floor(this.valueOf()/1e3)}function In(){return new Date(this.valueOf())}function Dn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Rn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function jn(){return this.isValid()?this.toISOString():null}function Nn(){return h(this)}function Ln(){return l({},p(this))}function Fn(){return p(this).overflow}function Un(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function $n(e,t){B(0,[e,e.length],0,t)}function Bn(e){return Vn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function qn(e){return Vn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function zn(){return Se(this.year(),1,4)}function Hn(){var e=this.localeData()._week;return Se(this.year(),e.dow,e.doy)}function Vn(e,t,n,r,i){var a;return null==e?xe(this,r,i).year:(a=Se(e,r,i),t>a&&(t=a),Yn.call(this,e,t,n,r,i))}function Yn(e,t,n,r,i){var a=ke(e,t,n,r,i),o=_e(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Wn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Gn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Kn(e,t){t[gi]=_(1e3*("0."+e))}function Qn(){return this._isUTC?"UTC":""}function Jn(){return this._isUTC?"Coordinated Universal Time":""}function Xn(e){return Ct(1e3*e)}function Zn(){return Ct.apply(null,arguments).parseZone()}function er(e){return e}function tr(e,t,n,r){var i=rt(),a=f().set(r,t);return i[n](a,e)}function nr(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return tr(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=tr(e,r,n,"month");return i}function rr(e,t,n,r){"boolean"==typeof e?(o(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,o(t)&&(n=t,t=void 0),t=t||"");var i=rt(),a=e?i._week.dow:0;if(null!=n)return tr(t,(n+a)%7,r,"day");var s,u=[];for(s=0;s<7;s++)u[s]=tr(t,(s+a)%7,r,"day");return u}function ir(e,t){return nr(e,t,"months")}function ar(e,t){return nr(e,t,"monthsShort")}function or(e,t,n){return rr(e,t,n,"weekdays")}function sr(e,t,n){return rr(e,t,n,"weekdaysShort")}function ur(e,t,n){return rr(e,t,n,"weekdaysMin")}function cr(){var e=this._data;return this._milliseconds=ma(this._milliseconds),this._days=ma(this._days),this._months=ma(this._months),e.milliseconds=ma(e.milliseconds),e.seconds=ma(e.seconds),e.minutes=ma(e.minutes),e.hours=ma(e.hours),e.months=ma(e.months),e.years=ma(e.years),this}function lr(e,t,n,r){var i=Jt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function fr(e,t){return lr(this,e,t,1)}function dr(e,t){return lr(this,e,t,-1)}function pr(e){return e<0?Math.floor(e):Math.ceil(e)}function hr(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*pr(mr(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=b(a/1e3),u.seconds=e%60,t=b(e/60),u.minutes=t%60,n=b(t/60),u.hours=n%24,o+=b(n/24),i=b(vr(o)),s+=i,o-=pr(mr(i)),r=b(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function vr(e){return 4800*e/146097}function mr(e){return 146097*e/4800}function yr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=N(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+vr(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(mr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function gr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN}function br(e){return function(){return this.as(e)}}function _r(){return Jt(this)}function wr(e){return e=N(e),this.isValid()?this[e+"s"]():NaN}function kr(e){return function(){return this.isValid()?this._data[e]:NaN}}function xr(){return b(this.days()/7)}function Sr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Er(e,t,n){var r=Jt(e).abs(),i=Da(r.as("s")),a=Da(r.as("m")),o=Da(r.as("h")),s=Da(r.as("d")),u=Da(r.as("M")),c=Da(r.as("y")),l=i<=Ra.ss&&["s",i]||i<Ra.s&&["ss",i]||a<=1&&["m"]||a<Ra.m&&["mm",a]||o<=1&&["h"]||o<Ra.h&&["hh",o]||s<=1&&["d"]||s<Ra.d&&["dd",s]||u<=1&&["M"]||u<Ra.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,Sr.apply(null,l)}function Cr(e){return void 0===e?Da:"function"==typeof e&&(Da=e,!0)}function Pr(e,t){return void 0!==Ra[e]&&(void 0===t?Ra[e]:(Ra[e]=t,"s"===e&&(Ra.ss=t-1),!0))}function Or(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Er(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Tr(e){return(e>0)-(e<0)||+e}function Ar(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=ja(this._milliseconds)/1e3,i=ja(this._days),a=ja(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60,n=b(a/12),a%=12;var o=n,s=a,u=i,c=t,l=e,f=r?r.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var p=d<0?"-":"",h=Tr(this._months)!==Tr(d)?"-":"",v=Tr(this._days)!==Tr(d)?"-":"",m=Tr(this._milliseconds)!==Tr(d)?"-":"";return p+"P"+(o?h+o+"Y":"")+(s?h+s+"M":"")+(u?v+u+"D":"")+(c||l||f?"T":"")+(c?m+c+"H":"")+(l?m+l+"M":"")+(f?m+f+"S":"")}var Mr,Ir;Ir=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var Dr=t.momentProperties=[],Rr=!1,jr={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Nr;Nr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var Lr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ur=/\d{1,2}/,$r={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Br={},qr={},zr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Vr={},Yr={},Wr=/\d/,Gr=/\d\d/,Kr=/\d{3}/,Qr=/\d{4}/,Jr=/[+-]?\d{6}/,Xr=/\d\d?/,Zr=/\d\d\d\d?/,ei=/\d\d\d\d\d\d?/,ti=/\d{1,3}/,ni=/\d{1,4}/,ri=/[+-]?\d{1,6}/,ii=/\d+/,ai=/[+-]?\d+/,oi=/Z|[+-]\d\d:?\d\d/gi,si=/Z|[+-]\d\d(?::?\d\d)?/gi,ui=/[+-]?\d+(\.\d{1,3})?/,ci=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,li={},fi={},di=0,pi=1,hi=2,vi=3,mi=4,yi=5,gi=6,bi=7,_i=8;B("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),j("year","y"),F("year",1),Y("Y",ai),Y("YY",Xr,Gr),Y("YYYY",ni,Qr),Y("YYYYY",ri,Jr),Y("YYYYYY",ri,Jr),Q(["YYYYY","YYYYYY"],di),Q("YYYY",function(e,n){n[di]=2===e.length?t.parseTwoDigitYear(e):_(e)}),Q("YY",function(e,n){n[di]=t.parseTwoDigitYear(e)}),Q("Y",function(e,t){t[di]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var wi,ki=ne("FullYear",!0);wi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),B("MMMM",0,0,function(e){return this.localeData().months(this,e)}),j("month","M"),F("month",8),Y("M",Xr),Y("MM",Xr,Gr),Y("MMM",function(e,t){return t.monthsShortRegex(e)}),Y("MMMM",function(e,t){return t.monthsRegex(e)}),Q(["M","MM"],function(e,t){t[pi]=_(e)-1}),Q(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[pi]=i:p(n).invalidMonth=e});var xi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ei="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ci=ci,Pi=ci;B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),F("week",5),F("isoWeek",5),Y("w",Xr),Y("ww",Xr,Gr),Y("W",Xr),Y("WW",Xr,Gr),J(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_(e)});var Oi={dow:0,doy:6};B("d",0,"do","day"),B("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),B("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),B("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),Y("d",Xr),Y("e",Xr),Y("E",Xr),Y("dd",function(e,t){return t.weekdaysMinRegex(e)}),Y("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Y("dddd",function(e,t){return t.weekdaysRegex(e)}),J(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),J(["d","e","E"],function(e,t,n,r){t[r]=_(e)});var Ti="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ai="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ii=ci,Di=ci,Ri=ci;B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Ve),B("k",["kk",2],0,Ye),B("hmm",0,0,function(){return""+Ve.apply(this)+$(this.minutes(),2)}),B("hmmss",0,0,function(){return""+Ve.apply(this)+$(this.minutes(),2)+$(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+$(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+$(this.minutes(),2)+$(this.seconds(),2)}),We("a",!0),We("A",!1),j("hour","h"),F("hour",13),Y("a",Ge),Y("A",Ge),Y("H",Xr),Y("h",Xr),Y("k",Xr),Y("HH",Xr,Gr),Y("hh",Xr,Gr),Y("kk",Xr,Gr),Y("hmm",Zr),Y("hmmss",ei),Y("Hmm",Zr),Y("Hmmss",ei),Q(["H","HH"],vi),Q(["k","kk"],function(e,t,n){var r=_(e);t[vi]=24===r?0:r}),Q(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Q(["h","hh"],function(e,t,n){t[vi]=_(e),p(n).bigHour=!0}),Q("hmm",function(e,t,n){var r=e.length-2;t[vi]=_(e.substr(0,r)),t[mi]=_(e.substr(r)),p(n).bigHour=!0}),Q("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[vi]=_(e.substr(0,r)),t[mi]=_(e.substr(r,2)),t[yi]=_(e.substr(i)),p(n).bigHour=!0}),Q("Hmm",function(e,t,n){var r=e.length-2;t[vi]=_(e.substr(0,r)),t[mi]=_(e.substr(r))}),Q("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[vi]=_(e.substr(0,r)),t[mi]=_(e.substr(r,2)),t[yi]=_(e.substr(i))});var ji,Ni=/[ap]\.?m?\.?/i,Li=ne("Hours",!0),Fi={calendar:Lr,longDateFormat:Fr,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Ur,relativeTime:$r,months:Si,monthsShort:Ei,week:Oi,weekdays:Ti,weekdaysMin:Mi,weekdaysShort:Ai,meridiemParse:Ni},Ui={},$i={},Bi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zi=/Z|[+-]\d\d(?::?\d\d)?/,Hi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Vi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Yi=/^\/?Date\((\-?\d+)/i,Wi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Gi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Ki=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),Qi=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}),Ji=function(){return Date.now?Date.now():+new Date},Xi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Nt("Z",":"),Nt("ZZ",""),Y("Z",si),Y("ZZ",si),Q(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(si,e)});var Zi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var ea=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ta=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Jt.fn=Dt.prototype,Jt.invalid=It;var na=tn(1,"add"),ra=tn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ia=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),aa=1e3,oa=60*aa,sa=60*oa,ua=3506328*sa;B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),$n("gggg","weekYear"),$n("ggggg","weekYear"),$n("GGGG","isoWeekYear"),$n("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),Y("G",ai),Y("g",ai),Y("GG",Xr,Gr),Y("gg",Xr,Gr),Y("GGGG",ni,Qr),Y("gggg",ni,Qr),Y("GGGGG",ri,Jr),Y("ggggg",ri,Jr),J(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_(e)}),J(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),B("Q",0,"Qo","quarter"),j("quarter","Q"),F("quarter",7),Y("Q",Wr),Q("Q",function(e,t){t[pi]=3*(_(e)-1)}),B("D",["DD",2],"Do","date"),j("date","D"),F("date",9),Y("D",Xr),Y("DD",Xr,Gr),Y("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Q(["D","DD"],hi),Q("Do",function(e,t){t[hi]=_(e.match(Xr)[0])});var ca=ne("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),F("dayOfYear",4),Y("DDD",ti),Y("DDDD",Kr),Q(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),B("m",["mm",2],0,"minute"),j("minute","m"),F("minute",14),Y("m",Xr),Y("mm",Xr,Gr),Q(["m","mm"],mi);var la=ne("Minutes",!1);B("s",["ss",2],0,"second"),j("second","s"),F("second",15),Y("s",Xr),Y("ss",Xr,Gr),Q(["s","ss"],yi);var fa=ne("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),F("millisecond",16),Y("S",ti,Wr),Y("SS",ti,Gr),Y("SSS",ti,Kr);var da;for(da="SSSS";da.length<=9;da+="S")Y(da,ii);for(da="S";da.length<=9;da+="S")Q(da,Kn);var pa=ne("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var ha=y.prototype;ha.add=na,ha.calendar=an,ha.clone=on,ha.diff=pn,ha.endOf=Tn,ha.format=gn,ha.from=bn,ha.fromNow=_n,ha.to=wn,ha.toNow=kn,ha.get=ae,ha.invalidAt=Fn,ha.isAfter=sn,ha.isBefore=un,ha.isBetween=cn,ha.isSame=ln,ha.isSameOrAfter=fn,ha.isSameOrBefore=dn,ha.isValid=Nn,ha.lang=ia,ha.locale=xn,ha.localeData=Sn,ha.max=Qi,ha.min=Ki,ha.parsingFlags=Ln,ha.set=oe,ha.startOf=On,ha.subtract=ra,ha.toArray=Dn,ha.toObject=Rn,ha.toDate=In,ha.toISOString=mn,ha.inspect=yn,ha.toJSON=jn,ha.toString=vn,ha.unix=Mn,ha.valueOf=An,ha.creationData=Un,ha.year=ki,ha.isLeapYear=te,ha.weekYear=Bn,ha.isoWeekYear=qn,ha.quarter=ha.quarters=Wn,ha.month=he,ha.daysInMonth=ve,ha.week=ha.weeks=Oe,ha.isoWeek=ha.isoWeeks=Te,ha.weeksInYear=Hn,ha.isoWeeksInYear=zn,ha.date=ca,ha.day=ha.days=Fe,ha.weekday=Ue,ha.isoWeekday=$e,ha.dayOfYear=Gn,ha.hour=ha.hours=Li,ha.minute=ha.minutes=la,ha.second=ha.seconds=fa,ha.millisecond=ha.milliseconds=pa,ha.utcOffset=$t,ha.utc=qt,ha.local=zt,ha.parseZone=Ht,ha.hasAlignedHourOffset=Vt,ha.isDST=Yt,ha.isLocal=Gt,ha.isUtcOffset=Kt,ha.isUtc=Qt,ha.isUTC=Qt,ha.zoneAbbr=Qn,ha.zoneName=Jn,ha.dates=x("dates accessor is deprecated. Use date instead.",ca),ha.months=x("months accessor is deprecated. Use month instead",he),ha.years=x("years accessor is deprecated. Use year instead",ki),ha.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Bt),ha.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Wt);var va=O.prototype;va.calendar=T,va.longDateFormat=A,va.invalidDate=M,va.ordinal=I,va.preparse=er,va.postformat=er,va.relativeTime=D,va.pastFuture=R,va.set=C,va.months=ce,va.monthsShort=le,va.monthsParse=de,va.monthsRegex=ye,va.monthsShortRegex=me,va.week=Ee,va.firstDayOfYear=Pe,va.firstDayOfWeek=Ce,va.weekdays=De,va.weekdaysMin=je,va.weekdaysShort=Re,va.weekdaysParse=Le,va.weekdaysRegex=Be,va.weekdaysShortRegex=qe,va.weekdaysMinRegex=ze,va.isPM=Ke,va.meridiem=Qe,et("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=x("moment.lang is deprecated. Use moment.locale instead.",et),t.langData=x("moment.langData is deprecated. Use moment.localeData instead.",rt);var ma=Math.abs,ya=br("ms"),ga=br("s"),ba=br("m"),_a=br("h"),wa=br("d"),ka=br("w"),xa=br("M"),Sa=br("Q"),Ea=br("y"),Ca=kr("milliseconds"),Pa=kr("seconds"),Oa=kr("minutes"),Ta=kr("hours"),Aa=kr("days"),Ma=kr("months"),Ia=kr("years"),Da=Math.round,Ra={ss:44,s:45,m:45,h:22,d:26,M:11},ja=Math.abs,Na=Dt.prototype;return Na.isValid=Mt,Na.abs=cr,Na.add=fr,Na.subtract=dr,Na.as=yr,Na.asMilliseconds=ya,Na.asSeconds=ga,Na.asMinutes=ba,Na.asHours=_a,Na.asDays=wa,Na.asWeeks=ka,Na.asMonths=xa,Na.asQuarters=Sa,Na.asYears=Ea,Na.valueOf=gr,Na._bubble=hr,Na.clone=_r,Na.get=wr,Na.milliseconds=Ca,Na.seconds=Pa,Na.minutes=Oa,Na.hours=Ta,Na.days=Aa,Na.weeks=xr,Na.months=Ma,Na.years=Ia,Na.humanize=Or,Na.toISOString=Ar,Na.toString=Ar,Na.toJSON=Ar,Na.locale=xn,Na.localeData=Sn,Na.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ar),Na.lang=ia,B("X",0,0,"unix"),B("x",0,0,"valueOf"),Y("x",ai),Y("X",ui),Q("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Q("x",function(e,t,n){n._d=new Date(_(e))}),t.version="2.24.0",function(e){Mr=e}(Ct),t.fn=ha,t.min=Ot,t.max=Tt,t.now=Ji,t.utc=f,t.unix=Xn,t.months=ir,t.isDate=s,t.locale=et,t.invalid=v,t.duration=Jt,t.isMoment=g,t.weekdays=or,t.parseZone=Zn,t.localeData=rt,t.isDuration=Rt,t.monthsShort=ar,t.weekdaysMin=ur,t.defineLocale=tt,t.updateLocale=nt,t.locales=it,t.weekdaysShort=sr,t.normalizeUnits=N,t.relativeTimeRounding=Cr,t.relativeTimeThreshold=Pr,t.calendarFormat=rn,t.prototype=ha,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})}).call(t,n(266)(e))},function(e,t,n){e.exports=!n(16)&&!n(2)(function(){return 7!=Object.defineProperty(n(127)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(1),i=n(13),a=n(61),o=n(128),s=n(14).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(26),i=n(28),a=n(103)(!1),o=n(129)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){var r=n(14),i=n(3),a=n(62);e.exports=n(16)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,u=0;s>u;)r.f(e,n=o[u++],t[n]);return e}},function(e,t,n){var r=n(28),i=n(65).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):i(r(e))}},function(e,t,n){"use strict";var r=n(62),i=n(104),a=n(89),o=n(21),s=n(88),u=Object.assign;e.exports=!u||n(2)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=o(e),u=arguments.length,c=1,l=i.f,f=a.f;u>c;)for(var d,p=s(arguments[c++]),h=l?r(p).concat(l(p)):r(p),v=h.length,m=0;v>m;)f.call(p,d=h[m++])&&(n[d]=p[d]);return n}:u},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(36),i=n(4),a=n(188),o=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),s=function(){var r=n.concat(o.call(arguments));return this instanceof s?u(t,r.length,r):a(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(1).parseInt,i=n(78).trim,a=n(133),o=/^[-+]?0[xX]/;e.exports=8!==r(a+"08")||22!==r(a+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(o.test(n)?16:10))}:r},function(e,t,n){var r=n(1).parseFloat,i=n(78).trim;e.exports=1/r(n(133)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(47);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(4),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){"use strict";var r=n(64),i=n(59),a=n(77),o={};n(27)(o,n(7)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(377);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(36),i=n(21),a=n(88),o=n(10);e.exports=function(e,t,n,s,u){r(t);var c=i(e),l=a(c),f=o(c.length),d=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(d in l){s=l[d],d+=p;break}if(d+=p,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=p)d in l&&(s=t(s,l[d],d,c));return s}},function(e,t,n){"use strict";var r=n(21),i=n(63),a=n(10);e.exports=[].copyWithin||function(e,t){var n=r(this),o=a(n.length),s=i(e,o),u=i(t,o),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?o:i(c,o))-u,o-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(148);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){n(16)&&"g"!=/./g.flags&&n(14).f(RegExp.prototype,"flags",{configurable:!0,get:n(107)})},function(e,t,n){"use strict";var r,i,a,o,s=n(61),u=n(1),c=n(35),l=n(90),f=n(0),d=n(4),p=n(36),h=n(81),v=n(110),m=n(91),y=n(150).set,g=n(397)(),b=n(203),_=n(398),w=n(111),k=n(204),x=u.TypeError,S=u.process,E=S&&S.versions,C=E&&E.v8||"",P=u.Promise,O="process"==l(S),T=function(){},A=i=b.f,M=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(7)("species")]=function(e){e(T,T)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,i=1==e._s,a=0;n.length>a;)!function(t){var n,a,o,s=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(i||(2==e._h&&N(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),o=!0)),n===t.promise?c(x("Promise-chain cycle")):(a=I(n))?a.call(n,u,c):u(n)):c(r)}catch(e){l&&!o&&l.exit(),c(e)}}(n[a++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){y.call(u,function(){var t,n,r,i=e._v,a=j(e);if(a&&(t=_(function(){O?S.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=O||j(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){y.call(u,function(){var t;O?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=I(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,c(F,r,1),c(L,r,1))}catch(e){L.call(r,e)}}):(n._v=e,n._s=1,D(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};M||(P=function(e){h(this,P,"Promise","_h"),p(e),r.call(this);try{e(c(F,this,1),c(L,this,1))}catch(e){L.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(82)(P.prototype,{then:function(e,t){var n=A(m(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(L,e,1)},b.f=A=function(e){return e===P||e===o?new a(e):i(e)}),f(f.G+f.W+f.F*!M,{Promise:P}),n(77)(P,"Promise"),n(80)("Promise"),o=n(13).Promise,f(f.S+f.F*!M,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!M),"Promise",{resolve:function(e){return k(s&&this===o?P:this,e)}}),f(f.S+f.F*!(M&&n(106)(function(e){P.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=A(t),r=n.resolve,i=n.reject,a=_(function(){var n=[],a=0,o=1;v(e,!1,function(e){var s=a++,u=!1;n.push(void 0),o++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--o||r(n))},i)}),--o||r(n)});return a.e&&i(a.v),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(36);e.exports.f=function(e){return new r(e)}},function(e,t,n){var r=n(3),i=n(4),a=n(203);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(14).f,i=n(64),a=n(82),o=n(35),s=n(81),u=n(110),c=n(139),l=n(199),f=n(80),d=n(16),p=n(52).fastKey,h=n(68),v=d?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&u(r,n,e[c],e)});return a(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var i=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=i),i&&(i.p=a),n._f==r&&(n._f=i),n._l==r&&(n._l=a),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,n){var r,i,a=m(e,t);return a?a.v=n:(e._l=a={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[v]++,"F"!==i&&(e._i[i]=a)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(82),i=n(52).getWeak,a=n(3),o=n(4),s=n(81),u=n(110),c=n(40),l=n(26),f=n(68),d=c(5),p=c(6),h=0,v=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},y=function(e,t){return d(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,a){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=r&&u(r,n,e[a],e)});return r(c.prototype,{delete:function(e){if(!o(e))return!1;var n=i(e);return!0===n?v(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!o(e))return!1;var n=i(e);return!0===n?v(f(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=i(a(t),!0);return!0===r?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},function(e,t,n){var r=n(37),i=n(10);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(65),i=n(104),a=n(3),o=n(1).Reflect;e.exports=o&&o.ownKeys||function(e){var t=r.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(10),i=n(135),a=n(48);e.exports=function(e,t,n,o){var s=String(a(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);if(l<=u||""==c)return s;var f=l-u,d=i.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),o?d+s:s+d}},function(e,t,n){var r=n(62),i=n(28),a=n(89).f;e.exports=function(e){return function(t){for(var n,o=i(t),s=r(o),u=s.length,c=0,l=[];u>c;)a.call(o,n=s[c++])&&l.push(e?[n,o[n]]:o[n]);return l}}},function(e,t,n){e.exports=!n(41)&&!n(54)(function(){return 7!=Object.defineProperty(n(152)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(213),i=r(Object.keys,Object);e.exports=i},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function o(){v&&p&&(v=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!v){var e=i(o);v=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,v=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],v=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function r(){return function(e){this.j=[],this.T=e||null}}function i(e,t,n,r){for(var i=0,a=e.length,o=t,u=[],c=void 0;i<a&&(c=o.next(e[i]));)o=c,i++;if(i>=a)return[];for(;i<a-1;)c=new s(r),u.push(c),o.on(e[i],c),o=c,i++;return c=new s(n),u.push(c),o.on(e[a-1],c),u}t.__esModule=!0,t.stateify=t.TokenState=t.CharacterState=void 0;var a=n(115),o=r();o.prototype={defaultTransition:!1,on:function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)this.j.push([e[n],t]);return this}return this.j.push([e,t]),this},next:function(e){for(var t=0;t<this.j.length;t++){var n=this.j[t],r=n[0],i=n[1];if(this.test(e,r))return i}return this.defaultTransition},accepts:function(){return!!this.T},test:function(e,t){return e===t},emit:function(){return this.T}};var s=(0,a.inherits)(o,r(),{test:function(e,t){return e===t||t instanceof RegExp&&t.test(e)}}),u=(0,a.inherits)(o,r(),{jump:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.next(new e(""));return n===this.defaultTransition?(n=new this.constructor(t),this.on(e,n)):t&&(n.T=t),n},test:function(e,t){return e instanceof t}});t.CharacterState=s,t.TokenState=u,t.stateify=i},function(e,t,n){"use strict";function r(){return function(e){e&&(this.v=e)}}t.__esModule=!0,t.createTokenClass=r},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(29),i=n(487),a=n(489),o=n(490),s=n(491),u=n(219),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(492);e.exports=function(e){return new Promise(function(t,l){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,h="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";d.Authorization="Basic "+c(m+":"+y)}if(p.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?o(p.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?p.response:p.responseText,a={data:r,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};i(t,l,a),p=null}},p.onerror=function(){l(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=n(493),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(d,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),l(e),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(e,t,n){"use strict";var r=n(488);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(501),a=r(i),o=n(536),s=r(o),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(114),l=r(c),f=n(71),d=r(f),p=n(30),h=n(116),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h);l.default.use(d.default),t.default=new d.default.Store({state:{ASSETS_URL:"",FILESTACK_API_KEY:"",guestToken:"",guestIdentity:"",channelId:"",channelSid:"",widgetAwayMessage:"",widgetColor:"",widgetButtonPosition:"",widgetButtonText:"",widgetDescription:"",widgetGreetingMessage:"",widgetLogoUrl:"",widgetServiceName:"",widgetTitle:"",widgetVisibility:!1,widgetIsDisclaimerEnabled:!1,widgetDisclaimerText:"",widgetIsPhoneRequired:!1,proactiveEnabled:!1,proactiveTimeout:null,assignedAgents:[],lastAgent:null,messages:[],hasNewMessage:!1,connectionErrorMode:!1,isOfflineHours:!1,translationActive:!1,activeConversationId:void 0,playbookId:null,playbookInstanceId:null,playbookAborted:!1,needsPlaybookHelp:!1,isChatToCallEnabled:!1,isFooterCustomBrandingEnabled:!1,isNeedHelpDisabledDuringPlaybooks:!1,isProactiveChatDisabledForRepeatGuests:!1,isAudioNotificationEnabled:!0,isOnlyOneAvatarEnabled:!1},getters:{hasAssignedAgent:function(e,t){return!!t.leadAgentIdentity},leadAgentIdentity:function(e){return e.lastAgent||e.assignedAgents[e.assignedAgents.length-1]},agentIdentity:function(e){return function(t){var n=(0,a.default)(e.assignedAgents,["id",t]);return-1!==n?e.assignedAgents[n]:""}},agentAvatars:function(e){return e.isOnlyOneAvatarEnabled?[p.AGENT_AVATARS[0]]:p.AGENT_AVATARS},inStandaloneMode:function(){return p.STANDALONE_MODE},inSimulatorMode:function(){return p.SIMULATOR_MODE},inAnimatedChatButtonMode:function(e,t){var n=e.widgetButtonText,r=t.inStandardPositionMode;return!p.SIMULATOR_MODE&&r&&n},inProactiveChatMode:function(e){var t=e.proactiveEnabled;return!p.SIMULATOR_MODE&&t},inStandardPositionMode:function(e){var t=e.widgetButtonPosition;return p.SIMULATOR_MODE||t===p.WIDGET_POSITION_STANDARD},inLeftTabPositionMode:function(e){var t=e.widgetButtonPosition;return!p.SIMULATOR_MODE&&t===p.WIDGET_POSITION_LEFT_TAB},customFooterBranding:function(e){return e.isFooterCustomBrandingEnabled&&p.WIDGET_CUSTOM_FOOTER_LOGO&&p.WIDGET_CUSTOM_FOOTER_URL?{logo:p.WIDGET_CUSTOM_FOOTER_LOGO,url:p.WIDGET_CUSTOM_FOOTER_URL}:null}},actions:{fetchToken:function(e,t){var n=e.commit,r=t.name,i=t.email,a=t.phone,o=t.disclaimer,s="";return window.Intl&&"object"===u(window.Intl)&&(s=Intl.DateTimeFormat().resolvedOptions().timeZone),s=s||"US/Pacific",v.fetchToken({guest_current_url:p.CURRENT_URL||document.location.href,guest_email:i,guest_name:r,guest_phone:a,guest_timezone:s,service:p.SERVICE_SID,disclaimer:o}).then(function(e){var t=e.data;return n("saveTokenData",t)})},fetchCustomizations:function(e){var t=e.commit;return v.fetchCustomizations().then(function(e){var n=e.data;return t("saveWidgetCustomizations",n)})},storeMessages:function(e,t){var n=e.dispatch;(0,e.commit)("resetPlaybook"),(0,s.default)(t,function(e){return n("reactToNewMessage",e.state)})},storeNewMessage:function(e,t){(0,e.dispatch)("reactToNewMessage",t.state)},updateStoredMessage:function(e,t){(0,e.commit)("updateStoredMessage",t.state)},reactToNewMessage:function(e,t){var n=e.commit,r=t.attributes;if(r.is_event)switch(r.type){case p.CONVERSATION_CHANNEL_CLOSED:n("saveLastAgent",null),n("resetAssignedAgent");break;case p.CONVERSATION_ASSIGNMENT_ADDED:n("saveAssignedAgent",r.identity);break;case p.CONVERSATION_ASSIGNMENT_REMOVED:n("removeAssignedAgent",r.identity);break;case p.CONVERSATION_TRANSLATION_ENABLED:n("saveNewTranslationActiveFlag",!0),n("saveNewMessageFlag",!0),n("saveNewMessage",t);break;case p.CONVERSATION_TRANSLATION_DISABLED:n("saveNewTranslationActiveFlag",!1),n("saveNewMessageFlag",!0),n("saveNewMessage",t);break;case p.CONVERSATION_PLAYBOOK_STARTED:n("resetPlaybook"),n("savePlaybook",r.playbook_id),n("savePlaybookInstance",r.playbook_instance_id),n("saveNewMessage",t);break;case p.CONVERSATION_PLAYBOOK_DONE:n("resetPlaybook"),n("saveNewMessage",t);break;case p.CONVERSATION_PLAYBOOK_ABORTED:n("abortPlaybook"),n("saveNeedsPlaybookHelp",!0),n("saveNewMessage",t);break;case p.CONVERSATION_PLAYBOOK_RESUMED:n("resumePlaybook"),n("saveNeedsPlaybookHelp",!1),n("saveNewMessage",t)}r.is_event||(r.identity&&r.identity.is_agent&&(n("saveLastAgent",r.identity),n("saveNewMessageFlag",!0)),n("saveNewMessage",t))},clearNewMessageFlag:function(e){(0,e.commit)("saveNewMessageFlag",!1)},activateConnectionErrorMode:function(e){(0,e.commit)("setConnectionErrorMode",!0)},clearConnectionErrorMode:function(e){(0,e.commit)("setConnectionErrorMode",!1)},startPlaybook:function(e,t){var n=e.commit,r=(e.dispatch,e.state);return n("resetPlaybook"),new Promise(function(e,i){v.startPlaybook(r.channelId,t,r.guestIdentity.id).then(function(r){var i=r.data;n("savePlaybook",t),n("savePlaybookInstance",i.id),e(i.id)}).catch(function(e){console.error(e),i(e)})})},setPlaybookInstanceId:function(e,t){var n=e.commit;e.state;n("savePlaybookInstance",t)},setNeedsPlaybookHelp:function(e,t){(0,e.commit)("saveNeedsPlaybookHelp",t)},abortPlaybook:function(e){(0,e.commit)("abortPlaybook")}},mutations:{saveTokenData:function(e,t){e.guestToken=t.guest_token,e.guestIdentity=t.guest_identity,e.channelId=t.id,e.channelSid=t.channel_sid},saveWidgetCustomizations:function(e,t){e.proactiveEnabled=t.final_proactive_enabled,e.proactiveTimeout=t.final_proactive_timeout,e.widgetColor=t.color,e.widgetButtonText=t.widget_button_text||"",e.widgetButtonPosition=t.widget_button_position||"",e.widgetDescription=t.description,e.widgetGreetingMessage=t.final_greeting_message,e.widgetLogoUrl=t.logo,e.widgetServiceName=t.name,e.widgetTitle=t.title||t.name,e.widgetVisibility=t.visibility_enabled,e.widgetIsDisclaimerEnabled=t.is_disclaimer_enabled,e.widgetDisclaimerText=t.disclaimer_text,e.widgetIsPhoneRequired=t.is_phone_required,e.ASSETS_URL=t.assets_url,e.FILESTACK_API_KEY=t.filestack_api_key,e.isOfflineHours=!p.SIMULATOR_MODE&&t.is_offline_hours,e.isChatToCallEnabled=t.is_chat_to_call_enabled&&!t.is_widget_chat_to_call_link_disabled,e.isFooterCustomBrandingEnabled=t.is_widget_footer_custom_branding_enabled,e.isNeedHelpDisabledDuringPlaybooks=t.is_widget_need_help_disabled_during_playbooks,e.isProactiveChatDisabledForRepeatGuests=t.is_widget_proactive_chat_disabled_for_repeat_guests,e.isAudioNotificationEnabled=t.is_widget_audio_notification_enabled,e.isOnlyOneAvatarEnabled=t.is_widget_only_one_avatar_enabled},saveNewMessage:function(e,t){e.messages.push(t)},updateStoredMessage:function(e,t){var n=(0,a.default)(e.messages,{sid:t.sid});-1!==n?e.messages[n]=t:console.info("store.updateStoredMessage#error: could not find message with matching sid.")},saveNewMessageFlag:function(e,t){e.hasNewMessage=t},saveNewTranslationActiveFlag:function(e,t){e.translationActive=t},saveAssignedAgent:function(e,t){var n=-1;e.assignedAgents.some(function(e,r){if(e.id===t.id)return n=r,!0}),-1===n&&e.assignedAgents.push(t)},removeAssignedAgent:function(e,t){var n=-1;e.assignedAgents.some(function(e,r){if(e.id===t.id)return n=r,!0}),-1!==n&&e.assignedAgents.splice(n,1)},resetAssignedAgent:function(e){e.assignedAgents=[]},saveLastAgent:function(e,t){e.lastAgent=t},setConnectionErrorMode:function(e,t){e.connectionErrorMode=t},setActiveConversationId:function(e,t){e.activeConversationId=t},resetPlaybook:function(e){e.playbookId=null,e.playbookInstanceId=null,e.playbookAborted=!1,e.needsPlaybookHelp=!1,localStorage.removeItem(p.PLAYBOOK_LOCAL_STORE_KEY),localStorage.removeItem(p.PLAYSTEP_LOCAL_STORE_KEY)},savePlaybook:function(e,t){e.playbookId=t},abortPlaybook:function(e){e.playbookAborted=!0},resumePlaybook:function(e){e.playbookAborted=!1},savePlaybookInstance:function(e,t){e.playbookInstanceId=t,localStorage.setItem(p.PLAYBOOK_LOCAL_STORE_KEY,t)},saveNeedsPlaybookHelp:function(e,t){e.needsPlaybookHelp=t}}})},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(506),a=n(507),o=n(509),s=n(510),u=n(511);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e,t,n,o,s){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!==e&&t!==t:i(e,t,n,o,r,s))}var i=n(512),a=n(524);e.exports=r},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(526);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){e.exports={default:n(580),__esModule:!0}},function(e,t,n){var r=n(70),i=n(83),a=n(583)(!1),o=n(160)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){e.exports=n(53)},function(e,t,n){var r=n(17).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(70),i=n(95),a=n(160)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(34);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(84),i=n(20)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){var r=n(34),i=n(69),a=n(20)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},function(e,t,n){var r,i,a,o=n(50),s=n(237),u=n(230),c=n(152),l=n(17),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete y[e]},"process"==n(93)(f)?r=function(e){f.nextTick(o(g,e,1))}:v&&v.now?r=function(e){v.now(o(g,e,1))}:h?(i=new h,a=i.port2,i.port1.onmessage=b,r=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(o(g,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(34),i=n(22),a=n(167);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(17),i=n(8),a=n(33),o=n(41),s=n(20)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];o&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(20)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},e(a)}catch(e){}return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(602),a=r(i),o=n(604),s=r(o),u="function"==typeof s.default&&"symbol"==typeof a.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===u(a.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":u(e)}},function(e,t,n){var r=n(93);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(228),i=n(162).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(122),i=n(92),a=n(83),o=n(153),s=n(70),u=n(211),c=Object.getOwnPropertyDescriptor;t.f=n(41)?c:function(e,t){if(e=a(e),t=o(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(611),__esModule:!0}},function(e,t,n){e.exports={default:n(614),__esModule:!0}},function(e,t,n){e.exports={default:n(616),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(73),a=r(i),o=n(18),s=r(o),u=n(19),c=r(u),l=n(25),f=r(l),d=n(42),p=r(d),h=n(5),v=r(h),m=n(6),y=r(m),g=n(43),b=r(g),_=n(44),w=r(_);Object.defineProperty(t,"__esModule",{value:!0});var k=n(11),x=n(31),S=n(45),E=x.Logger.scope("User"),C=function(e){function t(e,n,r){(0,v.default)(this,t);var i=(0,b.default)(this,(t.__proto__||(0,p.default)(t)).call(this));return i.subscribed="initializing",i.setMaxListeners(0),i.services=r,i.state={identity:e,entityName:n,friendlyName:null,attributes:{},online:null,notifiable:null},i}return(0,w.default)(t,e),(0,y.default)(t,[{key:"_update",value:function(e,t){var n=[];switch(E.debug("User for",this.state.identity,"updated:",e,t),e){case"friendlyName":this.state.friendlyName!==t.value&&(n.push("friendlyName"),this.state.friendlyName=t.value);break;case"attributes":var r={};try{r=JSON.parse(t.value)}catch(e){E.warn("Retrieved malformed attributes from the server for user: "+this.state.identity)}S.isDeepEqual(this.state.attributes,r)||(this.state.attributes=r,n.push("attributes"));break;case"reachability":this.state.online!==t.online&&(this.state.online=t.online,n.push("online")),this.state.notifiable!==t.notifiable&&(this.state.notifiable=t.notifiable,n.push("notifiable"));break;default:return}n.length>0&&this.emit("updated",{user:this,updateReasons:n})}},{key:"_updateReachabilityInfo",value:function(e,t){var n=this;return this.services.session.reachabilityEnabled?e.get("reachability").then(t).catch(function(e){E.warn("Failed to get reachability info for ",n.state.identity,e)}):f.default.resolve()}},{key:"_fetch",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(){var t=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.entityName){e.next=2;break}return e.abrupt("return",this);case 2:return this.promiseToFetch=this.services.syncClient.map({id:this.state.entityName,mode:"open_existing",includeItems:!0}).then(function(e){return t.entity=e,e.on("itemUpdated",function(e){return E.debug(t.state.entityName+" ("+t.state.identity+") itemUpdated: "+e.item.key),t._update(e.item.key,e.item.value)}),f.default.all([e.get("friendlyName").then(function(e){return t._update(e.key,e.value)}),e.get("attributes").then(function(e){return t._update(e.key,e.value)}),t._updateReachabilityInfo(e,function(e){return t._update(e.key,e.value)})])}).then(function(){return E.debug("Fetched for",t.identity),t.subscribed="subscribed",t.emit("userSubscribed",t),t}).catch(function(e){throw t.promiseToFetch=null,e}),e.abrupt("return",this.promiseToFetch);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"_ensureFetched",value:function(){return this.promiseToFetch||this._fetch()}},{key:"updateAttributes",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=4;break}throw new Error("Attributes is required parameter");case 4:if(null!==t){e.next=8;break}throw new Error("Attributes can't be null");case 8:if(t.constructor===Object){e.next=10;break}throw new Error("Attributes must be a valid JSON object");case 10:if("unsubscribed"!=this.subscribed){e.next=12;break}throw new Error("Can't modify unsubscribed object");case 12:return e.next=14,this.services.session.addCommand("editUserAttributes",{username:this.state.identity,attributes:(0,a.default)(t)});case 14:return e.abrupt("return",this);case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateFriendlyName",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"string"==typeof t){e.next=2;break}throw new Error("friendlyName must be string or empty");case 2:if("unsubscribed"!=this.subscribed){e.next=4;break}throw new Error("Can't modify unsubscribed object");case 4:return e.next=6,this.services.session.addCommand("editUserFriendlyName",{username:this.state.identity,friendlyName:t});case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"unsubscribe",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.promiseToFetch){e.next=7;break}return e.next=3,this.promiseToFetch;case 3:this.entity.close(),this.promiseToFetch=null,this.subscribed="unsubscribed",this.emit("userUnsubscribed",this);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"identity",get:function(){return this.state.identity},set:function(e){this.state.identity=e}},{key:"entityName",set:function(e){this.state.entityName=e}},{key:"attributes",get:function(){return this.state.attributes}},{key:"friendlyName",get:function(){return this.state.friendlyName}},{key:"online",get:function(){return this.state.online}},{key:"notifiable",get:function(){return this.state.notifiable}},{key:"isSubscribed",get:function(){return"subscribed"==this.subscribed}}]),t}(k.EventEmitter);t.User=C},function(e,t,n){"use strict";function r(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function i(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){void 0===e&&(e=[""]),this.tokens=e}return e.fromJSON=function(t){var n=t.split("/").map(r);if(""!==n[0])throw new Error("Invalid JSON Pointer: "+t);return new e(n)},e.prototype.toString=function(){return this.tokens.map(i).join("/")},e.prototype.evaluate=function(e){for(var t=null,n="",r=e,i=1,a=this.tokens.length;i<a;i++)t=r,n=this.tokens[i],r=(t||{})[n];return{parent:t,key:n,value:r}},e.prototype.get=function(e){return this.evaluate(e).value},e.prototype.set=function(e,t){for(var n=e,r=1,i=this.tokens.length-1,a=this.tokens[r];r<i;r++)n=(n||{})[a];n&&(n[this.tokens[this.tokens.length-1]]=t)},e.prototype.push=function(e){this.tokens.push(e)},e.prototype.add=function(t){return new e(this.tokens.concat(String(t)))},e}();t.Pointer=a},function(e,t,n){"use strict";function r(e){return void 0===e?"undefined":null===e?"null":Array.isArray(e)?"array":typeof e}function i(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(!o(e[r],t[r]))return!1;return!0}function a(e,t){var n=Object.keys(e),r=Object.keys(t),i=n.length;if(i!==r.length)return!1;for(var a=0;a<i;a++){var u=n[a];if(!s.call(t,u)||!o(e[u],t[u]))return!1}return!0}function o(e,t){if(e===t)return!0;var n=r(e),o=r(t);return"array"==n&&"array"==o?i(e,t):"object"==n&&"object"==o&&a(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.prototype.hasOwnProperty;t.objectType=r,t.compare=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){try{return JSON.parse(e)}catch(e){d.warn("Failed to parse channel attributes",e)}return{}}function a(e){try{return new Date(e)}catch(e){return null}}var o=n(5),s=r(o),u=n(6),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=n(31),f=n(253),d=l.Logger.scope("ChannelDescriptor"),p=function(){function e(t,n){(0,s.default)(this,e),this.client=t,this.descriptor=n,n.sid?(this.sid=n.sid,this.channel=n.sid+".channel"):(this.sid=n.channel_sid,this.channel=n.channel_sid+".channel"),this.uniqueName=n.unique_name,this.friendlyName=n.friendly_name,this.attributes=i(n.attributes),this.createdBy=n.created_by,this.dateCreated=a(n.date_created),this.dateUpdated=a(n.date_updated),this.messagesCount=n.messages_count,this.membersCount=n.members_count,this.type=n.type,this.isPrivate="private"==n.type,this.lastConsumedMessageIndex=n.last_consumed_message_index,n.notification_level&&(this.notificationLevel=n.notification_level),n.status?this.status=f.filterStatus(n.status):this.status="unknown"}return(0,c.default)(e,[{key:"getChannel",value:function(){return this.client.getChannelBySid(this.sid)}}]),e}();t.ChannelDescriptor=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){try{return new Date(e)}catch(e){return null}}function a(e){switch(e){case"notParticipating":return"known";default:return e}}var o=n(172),s=r(o),u=n(18),c=r(u),l=n(25),f=r(l),d=n(19),p=r(d),h=n(55),v=r(h),m=n(73),y=r(m),g=n(259),b=r(g),_=n(42),w=r(_),k=n(5),x=r(k),S=n(6),E=r(S),C=n(43),P=r(C),O=n(44),T=r(O);Object.defineProperty(t,"__esModule",{value:!0});var A=n(11),M=n(31),I=n(641),D=n(260),R=n(642),j=n(45),N=M.Logger.scope("Channel"),L={lastMessage:"lastMessage",attributes:"attributes",createdBy:"createdBy",dateCreated:"dateCreated",dateUpdated:"dateUpdated",friendlyName:"friendlyName",lastConsumedMessageIndex:"lastConsumedMessageIndex",notificationLevel:"notificationLevel",sid:"sid",status:"status",type:"type",uniqueName:"uniqueName"};t.filterStatus=a;var F=function(e){function t(e,n,r){(0,x.default)(this,t);var a=(0,P.default)(this,(t.__proto__||(0,w.default)(t)).call(this)),o=n.attributes||{},s=n.createdBy,u=i(n.dateCreated),c=i(n.dateUpdated),l=n.friendlyName||null,f=(0,b.default)(n.lastConsumedMessageIndex)?n.lastConsumedMessageIndex:null,d=n.uniqueName||null;try{(0,y.default)(o)}catch(e){throw new Error("Attributes must be a valid JSON object.")}return a.services=e,a.sid=r,a.entityName=n.channel,a.state={uniqueName:d,status:"known",type:n.type,attributes:o,createdBy:s,dateCreated:u,dateUpdated:c,friendlyName:l,lastConsumedMessageIndex:f},n.notificationLevel&&(a.state.notificationLevel=n.notificationLevel),a.members=new v.default,a.membersEntity=new I.Members(a,a.services,a.members),a.membersEntity.on("memberJoined",a.emit.bind(a,"memberJoined")),a.membersEntity.on("memberLeft",a.emit.bind(a,"memberLeft")),a.membersEntity.on("memberUpdated",function(e){return a.emit("memberUpdated",e)}),a.messagesEntity=new R.Messages(a,e),a.messagesEntity.on("messageAdded",function(e){return a._onMessageAdded(e)}),a.messagesEntity.on("messageUpdated",function(e){return a.emit("messageUpdated",e)}),a.messagesEntity.on("messageRemoved",a.emit.bind(a,"messageRemoved")),a}return(0,T.default)(t,e),(0,E.default)(t,[{key:"_subscribe",value:function(){var e=this;return this.entityPromise?this.entityPromise:this.entityPromise=this.entityPromise||this.services.syncClient.document({id:this.entityName,mode:"open_existing"}).then(function(t){return e.entity=t,e.entity.on("updated",function(t){e._update(t.value)}),e.entity.on("removed",function(){return e.emit("removed",e)}),e._update(e.entity.value),t}).catch(function(t){throw e.entity=null,e.entityPromise=null,"disconnected"!=e.services.syncClient.connectionState&&N.error("Failed to get channel object",t),N.debug("ERROR: Failed to get channel object",t),t})}},{key:"_subscribeStreams",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){var t,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._subscribe();case 3:return N.trace("_subscribeStreams, this.entity.value=",this.entity.value),t=this.entity.value.messages,n=this.entity.value.roster,e.next=8,f.default.all([this.messagesEntity.subscribe(t),this.membersEntity.subscribe(n)]);case 8:e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(0),"disconnected"!==this.services.syncClient.connectionState&&N.error("Failed to subscribe on channel objects",this.sid,e.t0),N.debug("ERROR: Failed to subscribe on channel objects",this.sid,e.t0),e.t0;case 15:case"end":return e.stop()}},e,this,[[0,10]])}));return e}()},{key:"_unsubscribe",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrivate||!this.entity){e.next=5;break}return e.next=3,this.entity.close();case 3:this.entity=null,this.entityPromise=null;case 5:return e.abrupt("return",f.default.all([this.membersEntity.unsubscribe(),this.messagesEntity.unsubscribe()]));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"_setStatus",value:function(e,t){var n=this;this.statusSource=t,this.state.status!==e&&(this.state.status=e,"joined"===e?this._subscribeStreams().catch(function(t){if(N.debug("ERROR while setting channel status "+e,t),"disconnected"!==n.services.syncClient.connectionState)throw t}):"invited"===e?this._subscribe().catch(function(t){if(N.debug("ERROR while setting channel status "+e,t),"disconnected"!==n.services.syncClient.connectionState)throw t}):this.entityPromise&&this._unsubscribe().catch(function(t){if(N.debug("ERROR while setting channel status "+e,t),"disconnected"!==n.services.syncClient.connectionState)throw t}))}},{key:"_statusSource",value:function(){return this.statusSource}},{key:"_update",value:function(e){N.trace("_update",e);var n=[];t.preprocessUpdate(e,this.sid);for(var r in e){var i=L[r];if(i)if(i===L.status)e.status&&"unknown"!=e.status&&this.state.status!==a(e.status)&&(this.state.status=a(e.status),n.push(i));else if(i===L.attributes)j.isDeepEqual(this.state.attributes,e.attributes)||(this.state.attributes=e.attributes,n.push(i));else if(i===L.lastConsumedMessageIndex)void 0!==e.lastConsumedMessageIndex&&e.lastConsumedMessageIndex!==this.state.lastConsumedMessageIndex&&(this.state.lastConsumedMessageIndex=e.lastConsumedMessageIndex,n.push(i));else if(i===L.lastMessage){var o=!1;this.state.lastMessage&&!e.lastMessage?(delete this.state.lastMessage,o=!0):(this.state.lastMessage||(this.state.lastMessage={}),e.lastMessage&&void 0!==e.lastMessage.index&&e.lastMessage.index!==this.state.lastMessage.index&&(this.state.lastMessage.index=e.lastMessage.index,o=!0),!e.lastMessage||!e.lastMessage.timestamp||this.state.lastMessage.timestamp&&this.state.lastMessage.timestamp.getTime()===e.lastMessage.timestamp.getTime()||(this.state.lastMessage.timestamp=e.lastMessage.timestamp,o=!0),j.isDeepEqual(this.state.lastMessage,{})&&delete this.state.lastMessage),o&&n.push(i)}else e[r]instanceof Date?this.state[i]&&this.state[i].getTime()===e[r].getTime()||(this.state[i]=e[r],n.push(i)):this[i]!==e[r]&&(this.state[i]=e[r],n.push(i))}n.length>0&&this.emit("updated",{channel:this,updateReasons:n})}},{key:"_onMessageAdded",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=(0,s.default)(this.members.values());!(t=(i=a.next()).done);t=!0){var o=i.value;if(o.identity===e.author){o._endTyping();break}}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}this.emit("messageAdded",e)}},{key:"add",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Channel.add requires an <String>identity parameter");case 2:return e.abrupt("return",this.membersEntity.add(t));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"advanceLastConsumedMessageIndex",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,b.default)(t)){e.next=2;break}throw new Error("Channel.advanceLastConsumedMessageIndex requires an integral <Number>index parameter");case 2:return e.next=4,this._subscribeStreams();case 4:return e.abrupt("return",this.services.consumptionHorizon.advanceLastConsumedMessageIndexForChannel(this.sid,t,this.lastConsumedMessageIndex));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"decline",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("declineInvitation",{channelSid:this.sid});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"delete",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("destroyChannel",{channelSid:this.sid});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getAttributes",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribe();case 2:return e.abrupt("return",this.attributes);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMessages",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t,n,r){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n||(0,b.default)(n)){e.next=2;break}throw new Error("Anchor should be a valid message index");case 2:return e.next=4,this._subscribeStreams();case 4:return e.abrupt("return",this.messagesEntity.getMessages(t,n,r));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMembers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this.membersEntity.getMembers());case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMembersCount",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){var t,n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getSessionLinks();case 2:return t=e.sent,n=new j.UriBuilder(t.publicChannelsUrl).path(this.sid).build(),e.next=6,this.services.network.get(n);case 6:return r=e.sent,e.abrupt("return",r.body.members_count);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMemberBySid",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Channel.getMemberBySid requires a <String>memberSid parameter");case 2:return e.abrupt("return",this.membersEntity.getMemberBySid(t));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMemberByIdentity",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Channel.getMemberByIdentity requires a <String>identity parameter");case 2:return e.abrupt("return",this.membersEntity.getMemberByIdentity(t));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMessagesCount",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){var t,n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getSessionLinks();case 2:return t=e.sent,n=new j.UriBuilder(t.publicChannelsUrl).path(this.sid).build(),e.next=6,this.services.network.get(n);case 6:return r=e.sent,e.abrupt("return",r.body.messages_count);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"getUnconsumedMessagesCount",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){var t,n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getSessionLinks();case 2:return t=e.sent,n=new j.UriBuilder(t.myChannelsUrl).arg("ChannelSid",this.sid).build(),e.next=6,this.services.network.get(n);case 6:if(r=e.sent,!r.body.channels.length||r.body.channels[0].channel_sid!=this.sid){e.next=11;break}if(void 0===r.body.channels[0].unread_messages_count||null==r.body.channels[0].unread_messages_count){e.next=10;break}return e.abrupt("return",r.body.channels[0].unread_messages_count);case 10:return e.abrupt("return",null);case 11:throw new Error("Channel is not in user channels list");case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"invite",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t&&t.length){e.next=2;break}throw new Error("Channel.invite requires an <String>identity parameter");case 2:return e.next=4,this.membersEntity.invite(t);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"join",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("joinChannelV2",{channelSid:this.sid});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"leave",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("joined"!==this.state.status){e.next=3;break}return e.next=3,this.services.session.addCommand("leaveChannel",{channelSid:this.sid});case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeMember",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&("string"==typeof t||t instanceof D.Member)){e.next=2;break}throw new Error("Channel.removeMember requires a <String|Member>member parameter.");case 2:if(!(t instanceof D.Member)){e.next=7;break}return e.next=5,this.membersEntity.removeBySid(t.sid);case 5:e.next=9;break;case 7:return e.next=9,this.membersEntity.removeByIdentity(t);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"sendMessage",value:function(){function e(e,n){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t,n){var r,i;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}throw new Error("Message is required parameter");case 2:if("string"!=typeof t&&null!==t){e.next=9;break}return e.next=5,this.messagesEntity.send(t,n);case 5:return r=e.sent,e.abrupt("return",j.parseToNumber(r.messageId));case 9:return e.next=11,this.messagesEntity.sendMedia(t,n);case 11:return i=e.sent,e.abrupt("return",j.parseToNumber(i.messageId));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"setAllMessagesConsumed",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.next=4,this.getMessages(1);case 4:if(t=e.sent,!(t.items.length>0)){e.next=7;break}return e.abrupt("return",this.advanceLastConsumedMessageIndex(t.items[0].index));case 7:return e.abrupt("return",f.default.resolve(0));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"setNoMessagesConsumed",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this.services.consumptionHorizon.updateLastConsumedMessageIndexForChannel(this.sid,null));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"setUserNotificationLevel",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("notificationLevel can't be null");case 2:return e.next=4,this.services.session.addCommand("editNotificationLevel",{channelSid:this.sid,notificationLevel:t});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"typing",value:function(){return this.services.typingIndicator.send(this.sid)}},{key:"updateAttributes",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=4;break}throw new Error("Attributes is required parameter");case 4:if(null!==t){e.next=8;break}throw new Error("Attributes can't be null");case 8:if(t.constructor===Object){e.next=10;break}throw new Error("Attributes must be a valid JSON object.");case 10:return e.next=12,this.services.session.addCommand("editAttributes",{channelSid:this.sid,attributes:(0,y.default)(t)});case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateFriendlyName",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.friendlyName===t){e.next=3;break}return e.next=3,this.services.session.addCommand("editFriendlyName",{channelSid:this.sid,friendlyName:t});case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateLastConsumedMessageIndex",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,b.default)(t)||null===t){e.next=2;break}throw new Error('Incorrect argument "index": integer number or null expected');case 2:return e.next=4,this._subscribeStreams();case 4:return e.abrupt("return",this.services.consumptionHorizon.updateLastConsumedMessageIndexForChannel(this.sid,t));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateUniqueName",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.uniqueName===t){e.next=4;break}return t||(t=""),e.next=4,this.services.session.addCommand("editUniqueName",{channelSid:this.sid,uniqueName:t});case 4:return e.abrupt("return",this);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"getUserDescriptors",value:function(){function e(){return t.apply(this,arguments)}var t=(0,p.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.users.getChannelUserDescriptors(this.sid));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"status",get:function(){return this.state.status}},{key:"type",get:function(){return this.state.type}},{key:"uniqueName",get:function(){return this.state.uniqueName}},{key:"isPrivate",get:function(){return"private"===this.state.type}},{key:"friendlyName",get:function(){return this.state.friendlyName}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"createdBy",get:function(){return this.state.createdBy}},{key:"attributes",get:function(){return this.state.attributes}},{key:"lastConsumedMessageIndex",get:function(){return this.state.lastConsumedMessageIndex}},{key:"lastMessage",get:function(){return this.state.lastMessage}},{key:"notificationLevel",get:function(){return this.state.notificationLevel}}],[{key:"preprocessUpdate",value:function(e,t){try{"string"==typeof e.attributes?e.attributes=JSON.parse(e.attributes):e.attributes&&(0,y.default)(e.attributes)}catch(n){N.warn("Retrieved malformed attributes from the server for channel: "+t),e.attributes={}}try{e.dateCreated&&(e.dateCreated=new Date(e.dateCreated))}catch(n){N.warn("Retrieved malformed dateCreated from the server for channel: "+t),delete e.dateCreated}try{e.dateUpdated&&(e.dateUpdated=new Date(e.dateUpdated))}catch(n){N.warn("Retrieved malformed dateUpdated from the server for channel: "+t),delete e.dateUpdated}try{e.lastMessage&&e.lastMessage.timestamp&&(e.lastMessage.timestamp=new Date(e.lastMessage.timestamp))}catch(n){N.warn("Retrieved malformed lastMessage.timestamp from the server for channel: "+t),delete e.lastMessage.timestamp}}}]),t}(A.EventEmitter);t.Channel=F},function(e,t,n){"use strict";var r=n(33).f,i=n(96),a=n(168),o=n(50),s=n(165),u=n(98),c=n(164),l=n(232),f=n(240),d=n(41),p=n(170).fastKey,h=n(173),v=d?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&u(r,n,e[c],e)});return a(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var i=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=i),i&&(i.p=a),n._f==r&&(n._f=i),n._l==r&&(n._l=a),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,n){var r,i,a=m(e,t);return a?a.v=n:(e._l=a={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[v]++,"F"!==i&&(e._i[i]=a)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(17),i=n(15),a=n(170),o=n(54),s=n(53),u=n(168),c=n(98),l=n(165),f=n(22),d=n(97),p=n(33).f,h=n(631)(0),v=n(41);e.exports=function(e,t,n,m,y,g){var b=r[e],_=b,w=y?"set":"add",k=_&&_.prototype,x={};return v&&"function"==typeof _&&(g||k.forEach&&!o(function(){(new _).entries().next()}))?(_=t(function(t,n){l(t,_,e,"_c"),t._c=new b,void 0!=n&&c(n,y,t[w],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in k&&(!g||"clear"!=e)&&s(_.prototype,e,function(n,r){if(l(this,_,e),!t&&g&&!f(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),g||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=m.getConstructor(t,e,y,w),u(_.prototype,n),a.NEED=!0),d(_,e),x[e]=_,i(i.G+i.W+i.F,x),g||m.setStrong(_,e,y),_}},function(e,t,n){var r=n(124),i=n(635);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(15),i=n(69),a=n(50),o=n(98);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),t=void 0!==u,t&&i(u),void 0==e?new this:(n=[],t?(r=0,s=a(u,arguments[2],2),o(e,!1,function(e){n.push(s(e,r++))})):o(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports={default:n(638),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(73),a=r(i),o=n(18),s=r(o),u=n(19),c=r(u),l=n(259),f=r(l),d=n(42),p=r(d),h=n(5),v=r(h),m=n(6),y=r(m),g=n(43),b=r(g),_=n(44),w=r(_);Object.defineProperty(t,"__esModule",{value:!0});var k=n(11),x=n(45),S=n(31),E=S.Logger.scope("Member"),C=function(e){function t(e,n,r,i){(0,v.default)(this,t);var a=(0,b.default)(this,(t.__proto__||(0,p.default)(t)).call(this));if(a.channel=n,a.services=e,a.state={attributes:x.parseAttributes(r.attributes,"Retrieved malformed attributes from the server for member: "+i,E),dateCreated:r.dateCreated?x.parseTime(r.dateCreated):null,dateUpdated:r.dateCreated?x.parseTime(r.dateUpdated):null,sid:i,typingTimeout:null,isTyping:!1,identity:r.identity||null,roleSid:r.roleSid||null,lastConsumedMessageIndex:(0,f.default)(r.lastConsumedMessageIndex)?r.lastConsumedMessageIndex:null,lastConsumptionTimestamp:r.lastConsumptionTimestamp?x.parseTime(r.lastConsumptionTimestamp):null,type:r.type||"chat",userInfo:r.userInfo},!r.identity&&!r.type)throw new Error("Received invalid Member object from server: Missing identity or type of Member.");return a}return(0,w.default)(t,e),(0,y.default)(t,[{key:"_startTyping",value:function(e){var t=this;return clearTimeout(this.state.typingTimeout),this.state.isTyping=!0,this.emit("typingStarted",this),this.channel.emit("typingStarted",this),this.state.typingTimeout=setTimeout(function(){return t._endTyping()},e),this}},{key:"_endTyping",value:function(){this.state.typingTimeout&&(this.state.isTyping=!1,this.emit("typingEnded",this),this.channel.emit("typingEnded",this),clearInterval(this.state.typingTimeout),this.state.typingTimeout=null)}},{key:"_update",value:function(e){var t=[],n=x.parseAttributes(e.attributes,"Retrieved malformed attributes from the server for member: "+this.state.sid,E);e.attributes&&!x.isDeepEqual(this.state.attributes,n)&&(this.state.attributes=n,t.push("attributes"));var r=x.parseTime(e.dateUpdated);e.dateUpdated&&r.getTime()!==(this.state.dateUpdated&&this.state.dateUpdated.getTime())&&(this.state.dateUpdated=r,t.push("dateUpdated"));var i=x.parseTime(e.dateCreated);if(e.dateCreated&&i.getTime()!==(this.state.dateCreated&&this.state.dateCreated.getTime())&&(this.state.dateCreated=i,t.push("dateCreated")),e.roleSid&&this.state.roleSid!==e.roleSid&&(this.state.roleSid=e.roleSid,t.push("roleSid")),!(0,f.default)(e.lastConsumedMessageIndex)&&null!==e.lastConsumedMessageIndex||this.state.lastConsumedMessageIndex===e.lastConsumedMessageIndex||(this.state.lastConsumedMessageIndex=e.lastConsumedMessageIndex,t.push("lastConsumedMessageIndex")),e.lastConsumptionTimestamp){var a=new Date(e.lastConsumptionTimestamp);this.state.lastConsumptionTimestamp&&this.state.lastConsumptionTimestamp.getTime()===a.getTime()||(this.state.lastConsumptionTimestamp=a,t.push("lastConsumptionTimestamp"))}return t.length>0&&this.emit("updated",{member:this,updateReasons:t}),this}},{key:"getUserDescriptor",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("chat"==this.type){e.next=2;break}throw new Error("Getting User Descriptor is not supported for this Member type: "+this.type);case 2:return e.abrupt("return",this.services.users.getUserDescriptor(this.state.identity));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getUser",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("chat"==this.type){e.next=2;break}throw new Error("Getting User is not supported for this Member type: "+this.type);case 2:return e.abrupt("return",this.services.users.getUser(this.state.identity,this.state.userInfo));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"remove",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.channel.removeMember(this));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateAttributes",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=4;break}throw new Error("Attributes is required parameter");case 4:if(null!==t){e.next=8;break}throw new Error("Attributes can't be null");case 8:if(t.constructor===Object){e.next=10;break}throw new Error("Attributes must be a valid JSON object");case 10:return e.next=12,this.services.session.addCommand("editMemberAttributes",{channelSid:this.channel.sid,memberSid:this.sid,attributes:(0,a.default)(t)});case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"sid",get:function(){return this.state.sid}},{key:"attributes",get:function(){return this.state.attributes}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"identity",get:function(){return this.state.identity}},{key:"isTyping",get:function(){return this.state.isTyping}},{key:"lastConsumedMessageIndex",get:function(){return this.state.lastConsumedMessageIndex}},{key:"lastConsumptionTimestamp",get:function(){return this.state.lastConsumptionTimestamp}},{key:"roleSid",get:function(){return this.state.roleSid}},{key:"type",get:function(){return this.state.type}}]),t}(k.EventEmitter);t.Member=C},function(e,t,n){"use strict";var r=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var a=function e(){(0,i.default)(this,e)};t.NotificationTypes=a,a.TYPING_INDICATOR="twilio.ipmsg.typing_indicator",a.NEW_MESSAGE="twilio.channel.new_message",a.ADDED_TO_CHANNEL="twilio.channel.added_to_channel",a.INVITED_TO_CHANNEL="twilio.channel.invited_to_channel",a.REMOVED_FROM_CHANNEL="twilio.channel.removed_from_channel",a.CONSUMPTION_UPDATE="twilio.channel.consumption_update"},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){function n(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}).length}function a(e){var t=encodeURIComponent(e),n=t.replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}),r=new Uint8Array(n.length);return Array.prototype.forEach.call(n,function(e,t){r[t]=e.charCodeAt(0)}),r}function o(e){var t=Array.prototype.map.call(e,function(e){return String.fromCharCode(e)}).join(""),n=t.replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n});return decodeURIComponent(n)}function s(e){return JSON.parse(o(e))}function u(e){for(var t="",n=0;n<e.length;++n){var r=String.fromCharCode(e[n]);if(t+=r,"\r"===r){n+=2;break}}var i=t.split(" ");return{size:n,protocol:i[0],version:i[1],headerSize:Number(i[2])}}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(74),f=function(){function e(){r(this,e)}return c(e,null,[{key:"parse",value:function(e){var t=new Uint8Array(e),n=u(t);if("TWILSOCK"!==n.protocol||"V3.0"!==n.version)return void l.log.error("unsupported protocol: "+n.protocol+" ver "+n.version);var r=null;try{r=s(t.subarray(n.size,n.size+n.headerSize))}catch(t){return void l.log.error("failed to parse message header",t,e)}l.log.debug("message received: ",r.method),l.log.trace("message received: ",r);var i=null;if(r.payload_size>0){var a=2+n.size+n.headerSize,c=r.payload_size;if(r.hasOwnProperty("payload_type")&&0!==r.payload_type.indexOf("application/json"))0===r.payload_type.indexOf("text/plain")&&(i=o(t.subarray(a,a+c)));else try{i=s(t.subarray(a,a+c))}catch(t){return void l.log.error("failed to parse message body",t,e)}}return{method:r.method,header:r,payload:i}}},{key:"createPacket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.payload_size=i(t);var n=JSON.stringify(e)+"\r\n",r="TWILSOCK V3.0 "+(i(n)-2)+"\r\n";return l.log.debug("send request:",r+n+t),a(r+n+t).buffer}}]),e}();t.Parser=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(76),s=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.reply=n,a}return a(t,e),t}(o.TwilsockError);t.TwilsockReplyError=s},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(679);t.Notifications=r.Client},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return[].concat(o([].concat(o(e)).filter(function(e){return!t.has(e)})),o([].concat(o(t)).filter(function(t){return!e.has(t)})))}function c(e,t){var n=new Set;return e.notificationId!==t.notificationId&&n.add("notificationId"),e.token!==t.token&&n.add("token"),u(e.messageTypes,t.messageTypes).length>0&&n.add("messageType"),[n.size>0,n]}var l=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var d=n(11),p=n(176),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;s(this,e),this.token=t,this.notificationId=n,this.messageTypes=r}return f(e,[{key:"clone",value:function(){return new e(this.token,this.notificationId,new Set(this.messageTypes))}}]),e}();t.RegistrationState=h;var v=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.config=e,n.desiredState=new h,n.currentState=new h,n.hasActiveAttempt=!1,n}return a(t,e),f(t,[{key:"subscribe",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.desiredState.messageTypes.has(t)){e.next=3;break}return p.log.debug("message type already registered ",t),e.abrupt("return");case 3:return this.desiredState.messageTypes.add(t),e.next=6,this.persistRegistration();case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"unsubscribe",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.desiredState.messageTypes.has(t)){e.next=2;break}return e.abrupt("return");case 2:return this.desiredState.messageTypes.delete(t),e.next=5,this.persistRegistration();case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateToken",value:function(e){this.desiredState.token=e,this.persistRegistration()}},{key:"persistRegistration",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.token&&0!==this.config.token.length){e.next=3;break}return p.log.trace("Can't persist registration: token is not set"),e.abrupt("return");case 3:if(!this.hasActiveAttempt){e.next=6;break}return p.log.trace("One registration attempt is already in progress"),e.abrupt("return");case 6:if(t=c(this.desiredState,this.currentState),n=l(t,2),r=n[0],i=n[1],r){e.next=9;break}return e.abrupt("return");case 9:if(this.currentState.notificationId||i.delete("notificationId"),p.log.trace("Persisting registration",i,this.desiredState),e.prev=11,this.hasActiveAttempt=!0,a=this.desiredState.clone(),!(a.messageTypes.size>0)){e.next=24;break}return e.next=17,this.updateRegistration(a,i);case 17:o=e.sent,this.currentState.token=o.token,this.currentState.notificationId=o.notificationId,this.currentState.messageTypes=o.messageTypes,this.emit("stateChanged","registered"),e.next=30;break;case 24:return e.next=26,this.removeRegistration();case 26:this.currentState.token=a.token,this.currentState.notificationId=a.notificationId,this.currentState.messageTypes.clear(),this.emit("stateChanged","unregistered");case 30:return e.prev=30,this.hasActiveAttempt=!1,setTimeout(function(){return s.persistRegistration()},0),e.finish(30);case 34:case"end":return e.stop()}},e,this,[[11,,30,34]])}));return e}()},{key:"setNotificationId",value:function(e){this.desiredState.notificationId=e,this.persistRegistration()}}]),t}(d.EventEmitter);t.Connector=v},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(57),l=n(99),f=n(58),d=n(100),p=n(177),h=n(101),v=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));o.isDeleted=!1;var s=function(e,t){return"number"==typeof t.ttl?{ttl:t.ttl}:e};return o.updateMergingQueue=new p.MergingQueue(s),o.descriptor=n,o.descriptor.data=o.descriptor.data||{},o.descriptor.date_updated=new Date(o.descriptor.date_updated),o}return o(t,e),u(t,[{key:"_update",value:function(e){switch(e.date_created=new Date(e.date_created),e.type){case"document_updated":e.id>this.lastEventId?(this.descriptor.last_event_id=e.id,this.descriptor.revision=e.document_revision,this.descriptor.date_updated=e.date_created,this.descriptor.data=e.document_data,this.broadcastEventToListeners("updated",{value:e.document_data,isLocal:!1}),this.services.storage.update(this.type,this.sid,this.uniqueName,{last_event_id:e.id,revision:e.document_revision,date_updated:e.date_created,data:e.document_data})):f.default.trace("Document update skipped, current:",this.lastEventId,", remote:",e.id);break;case"document_removed":this.onRemoved(!1)}}},{key:"set",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},l.validateOptionalTtl(r.ttl),e.abrupt("return",this.updateMergingQueue.squashAndAdd(r,function(e){return i._setUnconditionally(t,e.ttl)}));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"mutate",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},l.validateOptionalTtl(r.ttl),e.abrupt("return",this.updateMergingQueue.add(r,function(e){return i._setWithIfMatch(t,e.ttl)}));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"update",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(function(e){return Object.assign(e,t)},n));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"setTtl",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.validateMandatoryTtl(t),e.next=3,this._postUpdateToServer({ttl:t});case 3:n=e.sent,this.descriptor.date_expires=n.date_expires;case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"_setUnconditionally",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._postUpdateToServer({data:t,revision:void 0,ttl:n});case 2:return r=e.sent,this._handleSuccessfulUpdateResult(r),e.abrupt("return",this.value);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"_setWithIfMatch",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t(l.deepClone(this.value)))){e.next=22;break}return i=this.revision,e.prev=3,e.next=6,this._postUpdateToServer({data:r,revision:i,ttl:n});case 6:return a=e.sent,this._handleSuccessfulUpdateResult(a),e.abrupt("return",this.value);case 11:if(e.prev=11,e.t0=e.catch(3),412!==e.t0.status){e.next=19;break}return e.next=16,this._softSync();case 16:return e.abrupt("return",this._setWithIfMatch(t));case 19:throw e.t0;case 20:e.next=23;break;case 22:return e.abrupt("return",this.value);case 23:case"end":return e.stop()}},e,this,[[3,11]])}));return e}()},{key:"_handleSuccessfulUpdateResult",value:function(e){e.last_event_id>this.descriptor.last_event_id&&(this.descriptor.revision=e.revision,this.descriptor.data=e.data,this.descriptor.last_event_id=e.last_event_id,this.descriptor.date_expires=e.date_expires,this.descriptor.date_updated=new Date(e.date_updated),this.services.storage.update(this.type,this.sid,this.uniqueName,{last_event_id:e.last_event_id,revision:e.revision,date_updated:e.date_updated,data:e.data}),this.broadcastEventToListeners("updated",{value:this.value,isLocal:!0}))}},{key:"_postUpdateToServer",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDeleted){e.next=17;break}return n={data:t.data},void 0!==t.ttl&&(n.ttl=t.ttl),r=t.revision,e.prev=4,e.next=7,this.services.network.post(this.uri,n,r);case 7:return i=e.sent,e.abrupt("return",{revision:i.body.revision,data:t.data,last_event_id:i.body.last_event_id,date_updated:i.body.date_updated,date_expires:i.body.date_expires});case 11:throw e.prev=11,e.t0=e.catch(4),404===e.t0.status&&this.onRemoved(!1),e.t0;case 15:e.next=18;break;case 17:return e.abrupt("return",Promise.reject(new c.SyncError("The Document has been removed",404,54100)));case 18:case"end":return e.stop()}},e,this,[[4,11]])}));return e}()},{key:"_softSync",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.network.get(this.uri).then(function(e){var n={type:"document_updated",id:e.body.last_event_id,document_revision:e.body.revision,document_data:e.body.data,date_created:e.body.date_updated};return t._update(n),t}).catch(function(e){404===e.status?t.onRemoved(!1):f.default.error("Can't get updates for "+t.sid+":",e)}));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"onRemoved",value:function(e){this.isDeleted||(this.isDeleted=!0,this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e}))}},{key:"removeDocument",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDeleted){e.next=6;break}return e.next=3,this.services.network.delete(this.uri);case 3:this.onRemoved(!0),e.next=7;break;case 6:return e.abrupt("return",Promise.reject(new c.SyncError("The Document has been removed",404,54100)));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"document"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"value",get:function(){return this.descriptor.data}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}}],[{key:"type",get:function(){return"document"}}]),t}(d.SyncEntity);t.SyncDocumentImpl=v;var m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.syncDocumentImpl=e,n.syncDocumentImpl.attach(n),n}return o(t,e),u(t,[{key:"set",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.set(t,n));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"mutate",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.mutate(t,n));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"update",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.update(t,n));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"setTtl",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.setTtl(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeDocument",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.removeDocument());case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"close",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this),this.syncDocumentImpl.detach(this.listenerUuid)}},{key:"uri",get:function(){return this.syncDocumentImpl.uri}},{key:"revision",get:function(){return this.syncDocumentImpl.revision}},{key:"lastEventId",get:function(){return this.syncDocumentImpl.lastEventId}},{key:"dateExpires",get:function(){return this.syncDocumentImpl.dateExpires}},{key:"type",get:function(){return v.type}},{key:"sid",get:function(){return this.syncDocumentImpl.sid}},{key:"value",get:function(){return this.syncDocumentImpl.value}},{key:"dateUpdated",get:function(){return this.syncDocumentImpl.dateUpdated}},{key:"uniqueName",get:function(){return this.syncDocumentImpl.uniqueName}}],[{key:"type",get:function(){return v.type}}]),t}(h.default);t.SyncDocument=m,t.default=m},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(99),l=n(126),f=n(57),d=n(58),p=n(100),h=n(271),v=n(272),m=n(178),y=n(177),g=n(101),b=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r)),s=function(e,t){return"number"==typeof t.ttl?{ttl:t.ttl}:e};return o.updateMergingQueue=new y.NamespacedMergingQueue(s),o.cache=new m.Cache,o.descriptor=n,o.descriptor.date_updated=new Date(o.descriptor.date_updated),o}return o(t,e),u(t,[{key:"_addOrUpdateItemOnServer",value:function(){function e(e,n,r,i){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r,i){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:n},void 0!==i&&(a.ttl=i),e.next=4,this.services.network.post(t,a,r);case 4:return o=e.sent,o.body.data=n,o.body.date_updated=new Date(o.body.date_updated),e.abrupt("return",o.body);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"push",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n||{}).ttl,c.validateOptionalTtl(r),e.next=4,this._addOrUpdateItemOnServer(this.links.items,t,void 0,r);case 4:return i=e.sent,a=Number(i.index),this._handleItemMutated(a,i.url,i.last_event_id,i.revision,t,i.date_updated,i.date_expires,!0,!1),e.abrupt("return",this.cache.get(a));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"set",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){var i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},c.validateOptionalTtl(i.ttl),e.abrupt("return",this.updateMergingQueue.squashAndAdd(t,i,function(e){return a._updateItemUnconditionally(t,n,e.ttl)}));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"_updateItemUnconditionally",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return i=e.sent,e.next=5,this._addOrUpdateItemOnServer(i.uri,n,void 0,r);case 5:return a=e.sent,this._handleItemMutated(t,a.url,a.last_event_id,a.revision,a.data,a.date_updated,a.date_expires,!1,!1),e.abrupt("return",this.cache.get(t));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"_updateItemWithIfMatch",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:if(i=e.sent,!(a=n(c.deepClone(i.value)))){e.next=25;break}return o=i.revision,e.prev=6,e.next=9,this._addOrUpdateItemOnServer(i.uri,a,o,r);case 9:return s=e.sent,this._handleItemMutated(t,s.url,s.last_event_id,s.revision,s.data,s.date_updated,s.date_expires,!1,!1),e.abrupt("return",this.cache.get(t));case 14:if(e.prev=14,e.t0=e.catch(6),412!==e.t0.status){e.next=22;break}return e.next=19,this._getItemFromServer(t);case 19:return e.abrupt("return",this._updateItemWithIfMatch(t,n,r));case 22:throw e.t0;case 23:e.next=26;break;case 25:return e.abrupt("return",i);case 26:case"end":return e.stop()}},e,this,[[6,14]])}));return e}()},{key:"mutate",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){var i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},c.validateOptionalTtl(i.ttl),e.abrupt("return",this.updateMergingQueue.add(t,i,function(e){return a._updateItemWithIfMatch(t,n,e.ttl)}));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"update",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(t,function(e){return Object.assign(e,n)},r));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"remove",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return n=e.sent,e.next=5,this.services.network.delete(n.uri);case 5:r=e.sent,this._handleItemRemoved(t,r.body.last_event_id,void 0,new Date(r.body.date_updated),!1);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"get",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.cache.get(t))){e.next=5;break}return e.abrupt("return",n);case 5:return e.abrupt("return",this._getItemFromServer(t));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"_getItemFromServer",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryItems({index:t});case 2:if(n=e.sent,!(n.items.length<1)){e.next=7;break}throw new f.SyncError("No item with index "+t+" found",404,54151);case 7:return e.abrupt("return",n.items[0]);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"queryItems",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i,a,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},n=new l.UriBuilder(this.links.items).queryParam("From",t.from).queryParam("PageSize",t.limit).queryParam("Index",t.index).queryParam("PageToken",t.pageToken).queryParam("Order",t.order).build(),e.next=4,this.services.network.get(n);case 4:return r=e.sent,i=r.body.items.map(function(e){return e.date_updated=new Date(e.date_updated),o.cache.get(e.index)?o._handleItemMutated(e.index,e.url,e.last_event_id,e.revision,e.data,e.date_updated,e.date_expires,!1,!0):o.cache.store(Number(e.index),new h.ListItem({index:Number(e.index),uri:e.url,revision:e.revision,lastEventId:e.last_event_id,dateUpdated:e.date_updated,dateExpires:e.date_expires,value:e.data}),e.last_event_id),o.cache.get(e.index)}),a=r.body.meta,e.abrupt("return",new v.Paginator(i,function(e){return o.queryItems({pageToken:e})},a.previous_token,a.next_token));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"getItems",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},c.validatePageSize(t.pageSize),t.limit=t.pageSize||t.limit||50,t.order=t.order||"asc",e.abrupt("return",this.queryItems(t));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"getContext",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context){e.next=5;break}return e.next=3,this.services.network.get(this.links.context);case 3:t=e.sent,this._updateContextIfRequired(t.body.data,t.body.last_event_id);case 5:return e.abrupt("return",this.context);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"setTtl",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.validateMandatoryTtl(t),e.prev=1,n={ttl:t},e.next=5,this.services.network.post(this.uri,n);case 5:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),404===e.t0.status&&this.onRemoved(!1),e.t0;case 13:case"end":return e.stop()}},e,this,[[1,9]])}));return e}()},{key:"setItemTtl",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.validateMandatoryTtl(n),e.next=3,this.get(t);case 3:return r=e.sent,i={ttl:n},e.next=7,this.services.network.post(r.uri,i);case 7:a=e.sent,r.updateDateExpires(a.body.date_expires);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeList",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){var n=Number(e.item_index);switch(e.date_created=new Date(e.date_created),e.type){case"list_item_added":case"list_item_updated":this._handleItemMutated(n,e.item_url,e.id,e.item_revision,e.item_data,e.date_created,void 0,"list_item_added"===e.type,!0);break;case"list_item_removed":this._handleItemRemoved(n,e.id,e.item_data,e.date_created,!0);break;case"list_context_updated":this._handleContextUpdate(e.context_data,e.id,e.date_created);break;case"list_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.list_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_updateRootDateUpdated",value:function(e){(!this.descriptor.date_updated||e.getTime()>this.descriptor.date_updated.getTime())&&(this.descriptor.date_updated=e,this.services.storage.update(this.type,this.sid,this.uniqueName,{date_updated:e}))}},{key:"_handleItemMutated",value:function(e,t,n,r,i,a,o,s,u){if(this.shouldIgnoreEvent(e,n))return void d.default.trace("Item ",e," update skipped, current:",this.lastEventId,", remote:",n);this._updateRootDateUpdated(a);var c=this.cache.get(e);if(c)c.update(n,r,i,a),this.cache.store(e,c,n),void 0!==o&&c.updateDateExpires(o),this.emitItemMutationEvent(c,u,!1);else{var l=new h.ListItem({index:e,uri:t,lastEventId:n,revision:r,value:i,dateUpdated:a,dateExpires:o});this.cache.store(e,l,n),this.emitItemMutationEvent(l,u,s)}}},{key:"emitItemMutationEvent",value:function(e,t,n){var r=n?"itemAdded":"itemUpdated";this.broadcastEventToListeners(r,{item:e,isLocal:!t})}},{key:"_handleItemRemoved",value:function(e,t,n,r,i){this._updateRootDateUpdated(r),this.cache.delete(e,t),this.broadcastEventToListeners("itemRemoved",{index:e,isLocal:!i,value:n})}},{key:"_handleContextUpdate",value:function(e,t,n){this._updateRootDateUpdated(n),this._updateContextIfRequired(e,t)&&this.broadcastEventToListeners("contextUpdated",{context:e,isLocal:!1})}},{key:"_updateContextIfRequired",value:function(e,t){return!this.contextEventId||t>this.contextEventId?(this.context=e,this.contextEventId=t,!0):(d.default.trace("Context update skipped, current:",this.lastEventId,", remote:",t),!1)}},{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"links",get:function(){return this.descriptor.links}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"list"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}}],[{key:"type",get:function(){return"list"}}]),t}(p.SyncEntity);t.SyncListImpl=b;var _=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.syncListImpl=e,n.syncListImpl.attach(n),n}return o(t,e),u(t,[{key:"push",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.push(t,n));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"set",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.set(t,n,r));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"mutate",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.mutate(t,n,r));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"update",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.update(t,n,r));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"remove",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.remove(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"get",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.get(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"getContext",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.getContext());case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"getItems",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.getItems(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"setTtl",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.setTtl(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"setItemTtl",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.setItemTtl(t,n));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeList",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.removeList());case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"close",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this),this.syncListImpl.detach(this.listenerUuid)}},{key:"uri",get:function(){return this.syncListImpl.uri}},{key:"revision",get:function(){return this.syncListImpl.revision}},{key:"lastEventId",get:function(){return this.syncListImpl.lastEventId}},{key:"links",get:function(){return this.syncListImpl.links}},{key:"dateExpires",get:function(){return this.syncListImpl.dateExpires}},{key:"type",get:function(){return b.type}},{key:"sid",get:function(){return this.syncListImpl.sid}},{key:"uniqueName",get:function(){return this.syncListImpl.uniqueName}},{key:"dateUpdated",get:function(){return this.syncListImpl.dateUpdated}}],[{key:"type",get:function(){return b.type}}]),t}(g.default);t.SyncList=_,t.default=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t){r(this,e),this.data=t}return i(e,[{key:"update",value:function(e,t,n,r){return this.data.lastEventId=e,this.data.revision=t,this.data.value=n,this.data.dateUpdated=r,this}},{key:"updateDateExpires",value:function(e){this.data.dateExpires=e}},{key:"uri",get:function(){return this.data.uri}},{key:"revision",get:function(){return this.data.revision}},{key:"lastEventId",get:function(){return this.data.lastEventId}},{key:"dateUpdated",get:function(){return this.data.dateUpdated}},{key:"dateExpires",get:function(){return this.data.dateExpires}},{key:"index",get:function(){return this.data.index}},{key:"value",get:function(){return this.data.value}}]),e}();t.ListItem=a,t.default=a},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n,r,a){i(this,e),this.prevToken=r,this.nextToken=a,this.items=t,this.source=n}return a(e,[{key:"nextPage",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasNextPage){e.next=2;break}throw new Error("No next page");case 2:return e.abrupt("return",this.source(this.nextToken));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"prevPage",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasPrevPage){e.next=2;break}throw new Error("No previous page");case 2:return e.abrupt("return",this.source(this.prevToken));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"hasNextPage",get:function(){return!!this.nextToken}},{key:"hasPrevPage",get:function(){return!!this.prevToken}}]),e}();t.Paginator=o},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(99),l=n(126),f=n(57),d=n(58),p=n(100),h=n(274),v=n(272),m=n(178),y=n(177),g=n(101),b=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r)),s=function(e,t){return"number"==typeof t.ttl?{ttl:t.ttl}:e};return o.updateMergingQueue=new y.NamespacedMergingQueue(s),o.cache=new m.Cache,o.descriptor=n,o.descriptor.date_updated=new Date(o.descriptor.date_updated),n.items&&n.items.forEach(function(e){e.date_updated=new Date(e.date_updated),o.cache.store(e.key,new h.MapItem(e),e.last_event_id)}),o}return o(t,e),u(t,[{key:"set",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){var i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},c.validateOptionalTtl(i.ttl),e.abrupt("return",this.updateMergingQueue.squashAndAdd(t,i,function(e){return a._putItemUnconditionally(t,n,e.ttl)}));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"get",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cache.has(t)){e.next=4;break}return e.abrupt("return",this.cache.get(t));case 4:return e.abrupt("return",this._getItemFromServer(t));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"_getItemFromServer",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryItems({key:t});case 2:if(n=e.sent,!(n.items.length<1)){e.next=7;break}throw new f.SyncError("No item with key "+t+" found",404,54201);case 7:return e.abrupt("return",n.items[0]);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"mutate",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){var i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},c.validateOptionalTtl(i.ttl),e.abrupt("return",this.updateMergingQueue.add(t,i,function(e){return a._putItemWithIfMatch(t,n,e.ttl)}));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"update",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(t,function(e){return Object.assign(e,n)},r));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"_putItemUnconditionally",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._putItemToServer(t,n,void 0,r);case 2:return i=e.sent,a=i.item,this._handleItemMutated(a.key,a.url,a.last_event_id,a.revision,a.data,a.date_updated,a.date_expires,i.added,!1),e.abrupt("return",this.cache.get(a.key));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"_putItemWithIfMatch",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t).catch(function(e){if(404===e.status)return new h.MapItem({key:t,data:{},last_event_id:-1,revision:"-1",url:null,date_updated:null,date_expires:null});throw e});case 2:if(i=e.sent,!(a=n(c.deepClone(i.value)))){e.next=26;break}return o=i.revision,e.prev=6,e.next=9,this._putItemToServer(t,a,o,r);case 9:return s=e.sent,u=s.item,this._handleItemMutated(u.key,u.url,u.last_event_id,u.revision,u.data,u.date_updated,u.date_expires,s.added,!1),e.abrupt("return",this.cache.get(u.key));case 15:if(e.prev=15,e.t0=e.catch(6),412!==e.t0.status){e.next=23;break}return e.next=20,this._getItemFromServer(t);case 20:return e.abrupt("return",this._putItemWithIfMatch(t,n,r));case 23:throw e.t0;case 24:e.next=27;break;case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}},e,this,[[6,15]])}));return e}()},{key:"_putItemToServer",value:function(){function e(e,n,r,i){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new l.UriBuilder(this.links.items).pathSegment(t).build(),o={data:n},void 0!==i&&(o.ttl=i),e.prev=3,e.next=6,this.services.network.put(a,o,r);case 6:return s=e.sent,u=s.body,u.data=n,u.date_updated=new Date(u.date_updated),c=201===s.status.code,e.abrupt("return",{added:c,item:u});case 14:throw e.prev=14,e.t0=e.catch(3),404===e.t0.status&&this.onRemoved(!1),e.t0;case 18:case"end":return e.stop()}},e,this,[[3,14]])}));return e}()},{key:"remove",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}throw new Error("Key argument is invalid");case 2:return e.next=4,this.get(t);case 4:return n=e.sent,e.next=7,this.services.network.delete(n.uri);case 7:r=e.sent,this._handleItemRemoved(t,r.body.last_event_id,void 0,new Date(r.body.date_updated),!1);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"queryItems",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i,a,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},n=new l.UriBuilder(this.links.items).queryParam("From",t.from).queryParam("PageSize",t.limit).queryParam("Key",t.key).queryParam("PageToken",t.pageToken).queryParam("Order",t.order).build(),e.next=4,this.services.network.get(n);case 4:return r=e.sent,i=r.body.items.map(function(e){return e.date_updated=new Date(e.date_updated),o.cache.get(e.key)?o._handleItemMutated(e.key,e.url,e.last_event_id,e.revision,e.data,e.date_updated,e.date_expires,!1,!0):o.cache.store(e.key,new h.MapItem(e),e.last_event_id),o.cache.get(e.key)}),a=r.body.meta,e.abrupt("return",new v.Paginator(i,function(e){return o.queryItems({pageToken:e})},a.previous_token,a.next_token));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"getItems",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},c.validatePageSize(t.pageSize),t.limit=t.pageSize||t.limit||50,t.order=t.order||"asc",e.abrupt("return",this.queryItems(t));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){switch(e.date_created=new Date(e.date_created),e.type){case"map_item_added":case"map_item_updated":this._handleItemMutated(e.item_key,e.item_url,e.id,e.item_revision,e.item_data,e.date_created,void 0,"map_item_added"===e.type,!0);break;case"map_item_removed":this._handleItemRemoved(e.item_key,e.id,e.item_data,e.date_created,!0);break;case"map_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.map_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_updateRootDateUpdated",value:function(e){(!this.descriptor.date_updated||e.getTime()>this.descriptor.date_updated.getTime())&&(this.descriptor.date_updated=e,this.services.storage.update(this.type,this.sid,this.uniqueName,{date_updated:e}))}},{key:"_handleItemMutated",value:function(e,t,n,r,i,a,o,s,u){if(this.shouldIgnoreEvent(e,n))return void d.default.trace("Item ",e," update skipped, current:",this.lastEventId,", remote:",n);this._updateRootDateUpdated(a);var c=this.cache.get(e);c?(c.update(n,r,i,a),this.cache.store(e,c,n),void 0!==o&&c.updateDateExpires(o),this.emitItemMutationEvent(c,u,!1)):(c=new h.MapItem({key:e,url:t,last_event_id:n,revision:r,data:i,date_updated:a,date_expires:o}),this.cache.store(e,c,n),this.emitItemMutationEvent(c,u,s))}},{key:"emitItemMutationEvent",value:function(e,t,n){var r=n?"itemAdded":"itemUpdated";this.broadcastEventToListeners(r,{item:e,isLocal:!t})}},{key:"_handleItemRemoved",value:function(e,t,n,r,i){this._updateRootDateUpdated(r),this.cache.delete(e,t),this.broadcastEventToListeners("itemRemoved",{key:e,isLocal:!i,value:n})}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"setTtl",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.validateMandatoryTtl(t),e.prev=1,n={ttl:t},e.next=5,this.services.network.post(this.uri,n);case 5:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),404===e.t0.status&&this.onRemoved(!1),e.t0;case 13:case"end":return e.stop()}},e,this,[[1,9]])}));return e}()},{key:"setItemTtl",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.validateMandatoryTtl(n),e.next=3,this.get(t);case 3:return r=e.sent,i={ttl:n},e.next=7,this.services.network.post(r.uri,i);case 7:a=e.sent,r.updateDateExpires(a.body.date_expires);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeMap",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"uri",get:function(){return this.descriptor.url}},{key:"links",get:function(){return this.descriptor.links}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"map"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}}],[{key:"type",get:function(){return"map"}}]),t}(p.SyncEntity);t.SyncMapImpl=b;var _=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.syncMapImpl=e,n.syncMapImpl.attach(n),n}return o(t,e),u(t,[{key:"set",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.set(t,n,r));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"get",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.get(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"mutate",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.mutate(t,n,r));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"update",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.update(t,n,r));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"remove",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.remove(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"getItems",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.getItems(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"setTtl",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.setTtl(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"setItemTtl",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.setItemTtl(t,n));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeMap",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.next=3,this.syncMapImpl.removeMap();case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"close",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this),this.syncMapImpl.detach(this.listenerUuid)}},{key:"uri",get:function(){return this.syncMapImpl.uri}},{key:"links",get:function(){return this.syncMapImpl.links}},{key:"revision",get:function(){return this.syncMapImpl.revision}},{key:"lastEventId",get:function(){return this.syncMapImpl.lastEventId}},{key:"dateExpires",get:function(){return this.syncMapImpl.dateExpires}},{key:"type",get:function(){return b.type}},{key:"sid",get:function(){return this.syncMapImpl.sid}},{key:"uniqueName",get:function(){return this.syncMapImpl.uniqueName}},{key:"dateUpdated",get:function(){return this.syncMapImpl.dateUpdated}}],[{key:"type",get:function(){return b.type}}]),t}(g.Closeable);t.SyncMap=_,t.default=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t){r(this,e),this.descriptor=t}return i(e,[{key:"update",value:function(e,t,n,r){return this.descriptor.last_event_id=e,this.descriptor.revision=t,this.descriptor.data=n,this.descriptor.date_updated=r,this}},{key:"updateDateExpires",value:function(e){this.descriptor.date_expires=e}},{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"key",get:function(){return this.descriptor.key}},{key:"value",get:function(){return this.descriptor.data}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}}]),e}();t.MapItem=a},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.network,r=t.queryString,i=t.uri,a=t.type,null!=r){e.next=3;break}throw new f.SyncError("Invalid query",400,54507);case 3:return o={query_string:r},a===b.type&&(o.type=a),e.next=7,n.post(i,o,void 0,!0);case 7:return s=e.sent,e.abrupt("return",s.body);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(126),f=n(57),d=n(58),p=n(11),h=n(100),v=n(101),m=n(178),y=function e(){o(this,e)};t.InsightsItem=y;var g=function(e){function t(e,n,r,a){o(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r));return s.descriptor=e,s.cache=new m.Cache,a&&a.forEach(function(e){s.cache.store(e.key,{key:e.key,value:e.data},e.revision)}),s}return a(t,e),u(t,[{key:"onRemoved",value:function(){}},{key:"getItems",value:function(){var e={};return this.cache.forEach(function(t,n){e[t]=n.value}),e}},{key:"_update",value:function(e,t){switch(e.type){case"live_query_item_updated":this.handleItemMutated(e.item_key,e.item_data,e.item_revision);break;case"live_query_item_removed":this.handleItemRemoved(e.item_key,e.item_revision);break;case"live_query_updated":this.handleBatchUpdate(e.items)}t&&this._advanceLastEventId(e.last_event_id)}},{key:"handleItemMutated",value:function(e,t,n){if(this.shouldIgnoreEvent(e,n))d.default.trace("Item "+e+" update skipped, revision: "+n);else{var r={key:e,value:t};this.cache.store(e,r,n),this.broadcastEventToListeners("itemUpdated",r)}}},{key:"handleItemRemoved",value:function(e,t){var n=null===t;this.shouldIgnoreEvent(e,t)?d.default.trace("Item "+e+" delete skipped, revision: "+t):(this.cache.delete(e,t,n),this.broadcastEventToListeners("itemRemoved",{key:e}))}},{key:"handleBatchUpdate",value:function(e){var t=this,n={};null!=e&&e.forEach(function(e){n[e.key]={data:e.data,revision:e.revision}}),this.cache.forEach(function(e,r){var i=n[e];null!=i?t.handleItemMutated(e,i.data,i.revision):t.handleItemRemoved(e,null),delete n[e]});for(var r in n)this.handleItemMutated(r,n[r].data,n[r].revision)}},{key:"shouldIgnoreEvent",value:function(e,t){return null!=e&&null!=t&&this.cache.isKnown(e,t)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e)}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return null}},{key:"type",get:function(){return t.type}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"indexName",get:function(){return this.descriptor.indexName}},{key:"queryString",get:function(){return this.descriptor.queryExpression}},{key:"queryUri",get:function(){return this.descriptor.queryUri}},{key:"liveQueryDescriptor",get:function(){return this.descriptor}}],[{key:"type",get:function(){return"live_query"}}]),t}(h.SyncEntity);t.LiveQueryImpl=g,t.queryItems=c;var b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.liveQueryImpl=e,n.liveQueryImpl.attach(n),n}return a(t,e),u(t,[{key:"close",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this),this.liveQueryImpl.detach(this.listenerUuid)}},{key:"getItems",value:function(){return this.ensureNotClosed(),this.liveQueryImpl.getItems()}},{key:"type",get:function(){return g.type}},{key:"lastEventId",get:function(){return this.liveQueryImpl.lastEventId}},{key:"sid",get:function(){return this.liveQueryImpl.sid}}],[{key:"type",get:function(){return g.type}}]),t}(v.Closeable);t.LiveQuery=b;var _=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.queryExpression=null,n.items={},Object.assign(n,e),n.updateIndexName(e.indexName),n}return a(t,e),u(t,[{key:"search",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.items={},e.abrupt("return",c({network:this.network,uri:this.queryUri,queryString:t}).then(function(e){n.queryExpression=t,e.items&&e.items.forEach(function(e){n.items[e.key]=e.data}),n.emit("searchResult",n.getItems())}).catch(function(e){throw d.default.error("Error '"+e.message+"' while executing query '"+t+"'"),n.queryExpression=null,e}));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"subscribe",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.queryExpression){e.next=2;break}return e.abrupt("return",Promise.reject(new f.SyncError("Invalid query",400,54507)));case 2:return e.abrupt("return",this.liveQueryCreator(this.indexName,this.queryExpression));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getItems",value:function(){return this.items}},{key:"updateIndexName",value:function(e){if(!e||"string"!=typeof e)throw new Error("Index name must contain a non-empty string value");this.indexName=e,this.queryUri=this.generateQueryUri(this.indexName)}},{key:"generateQueryUri",value:function(e){return new l.UriBuilder(this.insightsUri).pathSegment(e).pathSegment("Items").build()}},{key:"type",get:function(){return t.type}}],[{key:"type",get:function(){return"instant_query"}}]),t}(p.EventEmitter);t.InstantQuery=_,t.default=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return[(new Date).toISOString()+" MCS Client "+e+":"].concat(Array.from(t))}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(700),s=function(){function e(t){r(this,e),this.prefix="",this.prefix=null!==t&&void 0!==t&&t.length>0?t+" ":""}return a(e,[{key:"setLevel",value:function(e){o.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.trace.apply(null,i(this.prefix+"T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.debug.apply(null,i(this.prefix+"D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.info.apply(null,i(this.prefix+"I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.warn.apply(null,i(this.prefix+"W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.error.apply(null,i(this.prefix+"E",t))}}],[{key:"scope",value:function(t){return new e(t)}},{key:"setLevel",value:function(e){o.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.trace.apply(null,i("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.debug.apply(null,i("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.info.apply(null,i("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.warn.apply(null,i("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.error.apply(null,i("E",t))}}]),e}();t.Logger=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t,n,i){r(this,e);var a=i.MCS||i||{};this.region=a.region||i.region,this.baseUrl=(void 0===this.region?"https://mcs.us1.twilio.com":"https://mcs."+this.region+".twilio.com")+n,this.token=t,this.retryWhenThrottledOverride=a.retryWhenThrottledOverride,this.backoffConfigOverride=a.backoffConfigOverride}return i(e,[{key:"updateToken",value:function(e){this.token=e}}],[{key:"backoffConfigDefault",get:function(){return{min:1e3,max:4e3,maxAttemptsCount:3}}},{key:"retryWhenThrottledDefault",get:function(){return!0}}]),e}();t.Configuration=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(247),a=r(i),o=n(246),s=r(o),u=n(248),c=r(u),l=n(709),f=r(l),d=n(42),p=r(d),h=n(5),v=r(h),m=n(43),y=r(m),g=n(44),b=r(g);Object.defineProperty(t,"__esModule",{value:!0});var _=function(e){function t(e,n){(0,v.default)(this,t);var r=(0,y.default)(this,(t.__proto__||(0,p.default)(t)).call(this));return r.name=r.constructor.name,r.message=e,r.code=n,Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,r}return(0,b.default)(t,e),t}(function(e){function t(){var t=(0,f.default)(e,(0,c.default)(arguments));return(0,s.default)(t,(0,p.default)(this)),t}return t.prototype=(0,a.default)(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s.default?(0,s.default)(t,e):t.__proto__=e,t}(Error));t.SessionError=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(25),a=r(i),o=n(5),s=r(o),u=n(6),c=r(u);Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(){var t=this;(0,s.default)(this,e),this._promise=new a.default(function(e,n){t._resolve=e,t._reject=n})}return(0,c.default)(e,[{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this.current=e,this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}},{key:"promise",get:function(){return this._promise}}]),e}();t.Deferred=l},function(e,t){e.exports={_args:[["twilio-chat@3.3.5","/var/lib/jenkins/workspace/smith_master-QIIVVAU23PZBAMVGFCJF4RYCQTTAXYKXEVYBTYMIV5NAZ4AFL4QA/chat/widget-frontend"]],_from:"twilio-chat@3.3.5",_id:"twilio-chat@3.3.5",_inBundle:!1,_integrity:"sha512-im0WtAYUZ5iBomFtiE4bUb9PwHGojtoFy4lvA0CXaIZKRZnc7WaM36k86ko8ksjLyjckKZfmn2U6xL6ys7d8Qg==",_location:"/twilio-chat",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"twilio-chat@3.3.5",name:"twilio-chat",escapedName:"twilio-chat",rawSpec:"3.3.5",saveSpec:null,fetchSpec:"3.3.5"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/twilio-chat/-/twilio-chat-3.3.5.tgz",_spec:"3.3.5",_where:"/var/lib/jenkins/workspace/smith_master-QIIVVAU23PZBAMVGFCJF4RYCQTTAXYKXEVYBTYMIV5NAZ4AFL4QA/chat/widget-frontend",author:{name:"Twilio"},browser:"browser/index.js",browserslist:["IE 11","last 3 Chrome versions","last 3 Firefox versions","last 3 Safari versions","last 3 Edge versions","last 2 iOS version","last 2 ChromeAndroid version","last 2 FirefoxAndroid version","last 2 Samsung versions","last 2 UCAndroid versions"],dependencies:{"iso8601-duration":"^1.2.0",loglevel:"^1.6.6","operation-retrier":"^3.0.0",platform:"^1.3.5",rfc6902:"^3.0.2","twilio-mcs-client":"^0.3.3","twilio-notifications":"^0.5.8","twilio-sync":"^0.12.1",twilsock:"^0.5.11",uuid:"^3.3.2"},description:"Twilio Chat service client library",devDependencies:{"@types/chai":"^4.2.5","@types/chai-as-promised":"^7.1.2","@types/chai-string":"^1.4.1","@types/core-js":"^2.5.0","@types/mocha":"^5.2.7","@types/node":"^12.12.12","@types/sinon":"^7.5.1","@types/sinon-chai":"^3.2.2",async:"^3.0.1","async-test-tools":"^1.0.7","babel-core":"^6.26.0","babel-plugin-transform-builtin-extend":"^1.1.2","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.6.1","babel-runtime":"^6.26.0",babelify:"^8.0.0",backoff:"^2.5.0",browserify:"^16.2.3","browserify-replace":"^1.0.0",browserslist:"^4.7.3",chai:"^4.2.0","chai-as-promised":"^7.1.1","chai-string":"^1.5.0",cheerio:"^1.0.0-rc.2","cross-env":"^5.2.0",del:"^5.1.0","fancy-log":"^1.3.3",fs:"0.0.2",gulp:"^4.0.2","gulp-babel":"^7.0.1","gulp-derequire":"^2.1.0","gulp-if":"^2.0.2","gulp-insert":"^0.5.0","gulp-rename":"^1.4.0","gulp-sourcemaps":"^2.6.5","gulp-tap":"^1.0.1","gulp-tslint":"^8.1.4","gulp-typescript":"^5.0.1","gulp-uglify-es":"^1.0.4","ink-docstrap":"^1.3.2","isomorphic-form-data":"^2.0.0",jsdoc:"~3.5.5","jsdoc-strip-async-await":"^0.1.0",mocha:"^6.2.2","mocha.parallel":"^0.15.6",nyc:"^14.1.1",path:"^0.12.7",sinon:"^7.5.0","sinon-chai":"^3.3.0","source-map-explorer":"^2.1.1","ts-node":"^8.5.2",tslint:"^5.20.1",twilio:"^3.37.1",typescript:"^3.7.2","uglify-save-license":"^0.4.1","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"},engines:{node:">=6"},license:"MIT",main:"lib/index.js",name:"twilio-chat",types:"./lib/client.d.ts",version:"3.3.5"}},function(e,t,n){n(282),e.exports=n(458)},function(e,t,n){"use strict";(function(e){function r(){return e._babelPolyfill||"undefined"!=typeof window&&window._babelPolyfill?null:n(283)}Object.defineProperty(t,"__esModule",{value:!0}),t.idempotentBabelPolyfill=r,t.default=void 0;var i=r();t.default=i}).call(t,n(46))},function(e,t,n){"use strict";n(284);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(456));r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},function(e,t,n){"use strict";n(285),n(428),n(430),n(433),n(435),n(437),n(439),n(441),n(443),n(445),n(447),n(449),n(451),n(455)},function(e,t,n){n(286),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(367),n(368),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(147),n(391),n(200),n(392),n(201),n(393),n(394),n(395),n(396),n(202),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),e.exports=n(13)},function(e,t,n){"use strict";var r=n(1),i=n(26),a=n(16),o=n(0),s=n(23),u=n(52).KEY,c=n(2),l=n(102),f=n(77),d=n(60),p=n(7),h=n(128),v=n(181),m=n(288),y=n(105),g=n(3),b=n(4),_=n(28),w=n(51),k=n(59),x=n(64),S=n(184),E=n(38),C=n(14),P=n(62),O=E.f,T=C.f,A=S.f,M=r.Symbol,I=r.JSON,D=I&&I.stringify,R=p("_hidden"),j=p("toPrimitive"),N={}.propertyIsEnumerable,L=l("symbol-registry"),F=l("symbols"),U=l("op-symbols"),$=Object.prototype,B="function"==typeof M,q=r.QObject,z=!q||!q.prototype||!q.prototype.findChild,H=a&&c(function(){return 7!=x(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O($,t);r&&delete $[t],T(e,t,n),r&&e!==$&&T($,t,r)}:T,V=function(e){var t=F[e]=x(M.prototype);return t._k=e,t},Y=B&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},W=function(e,t,n){return e===$&&W(U,t,n),g(e),t=w(t,!0),g(n),i(F,t)?(n.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),n=x(n,{enumerable:k(0,!1)})):(i(e,R)||T(e,R,k(1,{})),e[R][t]=!0),H(e,t,n)):T(e,t,n)},G=function(e,t){g(e);for(var n,r=m(t=_(t)),i=0,a=r.length;a>i;)W(e,n=r[i++],t[n]);return e},K=function(e,t){return void 0===t?x(e):G(x(e),t)},Q=function(e){var t=N.call(this,e=w(e,!0));return!(this===$&&i(F,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,R)&&this[R][e])||t)},J=function(e,t){if(e=_(e),t=w(t,!0),e!==$||!i(F,t)||i(U,t)){var n=O(e,t);return!n||!i(F,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=A(_(e)),r=[],a=0;n.length>a;)i(F,t=n[a++])||t==R||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===$,r=A(n?U:_(e)),a=[],o=0;r.length>o;)!i(F,t=r[o++])||n&&!i($,t)||a.push(F[t]);return a};B||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===$&&t.call(U,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),H(this,e,k(1,n))};return a&&z&&H($,e,{configurable:!0,set:t}),V(e)},s(M.prototype,"toString",function(){return this._k}),E.f=J,C.f=W,n(65).f=S.f=X,n(89).f=Q,n(104).f=Z,a&&!n(61)&&s($,"propertyIsEnumerable",Q,!0),h.f=function(e){return V(p(e))}),o(o.G+o.W+o.F*!B,{Symbol:M});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=P(p.store),re=0;ne.length>re;)v(ne[re++]);o(o.S+o.F*!B,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=M(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!B,"Object",{create:K,defineProperty:W,defineProperties:G,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),I&&o(o.S+o.F*(!B||c(function(){var e=M();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,D.apply(I,r)}}),M.prototype[j]||n(27)(M.prototype,j,M.prototype.valueOf),f(M,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){e.exports=n(102)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(62),i=n(104),a=n(89);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),u=a.f,c=0;s.length>c;)u.call(e,o=s[c++])&&t.push(o);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(64)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(16),"Object",{defineProperty:n(14).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(16),"Object",{defineProperties:n(183)})},function(e,t,n){var r=n(28),i=n(38).f;n(39)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){var r=n(21),i=n(66);n(39)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(21),i=n(62);n(39)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(39)("getOwnPropertyNames",function(){return n(184).f})},function(e,t,n){var r=n(4),i=n(52).onFreeze;n(39)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(4),i=n(52).onFreeze;n(39)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(4),i=n(52).onFreeze;n(39)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(4);n(39)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(4);n(39)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(4);n(39)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(185)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(186)})},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(132).set})},function(e,t,n){"use strict";var r=n(90),i={};i[n(7)("toStringTag")]="z",i+""!="[object z]"&&n(23)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(187)})},function(e,t,n){var r=n(14).f,i=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in i||n(16)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(4),i=n(66),a=n(7)("hasInstance"),o=Function.prototype;a in o||n(14).f(o,a,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),i=n(189);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(0),i=n(190);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){"use strict";var r=n(1),i=n(26),a=n(47),o=n(134),s=n(51),u=n(2),c=n(65).f,l=n(38).f,f=n(14).f,d=n(78).trim,p=r.Number,h=p,v=p.prototype,m="Number"==a(n(64)(v)),y="trim"in String.prototype,g=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():d(t,3);var n,r,i,a=t.charCodeAt(0);if(43===a||45===a){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var o,u=t.slice(2),c=0,l=u.length;c<l;c++)if((o=u.charCodeAt(c))<48||o>i)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(m?u(function(){v.valueOf.call(n)}):"Number"!=a(n))?o(new h(g(t)),n,p):g(t)};for(var b,_=n(16)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)i(h,b=_[w])&&!i(p,b)&&f(p,b,l(h,b));p.prototype=v,v.constructor=p,n(23)(r,"Number",p)}},function(e,t,n){"use strict";var r=n(0),i=n(37),a=n(191),o=n(135),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=u(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)},v=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(2)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,u=a(this,l),c=i(e),m="",y="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(t=v(u*h(2,69,1))-69,n=t<0?u*h(2,-t,1):u/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(h(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),y=p()}else f(0,n),f(1<<-t,0),y=p()+o.call("0",c);return c>0?(s=y.length,y=m+(s<=c?"0."+o.call("0",c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c))):y=m+y,y}})},function(e,t,n){"use strict";var r=n(0),i=n(2),a=n(191),o=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==o.call(1,void 0)})||!i(function(){o.call({})})),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),i=n(1).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(192)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),i=n(192),a=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),i=n(190);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(0),i=n(189);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(0),i=n(193),a=Math.sqrt,o=Math.acosh;r(r.S+r.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+a(e-1)*a(e+1))}})},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=n(0),a=Math.asinh;i(i.S+i.F*!(a&&1/a(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),i=n(136);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(0),i=n(137);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(331)})},function(e,t,n){var r=n(136),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),u=i(2,-126),c=function(e){return e+1/a-1/a};e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),l=r(e);return i<u?l*c(i/u/o)*u*o:(t=(1+o/a)*i,n=t-(t-i),n>s||n!=n?l*(1/0):l*n)}},function(e,t,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,a=0,o=0,s=arguments.length,u=0;o<s;)n=i(arguments[o++]),u<n?(r=u/n,a=a*r*r+1,u=n):n>0?(r=n/u,a+=r*r):a+=n;return u===1/0?1/0:u*Math.sqrt(a)}})},function(e,t,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(2)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,a=65535&r;return 0|i*a+((65535&n>>>16)*a+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(193)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(136)})},function(e,t,n){var r=n(0),i=n(137),a=Math.exp;r(r.S+r.F*n(2)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),i=n(137),a=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(a(e)+a(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),i=n(63),a=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),i=n(28),a=n(10);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=a(t.length),r=arguments.length,o=[],s=0;n>s;)o.push(String(t[s++])),s<r&&o.push(String(arguments[s]));return o.join("")}})},function(e,t,n){"use strict";n(78)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(138)(!0);n(139)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(0),i=n(138)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(10),a=n(140),o="".endsWith;r(r.P+r.F*n(142)("endsWith"),"String",{endsWith:function(e){var t=a(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return o?o.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){"use strict";var r=n(0),i=n(140);r(r.P+r.F*n(142)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(135)})},function(e,t,n){"use strict";var r=n(0),i=n(10),a=n(140),o="".startsWith;r(r.P+r.F*n(142)("startsWith"),"String",{startsWith:function(e){var t=a(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return o?o.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(24)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(24)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(24)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(24)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(24)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(24)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(24)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(24)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(24)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(24)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(24)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(24)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(24)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),i=n(21),a=n(51);r(r.P+r.F*n(2)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),i=n(366);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(2),i=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!r(function(){a.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(n>99?n:"0"+o(n))+"Z"}:a},function(e,t,n){var r=Date.prototype,i=r.toString,a=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(23)(r,"toString",function(){var e=a.call(this);return e===e?i.call(this):"Invalid Date"})},function(e,t,n){var r=n(7)("toPrimitive"),i=Date.prototype;r in i||n(27)(i,r,n(369))},function(e,t,n){"use strict";var r=n(3),i=n(51);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(105)})},function(e,t,n){"use strict";var r=n(35),i=n(0),a=n(21),o=n(195),s=n(143),u=n(10),c=n(144),l=n(145);i(i.S+i.F*!n(106)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=a(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,y=0,g=l(d);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==g||p==Array&&s(g))for(t=u(d.length),n=new p(t);t>y;y++)c(n,y,m?v(d[y],y):d[y]);else for(f=g.call(d),n=new p;!(i=f.next()).done;y++)c(n,y,m?o(f,v,[i.value,y],!0):i.value);return n.length=y,n}})},function(e,t,n){"use strict";var r=n(0),i=n(144);r(r.S+r.F*n(2)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),i=n(28),a=[].join;r(r.P+r.F*(n(88)!=Object||!n(32)(a)),"Array",{join:function(e){return a.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),i=n(131),a=n(47),o=n(63),s=n(10),u=[].slice;r(r.P+r.F*n(2)(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var n=s(this.length),r=a(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=o(e,n),c=o(t,n),l=s(c-i),f=new Array(l),d=0;d<l;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(e,t,n){"use strict";var r=n(0),i=n(36),a=n(21),o=n(2),s=[].sort,u=[1,2,3];r(r.P+r.F*(o(function(){u.sort(void 0)})||!o(function(){u.sort(null)})||!n(32)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),i(e))}})},function(e,t,n){"use strict";var r=n(0),i=n(40)(0),a=n(32)([].forEach,!0);r(r.P+r.F*!a,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(4),i=n(105),a=n(7)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),i=n(40)(1);r(r.P+r.F*!n(32)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(40)(2);r(r.P+r.F*!n(32)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(40)(3);r(r.P+r.F*!n(32)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(40)(4);r(r.P+r.F*!n(32)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(197);r(r.P+r.F*!n(32)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(197);r(r.P+r.F*!n(32)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(103)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(o||!n(32)(a)),"Array",{indexOf:function(e){return o?a.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(28),a=n(37),o=n(10),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(32)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=o(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,a(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(198)}),n(67)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(146)}),n(67)("fill")},function(e,t,n){"use strict";var r=n(0),i=n(40)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(67)("find")},function(e,t,n){"use strict";var r=n(0),i=n(40)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(67)(a)},function(e,t,n){n(80)("Array")},function(e,t,n){var r=n(1),i=n(134),a=n(14).f,o=n(65).f,s=n(141),u=n(107),c=r.RegExp,l=c,f=c.prototype,d=/a/g,p=/a/g,h=new c(d)!==d;if(n(16)&&(!h||n(2)(function(){return p[n(7)("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")}))){c=function(e,t){var n=this instanceof c,r=s(e),a=void 0===t;return!n&&r&&e.constructor===c&&a?e:i(h?new l(r&&!a?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&a?u.call(e):t),n?this:f,c)};for(var v=o(l),m=0;v.length>m;)!function(e){e in c||a(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})}(v[m++]);f.constructor=c,c.prototype=f,n(23)(r,"RegExp",c)}n(80)("RegExp")},function(e,t,n){"use strict";n(201);var r=n(3),i=n(107),a=n(16),o=/./.toString,s=function(e){n(23)(RegExp.prototype,"toString",e,!0)};n(2)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=o.name&&s(function(){return o.call(this)})},function(e,t,n){"use strict";var r=n(3),i=n(10),a=n(149),o=n(108);n(109)("match",1,function(e,t,n,s){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),c=String(this);if(!u.global)return o(u,c);var l=u.unicode;u.lastIndex=0;for(var f,d=[],p=0;null!==(f=o(u,c));){var h=String(f[0]);d[p]=h,""===h&&(u.lastIndex=a(c,i(u.lastIndex),l)),p++}return 0===p?null:d}]})},function(e,t,n){"use strict";var r=n(3),i=n(21),a=n(10),o=n(37),s=n(149),u=n(108),c=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};n(109)("replace",2,function(e,t,n,v){function m(e,t,r,a,o,s){var u=r+e.length,c=a.length,l=p;return void 0!==o&&(o=i(o),l=d),n.call(s,l,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>c){var d=f(l/10);return 0===d?n:d<=c?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):n}s=a[l-1]}return void 0===s?"":s})}return[function(r,i){var a=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,a,i):n.call(String(a),r,i)},function(e,t){var i=v(n,e,this,t);if(i.done)return i.value;var f=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var y=f.global;if(y){var g=f.unicode;f.lastIndex=0}for(var b=[];;){var _=u(f,d);if(null===_)break;if(b.push(_),!y)break;""===String(_[0])&&(f.lastIndex=s(d,a(f.lastIndex),g))}for(var w="",k=0,x=0;x<b.length;x++){_=b[x];for(var S=String(_[0]),E=c(l(o(_.index),d.length),0),C=[],P=1;P<_.length;P++)C.push(h(_[P]));var O=_.groups;if(p){var T=[S].concat(C,E,d);void 0!==O&&T.push(O);var A=String(t.apply(void 0,T))}else A=m(S,d,E,C,O,t);E>=k&&(w+=d.slice(k,E)+A,k=E+S.length)}return w+d.slice(k)}]})},function(e,t,n){"use strict";var r=n(3),i=n(186),a=n(108);n(109)("search",1,function(e,t,n,o){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=o(n,e,this);if(t.done)return t.value;var s=r(e),u=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var l=a(s,u);return i(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]})},function(e,t,n){"use strict";var r=n(141),i=n(3),a=n(91),o=n(149),s=n(10),u=n(108),c=n(148),l=n(2),f=Math.min,d=[].push,p="length",h=!l(function(){RegExp(4294967295,"y")});n(109)("split",2,function(e,t,n,l){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var a,o,s,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,l+"g");(a=c.call(v,i))&&!((o=v.lastIndex)>f&&(u.push(i.slice(f,a.index)),a[p]>1&&a.index<i[p]&&d.apply(u,a.slice(1)),s=a[0][p],f=o,u[p]>=h));)v.lastIndex===a.index&&v.lastIndex++;return f===i[p]?!s&&v.test("")||u.push(""):u.push(i.slice(f)),u[p]>h?u.slice(0,h):u}:"0".split(void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i,r):v.call(String(i),n,r)},function(e,t){var r=l(v,e,this,t,v!==n);if(r.done)return r.value;var c=i(e),d=String(this),p=a(c,RegExp),m=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),g=new p(h?c:"^(?:"+c.source+")",y),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===d.length)return null===u(g,d)?[d]:[];for(var _=0,w=0,k=[];w<d.length;){g.lastIndex=h?w:0;var x,S=u(g,h?d:d.slice(w));if(null===S||(x=f(s(g.lastIndex+(h?0:w)),d.length))===_)w=o(d,w,m);else{if(k.push(d.slice(_,w)),k.length===b)return k;for(var E=1;E<=S.length-1;E++)if(k.push(S[E]),k.length===b)return k;w=_=x}}return k.push(d.slice(_)),k}]})},function(e,t,n){var r=n(1),i=n(150).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,u="process"==n(47)(o);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=o.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){o.nextTick(c)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,d=document.createTextNode("");new a(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){"use strict";var r=n(205),i=n(68);e.exports=n(112)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(205),i=n(68);e.exports=n(112)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(1),a=n(40)(0),o=n(23),s=n(52),u=n(185),c=n(206),l=n(4),f=n(68),d=n(68),p=!i.ActiveXObject&&"ActiveXObject"in i,h=s.getWeak,v=Object.isExtensible,m=c.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(l(e)){var t=h(e);return!0===t?m(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(f(this,"WeakMap"),e,t)}},b=e.exports=n(112)("WeakMap",y,g,c,!0,!0);d&&p&&(r=c.getConstructor(y,"WeakMap"),u(r.prototype,g),s.NEED=!0,a(["delete","has","get","set"],function(e){var t=b.prototype,n=t[e];o(t,e,function(t,i){if(l(t)&&!v(t)){this._f||(this._f=new r);var a=this._f[e](t,i);return"set"==e?this:a}return n.call(this,t,i)})}))},function(e,t,n){"use strict";var r=n(206),i=n(68);n(112)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),i=n(113),a=n(151),o=n(3),s=n(63),u=n(10),c=n(4),l=n(1).ArrayBuffer,f=n(91),d=a.ArrayBuffer,p=a.DataView,h=i.ABV&&l.isView,v=d.prototype.slice,m=i.VIEW;r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||c(e)&&m in e}}),r(r.P+r.U+r.F*n(2)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==v&&void 0===t)return v.call(o(this),e);for(var n=o(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(f(this,d))(u(i-r)),c=new p(this),l=new p(a),h=0;r<i;)l.setUint8(h++,c.getUint8(r++));return a}}),n(80)("ArrayBuffer")},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(113).ABV,{DataView:n(151).DataView})},function(e,t,n){n(49)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(49)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(49)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(0),i=n(36),a=n(3),o=(n(1).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(2)(function(){o(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),u=a(n);return o?o(r,t,u):s.call(r,t,u)}})},function(e,t,n){var r=n(0),i=n(64),a=n(36),o=n(3),s=n(4),u=n(2),c=n(187),l=(n(1).Reflect||{}).construct,f=u(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),d=!u(function(){l(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(14),i=n(0),a=n(3),o=n(51);i(i.S+i.F*n(2)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){a(e),t=o(t,!0),a(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),i=n(38).f,a=n(3);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(a(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(0),i=n(3),a=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(194)(a,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new a(e)}})},function(e,t,n){function r(e,t){var n,s,l=arguments.length<3?e:arguments[2];return c(e)===l?e[t]:(n=i.f(e,t))?o(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:u(s=a(e))?r(s,t,l):void 0}var i=n(38),a=n(66),o=n(26),s=n(0),u=n(4),c=n(3);s(s.S,"Reflect",{get:r})},function(e,t,n){var r=n(38),i=n(0),a=n(3);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(a(e),t)}})},function(e,t,n){var r=n(0),i=n(66),a=n(3);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(a(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),i=n(3),a=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!a||a(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(208)})},function(e,t,n){var r=n(0),i=n(3),a=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return a&&a(e),!0}catch(e){return!1}}})},function(e,t,n){function r(e,t,n){var u,d,p=arguments.length<4?e:arguments[3],h=a.f(l(e),t);if(!h){if(f(d=o(e)))return r(d,t,n,p);h=c(0)}if(s(h,"value")){if(!1===h.writable||!f(p))return!1;if(u=a.f(p,t)){if(u.get||u.set||!1===u.writable)return!1;u.value=n,i.f(p,t,u)}else i.f(p,t,c(0,n));return!0}return void 0!==h.set&&(h.set.call(p,n),!0)}var i=n(14),a=n(38),o=n(66),s=n(26),u=n(0),c=n(59),l=n(3),f=n(4);u(u.S,"Reflect",{set:r})},function(e,t,n){var r=n(0),i=n(132);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){n(429),e.exports=n(13).Array.includes},function(e,t,n){"use strict";var r=n(0),i=n(103)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(67)("includes")},function(e,t,n){n(431),e.exports=n(13).Array.flatMap},function(e,t,n){"use strict";var r=n(0),i=n(432),a=n(21),o=n(10),s=n(36),u=n(196);r(r.P,"Array",{flatMap:function(e){var t,n,r=a(this);return s(e),t=o(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(67)("flatMap")},function(e,t,n){"use strict";function r(e,t,n,c,l,f,d,p){for(var h,v,m=l,y=0,g=!!d&&s(d,p,3);y<c;){if(y in n){if(h=g?g(n[y],y,t):n[y],v=!1,a(h)&&(v=h[u],v=void 0!==v?!!v:i(h)),v&&f>0)m=r(e,t,h,o(h.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=h}m++}y++}return m}var i=n(105),a=n(4),o=n(10),s=n(35),u=n(7)("isConcatSpreadable");e.exports=r},function(e,t,n){n(434),e.exports=n(13).String.padStart},function(e,t,n){"use strict";var r=n(0),i=n(209),a=n(111),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);r(r.P+r.F*o,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){n(436),e.exports=n(13).String.padEnd},function(e,t,n){"use strict";var r=n(0),i=n(209),a=n(111),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);r(r.P+r.F*o,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){n(438),e.exports=n(13).String.trimLeft},function(e,t,n){"use strict";n(78)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){n(440),e.exports=n(13).String.trimRight},function(e,t,n){"use strict";n(78)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){n(442),e.exports=n(128).f("asyncIterator")},function(e,t,n){n(181)("asyncIterator")},function(e,t,n){n(444),e.exports=n(13).Object.getOwnPropertyDescriptors},function(e,t,n){var r=n(0),i=n(208),a=n(28),o=n(38),s=n(144);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),u=o.f,c=i(r),l={},f=0;c.length>f;)void 0!==(n=u(r,t=c[f++]))&&s(l,t,n);return l}})},function(e,t,n){n(446),e.exports=n(13).Object.values},function(e,t,n){var r=n(0),i=n(210)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){n(448),e.exports=n(13).Object.entries},function(e,t,n){var r=n(0),i=n(210)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";n(202),n(450),e.exports=n(13).Promise.finally},function(e,t,n){"use strict";var r=n(0),i=n(13),a=n(1),o=n(91),s=n(204);r(r.P+r.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){n(452),n(453),n(454),e.exports=n(13)},function(e,t,n){var r=n(1),i=n(0),a=n(111),o=[].slice,s=/MSIE .\./.test(a),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&o.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){var r=n(0),i=n(150);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(147),i=n(62),a=n(23),o=n(1),s=n(27),u=n(79),c=n(7),l=c("iterator"),f=c("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),v=0;v<h.length;v++){var m,y=h[v],g=p[y],b=o[y],_=b&&b.prototype;if(_&&(_[l]||s(_,l,d),_[f]||s(_,f,y),u[y]=d,g))for(m in r)_[m]||a(_,m,r[m],!0)}},function(e,t,n){var r=function(e){"use strict";function t(e,t,n,i){var a=t&&t.prototype instanceof r?t:r,o=Object.create(a.prototype),s=new d(i||[]);return o._invoke=u(e,n,s),o}function n(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function i(){}function a(){}function o(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function t(r,i,a,o){var s=n(e[r],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)}):Promise.resolve(c).then(function(e){u.value=e,a(u)},function(e){return t("throw",e,a,o)})}o(s.arg)}function r(e,n){function r(){return new Promise(function(r,i){t(e,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=r}function u(e,t,r){var i=k;return function(a,o){if(i===S)throw new Error("Generator is already running");if(i===E){if("throw"===a)throw o;return h()}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=c(s,r);if(u){if(u===C)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===k)throw i=E,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=S;var l=n(e,t,r);if("normal"===l.type){if(i=r.done?E:x,l.arg===C)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=E,r.method="throw",r.arg=l.arg)}}}function c(e,t){var r=e.iterator[t.method];if(r===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,c(e,t),"throw"===t.method))return C;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var i=n(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,C;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,C):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,C)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function p(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=v,t.done=!0,t};return r.next=r}}return{next:h}}function h(){return{value:v,done:!0}}var v,m=Object.prototype,y=m.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},b=g.iterator||"@@iterator",_=g.asyncIterator||"@@asyncIterator",w=g.toStringTag||"@@toStringTag";e.wrap=t;var k="suspendedStart",x="suspendedYield",S="executing",E="completed",C={},P={};P[b]=function(){return this};var O=Object.getPrototypeOf,T=O&&O(O(p([])));T&&T!==m&&y.call(T,b)&&(P=T);var A=a.prototype=r.prototype=Object.create(P);return i.prototype=A.constructor=a,a.constructor=i,a[w]=i.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},o(s.prototype),s.prototype[_]=function(){return this},e.AsyncIterator=s,e.async=function(n,r,i,a){var o=new s(t(n,r,i,a));return e.isGeneratorFunction(r)?o:o.next().then(function(e){return e.done?e.value:o.next()})},o(A),A[w]="Generator",A[b]=function(){return this},A.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=p,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,C):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),C}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;f(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),C}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){n(457),e.exports=n(8).global},function(e,t,n){var r=n(15);r(r.G,{global:n(17)})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}var a=n(459),o=i(a),s=n(114),u=i(s);n(464);var c=n(12),l=r(c),f=n(465),d=i(f),p=n(466),h=i(p),v=n(473),m=i(v),y=n(222),g=i(y),b=n(565),_=i(b),w=n(729),k=r(w),x=n(809),S=n(810),E=n(30);u.default.use(S.GTMTrackingPlugin),u.default.use(d.default),u.default.use(l,{tagName:"svgicon",classPrefix:"chat-svg"}),(0,o.default)(k).forEach(function(e){return u.default.component(e.name,e)}),u.default.filter("linkify",function(e){return(0,h.default)(e,{defaultProtocol:"https"})});var C=document.createElement("div"),P=document.createElement("link");P.rel="stylesheet",P.type="text/css",P.href=E.API_BASE_URL+"/chat/widget-latest.css",P.media="all";var O=document.createElement("link");O.href="https://fonts.googleapis.com/css?family=Open+Sans:400,600",O.rel="stylesheet",document.head.appendChild(O),document.head.appendChild(P),document.body.appendChild(C),window.SMITH.instance=new u.default({el:C,store:g.default,router:_.default,render:function(e){return e(m.default)}}),window.SMITH.chat=new x.PublicAPI(window.SMITH.instance.$children[0])},function(e,t,n){function r(e){return null==e?[]:i(e,a(e))}var i=n(460),a=n(212);e.exports=r},function(e,t,n){function r(e,t){return i(t,function(t){return e[t]})}var i=n(461);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;t.setTimeout=function(){return new r(a.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(a.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(463),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(46))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function a(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function o(e){if(l)setTimeout(o,0,e);else{var t=c[e];if(t){l=!0;try{a(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(o,0,e)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(46),n(214))},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="dist/",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"object"===("undefined"==typeof document?"undefined":i(document))&&"string"!=typeof document.createElementNS("http://www.w3.org/2000/svg","svg").innerHTML&&Object(r.a)()},function(e,t,n){"use strict";t.a=function(){var e=function e(t,n){var r=t.nodeType;if(3==r)n.push(t.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"));else if(1==r){if(n.push("<",t.tagName),t.hasAttributes())for(var i=t.attributes,a=0,o=i.length;a<o;++a){var s=i.item(a);n.push(" ",s.name,"='",s.value,"'")}if(t.hasChildNodes()){n.push(">");for(var u=t.childNodes,a=0,o=u.length;a<o;++a)e(u.item(a),n);n.push("</",t.tagName,">")}else n.push("/>")}else{if(8!=r)throw"Error serializing XML. Unhandled node of type: "+r;n.push("\x3c!--",t.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){for(var t=[],n=this.firstChild;n;)e(n,t),n=n.nextSibling;return t.join("")},set:function(e){for(;this.firstChild;)this.removeChild(this.firstChild);try{var t=new DOMParser;t.async=!1;for(var n="<svg xmlns='http://www.w3.org/2000/svg'>"+e+"</svg>",r=t.parseFromString(n,"text/xml").documentElement,i=r.firstChild;i;)this.appendChild(this.ownerDocument.importNode(i,!0)),i=i.nextSibling}catch(e){throw console.error(e),new Error("Error parsing XML string")}}}),Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(e){this.innerHTML=e}})}}])})},function(e,t,n){/*!
  * vue-scrollto v2.15.0
  * (c) 2019 Randjelovic Igor
  * @license MIT
  */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(){return t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}function n(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function i(e){return 3*e}function a(e,t,a){return((n(t,a)*e+r(t,a))*e+i(t))*e}function o(e,t,a){return 3*n(t,a)*e*e+2*r(t,a)*e+i(t)}function s(e,t,n,r,i){var o,s,u=0;do{s=t+(n-t)/2,o=a(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>y&&++u<g);return s}function u(e,t,n,r){for(var i=0;i<v;++i){var s=o(t,n,r);if(0===s)return t;t-=(a(t,n,r)-e)/s}return t}function c(e){return e}function l(e){O=t({},O,e)}function f(e){for(var t=0;t<A.length;++t)if(A[t].el===e)return A.splice(t,1),!0;return!1}function d(e){for(var t=0;t<A.length;++t)if(A[t].el===e)return A[t]}function p(e){var t=d(e);return t||(A.push(t={el:e,binding:{}}),t)}function h(e){e.preventDefault();var t=p(this).binding;if("string"==typeof t.value)return T(t.value);T(t.value.el||t.value.element,t.value)}var v=4,m=.001,y=1e-7,g=10,b=11,_=1/(b-1),w="function"==typeof Float32Array,k=function(e,t,n,r){function i(t){for(var r=0,i=1,a=b-1;i!==a&&l[i]<=t;++i)r+=_;--i;var c=(t-l[i])/(l[i+1]-l[i]),f=r+c*_,d=o(f,e,n);return d>=m?u(t,f,e,n):0===d?f:s(t,r,r+_,e,n)}if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return c;for(var l=w?new Float32Array(b):new Array(b),f=0;f<b;++f)l[f]=a(f*_,e,n);return function(e){return 0===e?0:1===e?1:a(i(e),t,r)}},x={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},S=!1;try{var E=Object.defineProperty({},"passive",{get:function(){S=!0}});window.addEventListener("test",null,E)}catch(e){}var C={$:function(e){return"string"!=typeof e?e:document.querySelector(e)},on:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!1};t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++)e.addEventListener(t[i],n,!!S&&r)},off:function(e,t,n){t instanceof Array||(t=[t]);for(var r=0;r<t.length;r++)e.removeEventListener(t[r],n)},cumulativeOffset:function(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}}},P=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],O={container:"body",duration:500,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0},T=function(){function t(e){var t=e.scrollTop;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollTop),t}function n(e){var t=e.scrollLeft;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollLeft),t}function r(e){if(A)return i();D||(D=e),R=e-D,j=Math.min(R/c,1),j=I(j),a(u,w+T*j,b+E*j),R<c?window.requestAnimationFrame(r):i()}function i(){A||a(u,S,_),D=!1,C.off(u,P,N),A&&m&&m(M,s),!A&&v&&v(s)}function a(e,t,n){g&&(e.scrollTop=t),y&&(e.scrollLeft=n),"body"===e.tagName.toLowerCase()&&(g&&(document.documentElement.scrollTop=t),y&&(document.documentElement.scrollLeft=n))}function o(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===e(a)?o=a:"number"==typeof a&&(o.duration=a),!(s=C.$(i)))return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+i);u=C.$(o.container||O.container),c=o.duration||O.duration,l=o.easing||O.easing,f=o.offset||O.offset,d=o.hasOwnProperty("force")?!1!==o.force:O.force,p=o.hasOwnProperty("cancelable")?!1!==o.cancelable:O.cancelable,h=o.onStart||O.onStart,v=o.onDone||O.onDone,m=o.onCancel||O.onCancel,y=void 0===o.x?O.x:o.x,g=void 0===o.y?O.y:o.y;var D=C.cumulativeOffset(u),R=C.cumulativeOffset(s);if("function"==typeof f&&(f=f()),w=t(u),S=R.top-D.top+f,b=n(u),_=R.left-D.left+f,A=!1,T=S-w,E=_-b,!d){var j=w,L=j+u.offsetHeight,F=S,U=F+s.offsetHeight;if(F>=j&&U<=L)return void v(s)}return"string"==typeof l&&(l=x[l]||x.ease),I=k.apply(k,l),T||E?(h&&h(s),C.on(u,P,N,{passive:!0}),window.requestAnimationFrame(r),function(){M=null,A=!0}):void 0}var s,u,c,l,f,d,p,h,v,m,y,g,b,_,w,S,E,T,A,M,I,D,R,j,N=function(e){p&&(M=e,A=!0)};return o}(),A=[],M={bind:function(e,t){p(e).binding=t,C.on(e,"click",h)},unbind:function(e){f(e),C.off(e,"click",h)},update:function(e,t){p(e).binding=t},scrollTo:T,bindings:A},I=function(e,t){t&&l(t),e.directive("scroll-to",M),e.prototype.$scrollTo=M.scrollTo};return"undefined"!=typeof window&&window.Vue&&(window.VueScrollTo=M,window.VueScrollTo.setDefaults=l,window.Vue.use(I)),M.install=I,M})},function(e,t,n){e.exports=n(467).default},function(e,t,n){"use strict";function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(e){return e.replace(/"/g,"&quot;")}function a(e){if(!e)return"";var t=[];for(var n in e){var r=e[n]+"";t.push(n+'="'+i(r)+'"')}return t.join(" ")}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=new f(t);for(var n=c(e),o=[],s=0;s<n.length;s++){var u=n[s];if("nl"===u.type&&t.nl2br)o.push("<br>\n");else if(u.isLink&&t.check(u)){var l=t.resolve(u),d=l.formatted,p=l.formattedHref,h=l.tagName,v=l.className,m=l.target,y=l.attributes,g="<"+h+' href="'+i(p)+'"';v&&(g+=' class="'+i(v)+'"'),m&&(g+=' target="'+i(m)+'"'),y&&(g+=" "+a(y)),g+=">"+r(d)+"</"+h+">",o.push(g)}else o.push(r(u.toString()))}return o.join("")}t.__esModule=!0;var s=n(468),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=u.tokenize,l=u.options,f=l.Options;if(!String.prototype.linkify)try{Object.defineProperty(String.prototype,"linkify",{set:function(){},get:function(){return function(e){return o(this,e)}}})}catch(e){String.prototype.linkify||(String.prototype.linkify=function(e){return o(this,e)})}t.default=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0,t.tokenize=t.test=t.scanner=t.parser=t.options=t.inherits=t.find=void 0;var i=n(115),a=n(469),o=r(a),s=n(470),u=r(s),c=n(471),l=r(c);Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var f=function(e){return l.run(u.run(e))},d=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=f(e),r=[],i=0;i<n.length;i++){var a=n[i];!a.isLink||t&&a.type!==t||r.push(a.toObject())}return r},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=f(e);return 1===n.length&&n[0].isLink&&(!t||n[0].type===t)};t.find=d,t.inherits=i.inherits,t.options=o,t.parser=l,t.scanner=u,t.test=p,t.tokenize=f},function(e,t,n){"use strict";function r(e){e=e||{},this.defaultProtocol=e.hasOwnProperty("defaultProtocol")?e.defaultProtocol:u.defaultProtocol,this.events=e.hasOwnProperty("events")?e.events:u.events,this.format=e.hasOwnProperty("format")?e.format:u.format,this.formatHref=e.hasOwnProperty("formatHref")?e.formatHref:u.formatHref,this.nl2br=e.hasOwnProperty("nl2br")?e.nl2br:u.nl2br,this.tagName=e.hasOwnProperty("tagName")?e.tagName:u.tagName,this.target=e.hasOwnProperty("target")?e.target:u.target,this.validate=e.hasOwnProperty("validate")?e.validate:u.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||u.attributes,this.className=e.hasOwnProperty("className")?e.className:e.linkClass||u.className;for(var t=e.hasOwnProperty("ignoreTags")?e.ignoreTags:u.ignoreTags,n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function i(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}function a(e){return e}function o(e,t){return"url"===t?"_blank":null}t.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u={defaultProtocol:"http",events:null,format:a,formatHref:a,nl2br:!1,tagName:"a",target:o,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};t.defaults=u,t.Options=r,t.contains=i,r.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var r=void 0,i=this[e];if(!i)return i;switch(void 0===i?"undefined":s(i)){case"function":return i(t,n.type);case"object":return r=i.hasOwnProperty(n.type)?i[n.type]:u[e],"function"==typeof r?r(t,n.type):r}return i},getObject:function(e,t,n){var r=this[e];return"function"==typeof r?r(t,n.type):r}}},function(e,t,n){"use strict";t.__esModule=!0,t.start=t.run=t.TOKENS=t.State=void 0;var r=n(215),i=n(154),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),o="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),s="0123456789".split(""),u="0123456789abcdefghijklmnopqrstuvwxyz".split(""),c=[" ","\f","\r","\t","\v"," "," ","᠎"],l=[],f=function(e){return new r.CharacterState(e)},d=f(),p=f(i.NUM),h=f(i.DOMAIN),v=f(),m=f(i.WS);d.on("@",f(i.AT)).on(".",f(i.DOT)).on("+",f(i.PLUS)).on("#",f(i.POUND)).on("?",f(i.QUERY)).on("/",f(i.SLASH)).on("_",f(i.UNDERSCORE)).on(":",f(i.COLON)).on("{",f(i.OPENBRACE)).on("[",f(i.OPENBRACKET)).on("<",f(i.OPENANGLEBRACKET)).on("(",f(i.OPENPAREN)).on("}",f(i.CLOSEBRACE)).on("]",f(i.CLOSEBRACKET)).on(">",f(i.CLOSEANGLEBRACKET)).on(")",f(i.CLOSEPAREN)).on("&",f(i.AMPERSAND)).on([",",";","!",'"',"'"],f(i.PUNCTUATION)),d.on("\n",f(i.NL)).on(c,m),m.on(c,m);for(var y=0;y<o.length;y++){var g=(0,r.stateify)(o[y],d,i.TLD,i.DOMAIN);l.push.apply(l,g)}var b=(0,r.stateify)("file",d,i.DOMAIN,i.DOMAIN),_=(0,r.stateify)("ftp",d,i.DOMAIN,i.DOMAIN),w=(0,r.stateify)("http",d,i.DOMAIN,i.DOMAIN),k=(0,r.stateify)("mailto",d,i.DOMAIN,i.DOMAIN);l.push.apply(l,b),l.push.apply(l,_),l.push.apply(l,w),l.push.apply(l,k);var x=b.pop(),S=_.pop(),E=w.pop(),C=k.pop(),P=f(i.DOMAIN),O=f(i.PROTOCOL),T=f(i.MAILTO);S.on("s",P).on(":",O),E.on("s",P).on(":",O),l.push(P),x.on(":",O),P.on(":",O),C.on(":",T);var A=(0,r.stateify)("localhost",d,i.LOCALHOST,i.DOMAIN);l.push.apply(l,A),d.on(s,p),p.on("-",v).on(s,p).on(u,h),h.on("-",v).on(u,h);for(var M=0;M<l.length;M++)l[M].on("-",v).on(u,h);v.on("-",v).on(s,h).on(u,h),d.defaultTransition=f(i.SYM);var I=function(e){for(var t=e.replace(/[A-Z]/g,function(e){return e.toLowerCase()}),n=e.length,r=[],i=0;i<n;){for(var a=d,o=null,s=0,u=null,c=-1;i<n&&(o=a.next(t[i]));)a=o,a.accepts()?(c=0,u=a):c>=0&&c++,s++,i++;if(!(c<0)){i-=c,s-=c;var l=u.emit();r.push(new l(e.substr(i-s,s)))}}return r},D=d;t.State=r.CharacterState,t.TOKENS=a,t.run=I,t.start=D},function(e,t,n){"use strict";t.__esModule=!0,t.start=t.run=t.TOKENS=t.State=void 0;var r=n(215),i=n(472),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),o=n(154),s=function(e){return new r.TokenState(e)},u=s(),c=s(),l=s(),f=s(),d=s(),p=s(),h=s(),v=s(i.URL),m=s(),y=s(i.URL),g=s(i.URL),b=s(),_=s(),w=s(),k=s(),x=s(),S=s(i.URL),E=s(i.URL),C=s(i.URL),P=s(i.URL),O=s(),T=s(),A=s(),M=s(),I=s(),D=s(),R=s(i.EMAIL),j=s(),N=s(i.EMAIL),L=s(i.MAILTOEMAIL),F=s(),U=s(),$=s(),B=s(),q=s(i.NL);u.on(o.NL,q).on(o.PROTOCOL,c).on(o.MAILTO,l).on(o.SLASH,f),c.on(o.SLASH,f),f.on(o.SLASH,d),u.on(o.TLD,p).on(o.DOMAIN,p).on(o.LOCALHOST,v).on(o.NUM,p),d.on(o.TLD,g).on(o.DOMAIN,g).on(o.NUM,g).on(o.LOCALHOST,g),p.on(o.DOT,h),I.on(o.DOT,D),h.on(o.TLD,v).on(o.DOMAIN,p).on(o.NUM,p).on(o.LOCALHOST,p),D.on(o.TLD,R).on(o.DOMAIN,I).on(o.NUM,I).on(o.LOCALHOST,I),v.on(o.DOT,h),R.on(o.DOT,D),v.on(o.COLON,m).on(o.SLASH,g),m.on(o.NUM,y),y.on(o.SLASH,g),R.on(o.COLON,j),j.on(o.NUM,N);var z=[o.DOMAIN,o.AT,o.LOCALHOST,o.NUM,o.PLUS,o.POUND,o.PROTOCOL,o.SLASH,o.TLD,o.UNDERSCORE,o.SYM,o.AMPERSAND],H=[o.COLON,o.DOT,o.QUERY,o.PUNCTUATION,o.CLOSEBRACE,o.CLOSEBRACKET,o.CLOSEANGLEBRACKET,o.CLOSEPAREN,o.OPENBRACE,o.OPENBRACKET,o.OPENANGLEBRACKET,o.OPENPAREN];g.on(o.OPENBRACE,_).on(o.OPENBRACKET,w).on(o.OPENANGLEBRACKET,k).on(o.OPENPAREN,x),b.on(o.OPENBRACE,_).on(o.OPENBRACKET,w).on(o.OPENANGLEBRACKET,k).on(o.OPENPAREN,x),_.on(o.CLOSEBRACE,g),w.on(o.CLOSEBRACKET,g),k.on(o.CLOSEANGLEBRACKET,g),x.on(o.CLOSEPAREN,g),S.on(o.CLOSEBRACE,g),E.on(o.CLOSEBRACKET,g),C.on(o.CLOSEANGLEBRACKET,g),P.on(o.CLOSEPAREN,g),O.on(o.CLOSEBRACE,g),T.on(o.CLOSEBRACKET,g),A.on(o.CLOSEANGLEBRACKET,g),M.on(o.CLOSEPAREN,g),_.on(z,S),w.on(z,E),k.on(z,C),x.on(z,P),_.on(H,O),w.on(H,T),k.on(H,A),x.on(H,M),S.on(z,S),E.on(z,E),C.on(z,C),P.on(z,P),S.on(H,S),E.on(H,E),C.on(H,C),P.on(H,P),O.on(z,S),T.on(z,E),A.on(z,C),M.on(z,P),O.on(H,O),T.on(H,T),A.on(H,A),M.on(H,M),g.on(z,g),b.on(z,g),g.on(H,b),b.on(H,b),l.on(o.TLD,L).on(o.DOMAIN,L).on(o.NUM,L).on(o.LOCALHOST,L),L.on(z,L).on(H,F),F.on(z,L).on(H,F);var V=[o.DOMAIN,o.NUM,o.PLUS,o.POUND,o.QUERY,o.UNDERSCORE,o.SYM,o.AMPERSAND,o.TLD];p.on(V,U).on(o.AT,$),v.on(V,U).on(o.AT,$),h.on(V,U),U.on(V,U).on(o.AT,$).on(o.DOT,B),B.on(V,U),$.on(o.TLD,I).on(o.DOMAIN,I).on(o.LOCALHOST,R);var Y=function(e){for(var t=e.length,n=0,r=[],a=[];n<t;){for(var o=u,s=null,c=null,l=0,f=null,d=-1;n<t&&!(s=o.next(e[n]));)a.push(e[n++]);for(;n<t&&(c=s||o.next(e[n]));)s=null,o=c,o.accepts()?(d=0,f=o):d>=0&&d++,n++,l++;if(d<0)for(var p=n-l;p<n;p++)a.push(e[p]);else{a.length>0&&(r.push(new i.TEXT(a)),a=[]),n-=d,l-=d;var h=f.emit();r.push(new h(e.slice(n-l,n)))}}return a.length>0&&r.push(new i.TEXT(a)),r};t.State=r.TokenState,t.TOKENS=a,t.run=Y,t.start=u},function(e,t,n){"use strict";function r(e){return e instanceof o.DOMAIN||e instanceof o.TLD}t.__esModule=!0,t.URL=t.TEXT=t.NL=t.EMAIL=t.MAILTOEMAIL=t.Base=void 0;var i=n(216),a=n(115),o=n(154),s=(0,i.createTokenClass)();s.prototype={type:"token",isLink:!1,toString:function(){for(var e=[],t=0;t<this.v.length;t++)e.push(this.v[t].toString());return e.join("")},toHref:function(){return this.toString()},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(e)}}};var u=(0,a.inherits)(s,(0,i.createTokenClass)(),{type:"email",isLink:!0}),c=(0,a.inherits)(s,(0,i.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),l=(0,a.inherits)(s,(0,i.createTokenClass)(),{type:"text"}),f=(0,a.inherits)(s,(0,i.createTokenClass)(),{type:"nl"}),d=(0,a.inherits)(s,(0,i.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",t=!1,n=!1,i=this.v,a=[],s=0;i[s]instanceof o.PROTOCOL;)t=!0,a.push(i[s].toString().toLowerCase()),s++;for(;i[s]instanceof o.SLASH;)n=!0,a.push(i[s].toString()),s++;for(;r(i[s]);)a.push(i[s].toString().toLowerCase()),s++;for(;s<i.length;s++)a.push(i[s].toString());return a=a.join(""),t||n||(a=e+"://"+a),a},hasProtocol:function(){return this.v[0]instanceof o.PROTOCOL}});t.Base=s,t.MAILTOEMAIL=u,t.EMAIL=c,t.NL=f,t.TEXT=l,t.URL=d},function(e,t,n){n(474),n(475),n(476),n(477),n(478),n(479),n(480);var r=n(9)(n(481),n(564),null,null);e.exports=r.exports},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(71),a=n(116),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a);n(538);var s=n(30),u=n(118);t.default={name:"smith-chat",mixins:[u.BrowserSupportMixin,u.ColorCustomizationMixin,u.PageTitleMixin],data:function(){return{requestingToken:!1,showProactiveChatMessage:!1,widgetInitialized:!1,widgetMessagingReady:!1,widgetOpen:!1,widgetReady:!1,widgetShown:!0}},created:function(){var e=this;if(!this.isSupportedBrowser())return void console.info("Smith.ai Chat initialization aborted due to unsupported browser (IE<10)");this.fetchCustomizations().then(function(){if(console.info("%cSmith.ai Live Chat initialized","text-shadow: 1px 1px 0px #D35224; font-size: 18px; font-weight: bold;"),e.$emit("widget-initialized"),!e.widgetVisibility)return void console.info("Smith.ai Live Chat set to invisible mode");e.addCustomStyles(e.widgetColor);var t=-1!==document.cookie.indexOf(s.BLOCK_PROACTIVE_MODE_COOKIE);if(e.inProactiveChatMode&&!t&&e.startProactiveChatTimeout(),e.isProactiveChatDisabledForRepeatGuests&&!t){var n=new Date;n.setDate(n.getDate()+7),document.cookie=s.BLOCK_PROACTIVE_MODE_COOKIE+"=1; expires="+n.toUTCString()+";"}e.inStandaloneMode&&e.openWidget(),e.widgetReady=!0}).catch(function(e){e.response&&404===e.response.status?console.error("Could not find the Smith.ai "+s.SERVICE_SID+" account. Please make sure that plan is active"):console.error(e)})},computed:r({},(0,i.mapState)(["channelId","guestToken","hasNewMessage","isChatToCallEnabled","isProactiveChatDisabledForRepeatGuests","proactiveTimeout","widgetButtonText","widgetColor","widgetDescription","widgetLogoUrl","widgetServiceName","widgetTitle","widgetVisibility"]),(0,i.mapGetters)(["customFooterBranding","hasAssignedAgent","inAnimatedChatButtonMode","inLeftTabPositionMode","inProactiveChatMode","inSimulatorMode","inStandaloneMode","inStandardPositionMode","leadAgentIdentity"]),{widgetClasses:function(){var e=["pro-"+s.SERVICE_SID];return this.isOpened?e.push("widget-open"):e.push("widget-closed"),this.inLeftTabPositionMode?e.push("left-position"):e.push("standard-position"),e},isOpened:function(){return this.widgetOpen},isClosed:function(){return!this.widgetOpen},showCloseButton:function(){return!this.inStandAloneMode},showActionButton:function(){return!!this.widgetReady&&(!(!this.inLeftTabPositionMode||!this.widgetOpen)||!!this.inStandardPositionMode)},chatButtonIcon:function(){var e=null;return this.isOpened||this.showProactiveChatMessage?e="close":this.isClosed&&(e=this.inSimulatorMode?"bot":"messaging"),e},footerBrandingUrl:function(){if(this.customFooterBranding)return this.customFooterBranding.url;var e={utm_campaign:"powered_by_smith",utm_medium:"chat_widget",utm_source:s.SERVICE_SID};return"https://smith.ai?"+Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},showRequestACall:function(){return!this.inSimulatorMode&&this.isChatToCallEnabled&&this.guestToken}}),methods:r({},(0,i.mapActions)(["clearNewMessageFlag","fetchCustomizations","fetchToken","setPlaybookInstanceId"]),{onActionButtonClicked:function(){this.showProactiveChatMessage&&this.inStandardPositionMode?this.closeProactiveMessage():this.isOpened?this.closeWidget():this.isClosed&&(this.closeProactiveMessage(),this.openWidget())},onWidgetHover:function(){this.clearNewMessageFlag()},onMessagingReady:function(){this.widgetMessagingReady=!0},openWidget:function(){this.inSimulatorMode&&window.parent&&window.parent.postMessage("open","*"),this.widgetOpen=!0,this.clearNewMessageFlag(),this.clearProactiveChatTimeout(),this.widgetInitialized||(this.initChat(),this.widgetInitialized=!0,this.$addGTMEvent({event:"widget_opened"}))},closeWidget:function(){this.inSimulatorMode&&window.parent&&window.parent.postMessage("close","*"),this.widgetOpen=!1,this.clearNewMessageFlag(),this.$addGTMEvent({event:"widget_closed"})},setVisibility:function(e,t){t?this.openWidget():this.closeWidget(),this.widgetShown=e},initChat:function(){var e=this,t=localStorage.getItem("SMITHCHAT_guestName"),n=localStorage.getItem("SMITHCHAT_guestEmail");t&&n?(this.requestingToken=!0,this.fetchToken({email:n,name:t}).then(function(){e.requestingToken=!1,e.navigateToMessaging()}).catch(function(){e.requestingToken=!1,e.navigateToEntryForm()})):this.navigateToEntryForm();var r=localStorage.getItem(s.PLAYBOOK_LOCAL_STORE_KEY);r&&this.setPlaybookInstanceId(r)},navigateToMessaging:function(){this.$router.push({name:"messaging"})},navigateToEntryForm:function(){this.$router.push({name:"entry-form",query:{proactive_mode:this.inProactiveChatMode}})},onProactiveReplyClick:function(){this.closeProactiveMessage(),this.openWidget()},closeProactiveMessage:function(){this.showProactiveChatMessage=!1},startProactiveChatTimeout:function(){this.proactiveChatTimeout=setTimeout(this.onProactiveChatTimeout,1e3*this.proactiveTimeout)},onProactiveChatTimeout:function(){var e=this;this.$nextTick(function(){e.showProactiveChatMessage=!0}),this.clearProactiveChatTimeout()},clearProactiveChatTimeout:function(){clearTimeout(this.proactiveChatTimeout)},updateConversationMetadata:function(e){return o.updateConversationMetadata(this.channelId,e)},getConversationData:function(e){return o.getConversationData(e)},getChannelId:function(){return this.channelId},startPlaybook:function(e){return o.startPlaybook(this.channelId,e)},requestCall:function(){this.widgetMessagingReady&&this.$refs.child.requestCall()}})}},function(e,t,n){e.exports=n(483)},function(e,t,n){"use strict";function r(e){var t=new o(e),n=a(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var i=n(29),a=n(217),o=n(485),s=n(155),u=r(s);u.Axios=o,u.create=function(e){return r(i.merge(s,e))},u.Cancel=n(221),u.CancelToken=n(499),u.isCancel=n(220),u.all=function(e){return Promise.all(e)},u.spread=n(500),e.exports=u,e.exports.default=u},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||r(e)||!!e._isBuffer)}},function(e,t,n){"use strict";function r(e){this.defaults=e,this.interceptors={request:new o,response:new o}}var i=n(155),a=n(29),o=n(494),s=n(495);r.prototype.request=function(e){"string"==typeof e&&(e=a.merge({url:arguments[0]},arguments[1])),e=a.merge(i,this.defaults,{method:"get"},e),e.method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},a.forEach(["delete","get","head","options"],function(e){r.prototype[e]=function(t,n){return this.request(a.merge(n||{},{method:e,url:t}))}}),a.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(a.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){"use strict";var r=n(29);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(219);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(29);e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(i.isURLSearchParams(t))a=t.toString();else{var o=[];i.forEach(t,function(e,t){null!==e&&void 0!==e&&(i.isArray(e)&&(t+="[]"),i.isArray(e)||(e=[e]),i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),o.push(r(t)+"="+r(e))}))}),a=o.join("&")}return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},function(e,t,n){"use strict";var r=n(29),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}}),o):o}},function(e,t,n){"use strict";var r=n(29);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}function i(e){for(var t,n,i=String(e),o="",s=0,u=a;i.charAt(0|s)||(u="=",s%1);o+=u.charAt(63&t>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new r;t=t<<8|n}return o}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=i},function(e,t,n){"use strict";var r=n(29);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";function r(){this.handlers=[]}var i=n(29);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var i=n(29),a=n(496),o=n(220),s=n(155),u=n(497),c=n(498);e.exports=function(e){return r(e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return r(e),t.data=a(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(r(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(29);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}var i=n(221);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var u=null==n?0:o(n);return u<0&&(u=s(r+u,0)),i(e,a(t,3),u)}var i=n(502),a=n(503),o=n(535),s=Math.max;e.exports=r},function(e,t){function n(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}e.exports=n},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?a(e[0],e[1]):i(e):u(e)}var i=n(504),a=n(527),o=n(533),s=n(156),u=n(534);e.exports=r},function(e,t,n){function r(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(505),a=n(525),o=n(226);e.exports=r},function(e,t,n){function r(e,t,n,r){var u=n.length,c=u,l=!r;if(null==e)return!c;for(e=Object(e);u--;){var f=n[u];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<c;){f=n[u];var d=f[0],p=e[d],h=f[1];if(l&&f[2]){if(void 0===p&&!(d in e))return!1}else{var v=new i;if(r)var m=r(p,h,d,e,t,v);if(!(void 0===m?a(h,p,o|s,r,v):m))return!1}}return!0}var i=n(223),a=n(224),o=1,s=2;e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}var i=n(117),a=Array.prototype,o=a.splice;e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(117);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(117);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(117);e.exports=r},function(e,t,n){function r(e,t,n,r,m,g){var b=c(e),_=c(t),w=b?h:u(e),k=_?h:u(t);w=w==p?v:w,k=k==p?v:k;var x=w==v,S=k==v,E=w==k;if(E&&l(e)){if(!l(t))return!1;b=!0,x=!1}if(E&&!x)return g||(g=new i),b||f(e)?a(e,t,n,r,m,g):o(e,t,w,n,r,m,g);if(!(n&d)){var C=x&&y.call(e,"__wrapped__"),P=S&&y.call(t,"__wrapped__");if(C||P){var O=C?e.value():e,T=P?t.value():t;return g||(g=new i),m(O,T,n,r,g)}}return!!E&&(g||(g=new i),s(e,t,n,r,m,g))}var i=n(223),a=n(513),o=n(518),s=n(519),u=n(521),c=n(156),l=n(522),f=n(523),d=1,p="[object Arguments]",h="[object Array]",v="[object Object]",m=Object.prototype,y=m.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,r,c,l){var f=n&s,d=e.length,p=t.length;if(d!=p&&!(f&&p>d))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var v=-1,m=!0,y=n&u?new i:void 0;for(l.set(e,t),l.set(t,e);++v<d;){var g=e[v],b=t[v];if(r)var _=f?r(b,g,v,t,e,l):r(g,b,v,e,t,l);if(void 0!==_){if(_)continue;m=!1;break}if(y){if(!a(t,function(e,t){if(!o(y,t)&&(g===e||c(g,e,n,r,l)))return y.push(t)})){m=!1;break}}else if(g!==b&&!c(g,b,n,r,l)){m=!1;break}}return l.delete(e),l.delete(t),m}var i=n(514),a=n(515),o=n(516),s=1,u=2;e.exports=r},function(e,t,n){function r(){if(!arguments.length)return[];var e=arguments[0];return i(e)?e:[e]}var i=n(156);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}var i=n(517);e.exports=r},function(e,t){function n(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e,t,n,r,o,u){var c=n&a,l=i(e),f=l.length;if(f!=i(t).length&&!c)return!1;for(var d=f;d--;){var p=l[d];if(!(c?p in t:s.call(t,p)))return!1}var h=u.get(e);if(h&&u.get(t))return h==t;var v=!0;u.set(e,t),u.set(t,e);for(var m=c;++d<f;){p=l[d];var y=e[p],g=t[p];if(r)var b=c?r(g,y,p,t,e,u):r(y,g,p,e,t,u);if(!(void 0===b?y===g||o(y,g,n,r,u):b)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(v=!1)}return u.delete(e),u.delete(t),v}var i=n(520),a=1,o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(213),i=r(Object.keys,Object);e.exports=i},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){function r(e){for(var t=a(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,i(o)]}return t}var i=n(225),a=n(212);e.exports=r},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function r(e,t){return s(e)&&u(t)?c(l(e),t):function(n){var r=a(n,e);return void 0===r&&r===t?o(n,e):i(t,r,f|d)}}var i=n(224),a=n(528),o=n(530),s=n(531),u=n(225),c=n(226),l=n(532),f=1,d=2;e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(529);e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e,t,n,i,a,o,s,u={},c={url_patterns:{}};for(i=[["billing:reports_revenue_all_time",[["billing/reports/revenue/",[]]]],["billing:reports_revenue_month",[["billing/reports/revenue/%(year)s/%(month)s/",["year","month"]]]],["billing:reports_revenue_year",[["billing/reports/revenue/%(year)s/",["year"]]]],["browserconfig.xml",[["browserconfig.xml",[]]]],["chat:browserconfig.xml",[["chat/browserconfig.xml",[]]]],["chat:channels",[["chat/",[]]]],["chat:facebook:facebook-connect-auth-view",[["chat/facebook/connect/",[]]]],["chat:facebook:facebook-disconnect-auth-view",[["chat/facebook/disconnect/%(facebook_id)s",["facebook_id"]]]],["chat:facebook:facebook-message-received",[["chat/facebook/received/",[]]]],["chat:mailgun:mailgun_email",[["chat/mailgun/email/",[]]]],["chat:site.webmanifest",[["chat/site.webmanifest",[]]]],["chat:sms:sms-received",[["chat/sms/received/",[]]]],["chat:standalone_widget",[["chat/standalone-widget/%(service_id)s/",["service_id"]]]],["chat:stripe:webhook",[["chat/stripe/webhook/",[]]]],["chat:support:add-coupon",[["chat/support/add-coupon/",[]]]],["chat:support:guest-details",[["chat/support/guest/%(pk)s/",["pk"]]]],["chat:support:guests-list",[["chat/support/guests/",[]]]],["chat:support:kpi",[["chat/support/kpi/",[]]]],["chat:support:kpi-month",[["chat/support/kpi/%(year)s/%(month)s/",["year","month"]]]],["chat:support:kpi-month-ai-human-canceled",[["chat/support/kpi/%(year)s/%(month)s/ai-human-canceled/",["year","month"]]]],["chat:support:kpi-month-ai-human-disabled",[["chat/support/kpi/%(year)s/%(month)s/ai-human-disabled/",["year","month"]]]],["chat:support:kpi-month-ai-human-engaged",[["chat/support/kpi/%(year)s/%(month)s/ai-human-engaged/",["year","month"]]]],["chat:support:kpi-month-ai-human-paying",[["chat/support/kpi/%(year)s/%(month)s/ai-human-paying/",["year","month"]]]],["chat:support:kpi-month-ai-human-trials",[["chat/support/kpi/%(year)s/%(month)s/ai-human-trials/",["year","month"]]]],["chat:support:kpi-month-ai-only-canceled",[["chat/support/kpi/%(year)s/%(month)s/ai-only-canceled/",["year","month"]]]],["chat:support:kpi-month-ai-only-disabled",[["chat/support/kpi/%(year)s/%(month)s/ai-only-disabled/",["year","month"]]]],["chat:support:kpi-month-ai-only-engaged",[["chat/support/kpi/%(year)s/%(month)s/ai-only-engaged/",["year","month"]]]],["chat:support:kpi-month-ai-only-paying",[["chat/support/kpi/%(year)s/%(month)s/ai-only-paying/",["year","month"]]]],["chat:support:kpi-month-ai-only-sign-ups",[["chat/support/kpi/%(year)s/%(month)s/ai-only-sign-ups/",["year","month"]]]],["chat:support:kpi-month-bot-responses-rates",[["chat/support/kpi/%(year)s/%(month)s/bot-responses-rates/",["year","month"]]]],["chat:support:kpi-year",[["chat/support/kpi/%(year)s/",["year"]]]],["chat:support:plan-add-coupon",[["chat/support/plans/%(pk)s/add-coupon/",["pk"]]]],["chat:support:plan-cancel",[["chat/support/plans/%(pk)s/cancel/",["pk"]]]],["chat:support:plan-details",[["chat/support/plans/%(pk)s/",["pk"]]]],["chat:support:plan-downgrade",[["chat/support/plans/%(pk)s/downgrade/",["pk"]]]],["chat:support:plan-enable-scheduling",[["chat/support/plans/%(pk)s/enable-scheduling/",["pk"]]]],["chat:support:plan-environment",[["chat/support/plans/%(pk)s/environment/",["pk"]]]],["chat:support:plan-extend-chat-count",[["chat/support/plans/%(pk)s/extend-chat-count/",["pk"]]]],["chat:support:plan-extend-trial-period",[["chat/support/plans/%(pk)s/extend-trial-period/",["pk"]]]],["chat:support:plan-invoice-detail",[["chat/support/plans/%(pk)s/invoices/%(invoice_id)s",["pk","invoice_id"]]]],["chat:support:plan-invoices",[["chat/support/plans/%(pk)s/invoices/",["pk"]]]],["chat:support:plan-partner-change",[["chat/support/plans/%(pk)s/partner-change/",["pk"]]]],["chat:support:plan-payment-detail",[["chat/support/plans/%(pk)s/payments/%(payment_id)s/",["pk","payment_id"]]]],["chat:support:plan-payment-refund",[["chat/support/plans/%(pk)s/payments/%(payment_id)s/refund/",["pk","payment_id"]]]],["chat:support:plan-payment-retry",[["chat/support/plans/%(pk)s/payments/%(payment_id)s/retry/",["pk","payment_id"]]]],["chat:support:plan-payments",[["chat/support/plans/%(pk)s/payments/",["pk"]]]],["chat:support:plan-upgrade",[["chat/support/plans/%(pk)s/upgrade/",["pk"]]]],["chat:support:plans-list",[["chat/support/",[]]]],["chat:support:receptionist-add",[["chat/support/receptionists/add/",[]]]],["chat:support:receptionist-details",[["chat/support/receptionist/%(pk)s/",["pk"]]]],["chat:support:receptionist-edit",[["chat/support/receptionist/%(pk)s/edit/",["pk"]]]],["chat:support:receptionists-list",[["chat/support/receptionists/",[]]]],["chat:support:service-bot",[["chat/support/services/%(pk)s/bot/",["pk"]]]],["chat:support:service-channels-list",[["chat/support/services/%(pk)s/channels/",["pk"]]]],["chat:support:service-details",[["chat/support/services/%(pk)s/",["pk"]]]],["chat:support:service-integrations-list",[["chat/support/services/%(pk)s/integrations/",["pk"]]]],["chat:support:service-onboarding",[["chat/support/services/%(pk)s/onboarding/%(onboarding_id)s/",["pk","onboarding_id"]]]],["chat:support:service-onboarding-check-url",[["chat/support/services/%(pk)s/onboarding/%(onboarding_id)s/check-url",["pk","onboarding_id"]]]],["chat:support:service-smith-onboarding",[["chat/support/services/%(pk)s/smith-onboarding/",["pk"]]]],["chat:thumbtack:thumbtack-lead-received",[["chat/thumbtack/v1/lead",[]]]],["chat:thumbtack:thumbtack-message-received",[["chat/thumbtack/v1/message",[]]]],["chat:tools:ua-availability",[["chat/tools/unbundled-attorney-availability/",[]]]],["chat:tools:ua-availability-counties",[["chat/tools/unbundled-attorney-availability/counties/",[]]]],["chat:tools:ua-availability-success",[["chat/tools/unbundled-attorney-availability/success/",[]]]],["chat:tools:ua-cities",[["chat/tools/unbundled-attorney-availability/cities/",[]]]],["chat:twilio:post-event",[["chat/twilio/post-event/",[]]]],["chat:twilio:pre-event",[["chat/twilio/pre-event/",[]]]],["chat:twilio:token",[["chat/twilio/token/",[]]]],["chat:widget",[["chat/widget/",[]]]],["chat:widget-latest.css",[["chat/widget-latest.css",[]]]],["chat:widget-latest.js",[["chat/widget-latest.js",[]]]],["cio:customerio_webhook",[["cio/webhook/",[]]]],["cio:unsubscribe",[["cio/unsubscribe/%(token)s/%(salt)s/",["token","salt"]]]],["home",[["",[]]]],["integrations:oauth2-callback",[["integrations/oauth2-callback/%(product)s/%(provider_id)s/",["product","provider_id"]]]],["integrations:oauth2-start",[["integrations/oauth2-start/%(product)s/%(provider_id)s/",["product","provider_id"]]]],["integrations:zapier",[["integrations/%(product)s/zapier/polling/",["product"]]]],["keypad:browserconfig.xml",[["keypad/browserconfig.xml",[]]]],["keypad:dashboard",[["keypad/",[]]]],["keypad:mailgun:mailgun_fax",[["keypad/mailgun/fax/",[]]]],["keypad:site.webmanifest",[["keypad/site.webmanifest",[]]]],["keypad:sms:push_test",[["keypad/sms/push-test/%(thread_id)s/",["thread_id"]]]],["keypad:stripe:webhook",[["keypad/stripe/webhook/",[]]]],["keypad:support:fax-add",[["keypad/support/%(pk)s/add-fax/",["pk"]]]],["keypad:support:kpi",[["keypad/support/kpi/",[]]]],["keypad:support:kpi-month",[["keypad/support/kpi/%(year)s/%(month)s/",["year","month"]]]],["keypad:support:kpi-month-canceled",[["keypad/support/kpi/%(year)s/%(month)s/canceled/",["year","month"]]]],["keypad:support:kpi-month-paying",[["keypad/support/kpi/%(year)s/%(month)s/paying/",["year","month"]]]],["keypad:support:kpi-year",[["keypad/support/kpi/%(year)s/",["year"]]]],["keypad:support:plan-cancel",[["keypad/support/%(pk)s/cancel/",["pk"]]]],["keypad:support:plan-details",[["keypad/support/%(pk)s/",["pk"]]]],["keypad:support:plan-invoice-detail",[["keypad/support/%(pk)s/invoices/%(invoice_id)s",["pk","invoice_id"]]]],["keypad:support:plan-invoices",[["keypad/support/%(pk)s/invoices/",["pk"]]]],["keypad:support:plan-payment-detail",[["keypad/support/%(pk)s/payments/%(payment_id)s/",["pk","payment_id"]]]],["keypad:support:plan-payment-refund",[["keypad/support/%(pk)s/payments/%(payment_id)s/refund/",["pk","payment_id"]]]],["keypad:support:plan-payment-retry",[["keypad/support/%(pk)s/payments/%(payment_id)s/retry/",["pk","payment_id"]]]],["keypad:support:plan-payments",[["keypad/support/%(pk)s/payments/",["pk"]]]],["keypad:support:plans-list",[["keypad/support/",[]]]],["keypad:support:router-add",[["keypad/support/%(pk)s/add-twilio-number/",["pk"]]]],["keypad:twilio:call",[["keypad/twilio/call/",[]]]],["keypad:twilio:call-sip",[["keypad/twilio/call-sip/",[]]]],["keypad:twilio:callout-call",[["keypad/twilio/callout/%(callout_number_id)s/%(router_id)s/",["callout_number_id","router_id"]]]],["keypad:twilio:fax",[["keypad/twilio/fax/",[]]]],["keypad:twilio:fax-received",[["keypad/twilio/fax-received/",[]]]],["keypad:twilio:fax-status",[["keypad/twilio/fax-status/",[]]]],["keypad:twilio:message",[["keypad/twilio/message/",[]]]],["keypad:twilio:outbound-call",[["keypad/twilio/outbound/",[]]]],["keypad:twilio:post-blast",[["keypad/twilio/post-blast/%(node_id)s/",["node_id"]]]],["keypad:twilio:process-event",[["keypad/twilio/process-event/%(node_id)s/%(mode)s/",["node_id","mode"]]]],["keypad:twilio:process-node",[["keypad/twilio/process-node/%(node_id)s/",["node_id"]]]],["keypad:twilio:recording-status",[["keypad/twilio/recording-status/",[]]]],["keypad:twilio:status",[["keypad/twilio/status/",[]]]],["keypad:twilio:voicemail-recording-status",[["keypad/twilio/voicemail-recording-status/%(voicemail_id)s/",["voicemail_id"]]]],["keypad:twilio:voicemail-transcription",[["keypad/twilio/voicemail-transcription/%(voicemail_id)s/",["voicemail_id"]]]],["login",[["login/",[]]]],["login_as",[["login-as/%(user_id)s/",["user_id"]]]],["logout",[["logout/",[]]]],["logout_as",[["logout-as/",[]]]],["ok_response",[["test/ok/",[]]]],["partners:billing",[["partners/billing/",[]]]],["partners:home",[["partners/",[]]]],["partners:invoice-detail",[["partners/billing/invoice/%(invoice_id)s/",["invoice_id"]]]],["partners:login",[["partners/login/",[]]]],["partners:login_as",[["partners/login-as/%(user_id)s/",["user_id"]]]],["partners:logout",[["partners/logout/",[]]]],["partners:payment",[["partners/pay/%(plan_id)s/",["plan_id"]]]],["partners:payment_done",[["partners/pay/%(plan_id)s/done/",["plan_id"]]]],["partners:support:partner-accounts",[["partners/support/%(pk)s/accounts/",["pk"]]]],["partners:support:partner-add",[["partners/support/add/",[]]]],["partners:support:partner-detail",[["partners/support/%(pk)s/",["pk"]]]],["partners:support:partner-edit",[["partners/support/%(pk)s/edit/",["pk"]]]],["partners:support:partner-invoice-detail",[["partners/support/%(pk)s/invoices/%(invoice_id)s",["pk","invoice_id"]]]],["partners:support:partner-invoices",[["partners/support/%(pk)s/invoices/",["pk"]]]],["partners:support:partner-payment-detail",[["partners/support/%(pk)s/payments/%(payment_id)s/",["pk","payment_id"]]]],["partners:support:partner-payment-refund",[["partners/support/%(pk)s/payments/%(payment_id)s/refund/",["pk","payment_id"]]]],["partners:support:partner-payment-retry",[["partners/support/%(pk)s/payments/%(payment_id)s/retry/",["pk","payment_id"]]]],["partners:support:partner-payments",[["partners/support/%(pk)s/payments/",["pk"]]]],["partners:support:partners-list",[["partners/support/",[]]]],["partners:support:stplan-add",[["partners/support/%(pk)s/plan/add/",["pk"]]]],["partners:support:stplan-detail",[["partners/support/%(pk)s/plan/",["pk"]]]],["partners:support:stplan-edit",[["partners/support/%(pk)s/plan/%(plan_id)s/edit/",["pk","plan_id"]]]],["partners:support:stplan-history",[["partners/support/%(pk)s/plan/history/",["pk"]]]],["partners:support:stplan-history-detail",[["partners/support/%(pk)s/plan/history/%(plan_id)s/%(plan_usage_id)s/",["pk","plan_id","plan_usage_id"]]]],["partners:support:stplan-one-time-payment",[["partners/support/%(pk)s/plan/one-time-payment/",["pk"]]]],["partners:vr-csv-report",[["partners/vr/csv-report/",[]]]],["password_reset",[["accounts/password-reset/",[]]]],["password_reset_complete",[["accounts/password-reset/complete/",[]]]],["password_reset_confirm",[["accounts/password-reset/confirm/%(uidb64)s/%(token)s/",["uidb64","token"]]]],["password_reset_done",[["accounts/password-reset/verification-sent/",[]]]],["raise_async_error",[["test/error-async/",[]]]],["raise_error",[["test/error/",[]]]],["registration_disallowed",[["accounts/register/closed/",[]]]],["registration_register",[["accounts/register/",[]]]],["rest:auth:obtain_auth_token",[["api/auth/v1/auth-token/",[]]]],["rest:billing:api-root",[["api/billing/v1/.%(format)s",["format"]],["api/billing/v1/",[]]]],["rest:billing:bundle-detail",[["api/billing/v1/bundles/%(pk)s.%(format)s",["pk","format"]],["api/billing/v1/bundles/%(pk)s/",["pk"]]]],["rest:billing:bundle-list",[["api/billing/v1/bundles.%(format)s",["format"]],["api/billing/v1/bundles/",[]]]],["rest:billing:check-coupon",[["api/billing/v1/check-coupon/",[]]]],["rest:billing:check-coupon-in-plan",[["api/billing/v1/check-coupon-in-plan/",[]]]],["rest:chat:api-root",[["api/chat/v1/.%(format)s",["format"]],["api/chat/v1/",[]]]],["rest:chat:chassignment-detail",[["api/chat/v1/assignments/%(pk)s.%(format)s",["pk","format"]],["api/chat/v1/assignments/%(pk)s/",["pk"]]]],["rest:chat:chassignment-list",[["api/chat/v1/assignments.%(format)s",["format"]],["api/chat/v1/assignments/",[]]]],["rest:chat:chchannel-detail",[["api/chat/v1/channels/%(pk)s.%(format)s",["pk","format"]],["api/chat/v1/channels/%(pk)s/",["pk"]]]],["rest:chat:chchannel-list",[["api/chat/v1/channels.%(format)s",["format"]],["api/chat/v1/channels/",[]]]],["rest:chat:chchannelcontext-detail",[["api/chat/v1/channel-contexts/%(pk)s.%(format)s",["pk","format"]],["api/chat/v1/channel-contexts/%(pk)s/",["pk"]]]],["rest:chat:chconversation-detail",[["api/chat/v1/conversations/%(pk)s.%(format)s",["pk","format"]],["api/chat/v1/conversations/%(pk)s/",["pk"]]]],["rest:chat:chconversation-list",[["api/chat/v1/conversations.%(format)s",["format"]],["api/chat/v1/conversations/",[]]]],["rest:chat:chconversation-request-call",[["api/chat/v1/conversations/%(conversation_id)s/request-call/",["conversation_id"]]]],["rest:chat:chconversation-stats",[["api/chat/v1/conversations-stats/",[]]]],["rest:chat:chcredit-card-info",[["api/chat/v1/plans/%(plan_id)s/credit-card-info/",["plan_id"]]]],["rest:chat:check-email-exists",[["api/chat/v1/check-email-exists/",[]]]],["rest:chat:check-unique-email",[["api/chat/v1/check-unique-email/",[]]]],["rest:chat:check-unique-phone",[["api/chat/v1/check-unique-phone/",[]]]],["rest:chat:check-widget-install-url",[["api/chat/v1/check-widget-install-url/",[]]]],["rest:chat:chfacebook-detail",[["api/chat/v1/services/%(service_id)s/facebook/%(pk)s.%(format)s",["service_id","pk","format"]],["api/chat/v1/services/%(service_id)s/facebook/%(pk)s/",["service_id","pk"]]]],["rest:chat:chfacebook-list",[["api/chat/v1/services/%(service_id)s/facebook.%(format)s",["service_id","format"]],["api/chat/v1/services/%(service_id)s/facebook/",["service_id"]]]],["rest:chat:chfeaturescost-detail",[["api/chat/v1/plans/%(plan_id)s/features-cost/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/chat/v1/plans/%(plan_id)s/features-cost/%(pk)s/",["plan_id","pk"]]]],["rest:chat:chfeaturescost-list",[["api/chat/v1/plans/%(plan_id)s/features-cost.%(format)s",["plan_id","format"]],["api/chat/v1/plans/%(plan_id)s/features-cost/",["plan_id"]]]],["rest:chat:chguest-detail",[["api/chat/v1/guests/%(pk)s.%(format)s",["pk","format"]],["api/chat/v1/guests/%(pk)s/",["pk"]]]],["rest:chat:chguest-list",[["api/chat/v1/guests.%(format)s",["format"]],["api/chat/v1/guests/",[]]]],["rest:chat:chidentity-detail",[["api/chat/v1/identities/%(pk)s.%(format)s",["pk","format"]],["api/chat/v1/identities/%(pk)s/",["pk"]]]],["rest:chat:chidentity-list",[["api/chat/v1/identities.%(format)s",["format"]],["api/chat/v1/identities/",[]]]],["rest:chat:chmessage-bot-suggestions",[["api/chat/v1/bot-suggestions/",[]]]],["rest:chat:chmessage-detail",[["api/chat/v1/messages/%(pk)s.%(format)s",["pk","format"]],["api/chat/v1/messages/%(pk)s/",["pk"]]]],["rest:chat:chmessage-list",[["api/chat/v1/messages.%(format)s",["format"]],["api/chat/v1/messages/",[]]]],["rest:chat:chmessage-translation",[["api/chat/v1/message-translation/",[]]]],["rest:chat:chonboarding-detail",[["api/chat/v1/services/onboarding/%(pk)s.%(format)s",["pk","format"]],["api/chat/v1/services/onboarding/%(pk)s/",["pk"]]]],["rest:chat:chonboarding-list",[["api/chat/v1/services/onboarding.%(format)s",["format"]],["api/chat/v1/services/onboarding/",[]]]],["rest:chat:chplan-detail",[["api/chat/v1/plans/%(pk)s.%(format)s",["pk","format"]],["api/chat/v1/plans/%(pk)s/",["pk"]]]],["rest:chat:chplan-list",[["api/chat/v1/plans.%(format)s",["format"]],["api/chat/v1/plans/",[]]]],["rest:chat:chplan-price",[["api/chat/v1/chplans-price/",[]]]],["rest:chat:chquestion-detail",[["api/chat/v1/services/%(service_id)s/questions/%(pk)s.%(format)s",["service_id","pk","format"]],["api/chat/v1/services/%(service_id)s/questions/%(pk)s/",["service_id","pk"]]]],["rest:chat:chquestion-list",[["api/chat/v1/services/%(service_id)s/questions.%(format)s",["service_id","format"]],["api/chat/v1/services/%(service_id)s/questions/",["service_id"]]]],["rest:chat:chquickreply-bulk",[["api/chat/v1/services/%(service_id)s/quickreplies-bulk/",["service_id"]]]],["rest:chat:chquickreply-detail",[["api/chat/v1/services/%(service_id)s/quickreplies/%(pk)s.%(format)s",["service_id","pk","format"]],["api/chat/v1/services/%(service_id)s/quickreplies/%(pk)s/",["service_id","pk"]]]],["rest:chat:chquickreply-list",[["api/chat/v1/services/%(service_id)s/quickreplies.%(format)s",["service_id","format"]],["api/chat/v1/services/%(service_id)s/quickreplies/",["service_id"]]]],["rest:chat:chservice-bot-status",[["api/chat/v1/services/%(service_id)s/bot-status/",["service_id"]]]],["rest:chat:chservice-detail",[["api/chat/v1/services/%(pk)s.%(format)s",["pk","format"]],["api/chat/v1/services/%(pk)s/",["pk"]]]],["rest:chat:chservice-list",[["api/chat/v1/services.%(format)s",["format"]],["api/chat/v1/services/",[]]]],["rest:chat:chtrainingrecord-detail",[["api/chat/v1/services/%(service_id)s/trainingrecords/%(pk)s.%(format)s",["service_id","pk","format"]],["api/chat/v1/services/%(service_id)s/trainingrecords/%(pk)s/",["service_id","pk"]]]],["rest:chat:chtrainingrecord-list",[["api/chat/v1/services/%(service_id)s/trainingrecords.%(format)s",["service_id","format"]],["api/chat/v1/services/%(service_id)s/trainingrecords/",["service_id"]]]],["rest:chat:chtwiliomessagingphone-detail",[["api/chat/v1/services/%(service_id)s/twilio-messaging-phone/%(pk)s.%(format)s",["service_id","pk","format"]],["api/chat/v1/services/%(service_id)s/twilio-messaging-phone/%(pk)s/",["service_id","pk"]]]],["rest:chat:chtwiliomessagingphone-list",[["api/chat/v1/services/%(service_id)s/twilio-messaging-phone.%(format)s",["service_id","format"]],["api/chat/v1/services/%(service_id)s/twilio-messaging-phone/",["service_id"]]]],["rest:chat:playbook-qualification",[["api/chat/v1/plans/%(plan_id)s/playbook-qualification/",["plan_id"]]]],["rest:chat:playbookinstance-detail",[["api/chat/v1/channels/%(channel_id)s/playbookinstances/%(pk)s.%(format)s",["channel_id","pk","format"]],["api/chat/v1/channels/%(channel_id)s/playbookinstances/%(pk)s/",["channel_id","pk"]]]],["rest:chat:playbookinstance-list",[["api/chat/v1/channels/%(channel_id)s/playbookinstances.%(format)s",["channel_id","format"]],["api/chat/v1/channels/%(channel_id)s/playbookinstances/",["channel_id"]]]],["rest:chat:qa-qualification",[["api/chat/v1/plans/%(plan_id)s/qa-qualification/",["plan_id"]]]],["rest:integrations:api-root",[["api/integrations/v1/.%(format)s",["format"]],["api/integrations/v1/",[]]]],["rest:integrations:integration-detail",[["api/integrations/v1/%(user_id)s/integrations/%(pk)s.%(format)s",["user_id","pk","format"]],["api/integrations/v1/%(user_id)s/integrations/%(pk)s/",["user_id","pk"]]]],["rest:integrations:integration-list",[["api/integrations/v1/%(user_id)s/integrations.%(format)s",["user_id","format"]],["api/integrations/v1/%(user_id)s/integrations/",["user_id"]]]],["rest:integrations:provider-detail",[["api/integrations/v1/providers/%(pk)s.%(format)s",["pk","format"]],["api/integrations/v1/providers/%(pk)s/",["pk"]]]],["rest:integrations:provider-list",[["api/integrations/v1/providers.%(format)s",["format"]],["api/integrations/v1/providers/",[]]]],["rest:keypad:api-root",[["api/keypad/v1/.%(format)s",["format"]],["api/keypad/v1/",[]]]],["rest:keypad:apnsdevice-detail",[["api/keypad/v1/tokens/apn/%(registration_id)s.%(format)s",["registration_id","format"]],["api/keypad/v1/tokens/apn/%(registration_id)s/",["registration_id"]]]],["rest:keypad:apnsdevice-list",[["api/keypad/v1/tokens/apn.%(format)s",["format"]],["api/keypad/v1/tokens/apn/",[]]]],["rest:keypad:blocked-number-detail",[["api/keypad/v1/plans/%(plan_id)s/blocked-numbers/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/blocked-numbers/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:blocked-number-list",[["api/keypad/v1/plans/%(plan_id)s/blocked-numbers.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/blocked-numbers/",["plan_id"]]]],["rest:keypad:check-coupon",[["api/keypad/v1/check-coupon/",[]]]],["rest:keypad:check-local-phone",[["api/keypad/v1/check-local-phone/",[]]]],["rest:keypad:check-phone",[["api/keypad/v1/check-phone/",[]]]],["rest:keypad:check-sip-username",[["api/keypad/v1/check-sip-username/",[]]]],["rest:keypad:check-url",[["api/keypad/v1/check-url/",[]]]],["rest:keypad:contact-detail",[["api/keypad/v1/plans/%(plan_id)s/contacts/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/contacts/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:contact-import-csv",[["api/keypad/v1/plans/%(plan_id)s/contacts/import-csv/",["plan_id"]]]],["rest:keypad:contact-list",[["api/keypad/v1/plans/%(plan_id)s/contacts.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/contacts/",["plan_id"]]]],["rest:keypad:directory-detail",[["api/keypad/v1/plans/%(plan_id)s/directory/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/directory/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:directory-list",[["api/keypad/v1/plans/%(plan_id)s/directory.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/directory/",["plan_id"]]]],["rest:keypad:gcmdevice-detail",[["api/keypad/v1/tokens/gcm/%(registration_id)s.%(format)s",["registration_id","format"]],["api/keypad/v1/tokens/gcm/%(registration_id)s/",["registration_id"]]]],["rest:keypad:gcmdevice-list",[["api/keypad/v1/tokens/gcm.%(format)s",["format"]],["api/keypad/v1/tokens/gcm/",[]]]],["rest:keypad:kpaddress-detail",[["api/keypad/v1/users/addresses/%(pk)s.%(format)s",["pk","format"]],["api/keypad/v1/users/addresses/%(pk)s/",["pk"]]]],["rest:keypad:kpaddress-list",[["api/keypad/v1/users/addresses.%(format)s",["format"]],["api/keypad/v1/users/addresses/",[]]]],["rest:keypad:kpaudiofile-detail",[["api/keypad/v1/plans/%(plan_id)s/audio-files/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/audio-files/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kpaudiofile-list",[["api/keypad/v1/plans/%(plan_id)s/audio-files.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/audio-files/",["plan_id"]]]],["rest:keypad:kpcall-detail",[["api/keypad/v1/plans/%(plan_id)s/calls/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/calls/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kpcall-list",[["api/keypad/v1/plans/%(plan_id)s/calls.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/calls/",["plan_id"]]]],["rest:keypad:kpcall-stats",[["api/keypad/v1/plans/%(plan_id)s/call-stats/",["plan_id"]]]],["rest:keypad:kpcharge-detail",[["api/keypad/v1/plans/%(plan_id)s/charges/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/charges/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kpcharge-list",[["api/keypad/v1/plans/%(plan_id)s/charges.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/charges/",["plan_id"]]]],["rest:keypad:kpcredit-card-info",[["api/keypad/v1/plans/%(plan_id)s/credit-card-info/",["plan_id"]]]],["rest:keypad:kpdirecttransfer-detail",[["api/keypad/v1/plans/%(plan_id)s/direct-transfers/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/direct-transfers/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kpdirecttransfer-list",[["api/keypad/v1/plans/%(plan_id)s/direct-transfers.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/direct-transfers/",["plan_id"]]]],["rest:keypad:kpfax-detail",[["api/keypad/v1/plans/%(plan_id)s/faxes/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/faxes/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kpfax-list",[["api/keypad/v1/plans/%(plan_id)s/faxes.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/faxes/",["plan_id"]]]],["rest:keypad:kpfaxreceipt-detail",[["api/keypad/v1/plans/%(plan_id)s/fax-receipts/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/fax-receipts/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kpfaxreceipt-list",[["api/keypad/v1/plans/%(plan_id)s/fax-receipts.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/fax-receipts/",["plan_id"]]]],["rest:keypad:kpfeaturecost-detail",[["api/keypad/v1/plans/%(plan_id)s/features-cost/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/features-cost/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kpfeaturecost-list",[["api/keypad/v1/plans/%(plan_id)s/features-cost.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/features-cost/",["plan_id"]]]],["rest:keypad:kppayment-detail",[["api/keypad/v1/plans/%(plan_id)s/payments/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/payments/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kppayment-list",[["api/keypad/v1/plans/%(plan_id)s/payments.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/payments/",["plan_id"]]]],["rest:keypad:kpplan-detail",[["api/keypad/v1/plans/%(pk)s.%(format)s",["pk","format"]],["api/keypad/v1/plans/%(pk)s/",["pk"]]]],["rest:keypad:kpplan-list",[["api/keypad/v1/plans.%(format)s",["format"]],["api/keypad/v1/plans/",[]]]],["rest:keypad:kprouter-detail",[["api/keypad/v1/plans/%(plan_id)s/routers/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/routers/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kprouter-list",[["api/keypad/v1/plans/%(plan_id)s/routers.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/routers/",["plan_id"]]]],["rest:keypad:kprouter-prepare-outbound-call",[["api/keypad/v1/routers/%(router_id)s/prepare-outbound-call/",["router_id"]]]],["rest:keypad:kpsend-verification-code",[["api/keypad/v1/plans/%(plan_id)s/send-verification-code/",["plan_id"]]]],["rest:keypad:kpsipuser-detail",[["api/keypad/v1/plans/%(plan_id)s/sip-users/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/sip-users/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kpsipuser-list",[["api/keypad/v1/plans/%(plan_id)s/sip-users.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/sip-users/",["plan_id"]]]],["rest:keypad:kpsmsmessage-list",[["api/keypad/v1/plans/%(plan_id)s/sms-messages.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/sms-messages/",["plan_id"]]]],["rest:keypad:kpsmsthread-detail",[["api/keypad/v1/plans/%(plan_id)s/sms-threads/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/sms-threads/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kpsmsthread-list",[["api/keypad/v1/plans/%(plan_id)s/sms-threads.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/sms-threads/",["plan_id"]]]],["rest:keypad:kpvoicemail-detail",[["api/keypad/v1/plans/%(plan_id)s/voice-mails/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/voice-mails/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kpvoicemail-list",[["api/keypad/v1/plans/%(plan_id)s/voice-mails.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/voice-mails/",["plan_id"]]]],["rest:keypad:kpvoicemailgreeting-detail",[["api/keypad/v1/plans/%(plan_id)s/voice-mail-greetings/%(pk)s.%(format)s",["plan_id","pk","format"]],["api/keypad/v1/plans/%(plan_id)s/voice-mail-greetings/%(pk)s/",["plan_id","pk"]]]],["rest:keypad:kpvoicemailgreeting-list",[["api/keypad/v1/plans/%(plan_id)s/voice-mail-greetings.%(format)s",["plan_id","format"]],["api/keypad/v1/plans/%(plan_id)s/voice-mail-greetings/",["plan_id"]]]],["rest:keypad:plan-prices",[["api/keypad/v1/plan-prices/",[]]]],["rest:keypad:twilio-access-token",[["api/keypad/v1/twilio-access-token/",[]]]],["rest:keypad:twilio-client-capability-token",[["api/keypad/v1/twilio-client-capability-token/",[]]]],["rest:keypad:twilio-phone-list",[["api/keypad/v1/twilio-phones/",[]]]],["rest:onboardingtasks:api-root",[["api/onboardingtasks/v1/.%(format)s",["format"]],["api/onboardingtasks/v1/",[]]]],["rest:onboardingtasks:onboardingtask-detail",[["api/onboardingtasks/v1/onboardingtasks/%(pk)s.%(format)s",["pk","format"]],["api/onboardingtasks/v1/onboardingtasks/%(pk)s/",["pk"]]]],["rest:onboardingtasks:onboardingtask-list",[["api/onboardingtasks/v1/onboardingtasks.%(format)s",["format"]],["api/onboardingtasks/v1/onboardingtasks/",[]]]],["rest:playbooks:api-root",[["api/playbooks/v1/.%(format)s",["format"]],["api/playbooks/v1/",[]]]],["rest:playbooks:playbook-detail",[["api/playbooks/v1/playbooks/%(pk)s.%(format)s",["pk","format"]],["api/playbooks/v1/playbooks/%(pk)s/",["pk"]]]],["rest:playbooks:playbook-funnel",[["api/playbooks/v1/playbook/%(playbook_id)s/funnel/",["playbook_id"]]]],["rest:playbooks:playbook-list",[["api/playbooks/v1/playbooks.%(format)s",["format"]],["api/playbooks/v1/playbooks/",[]]]],["rest:playbooks:playbook-steps",[["api/playbooks/v1/playbook-steps/",[]]]],["rest:playbooks:playbookinstance-detail",[["api/playbooks/v1/playbookinstances/%(pk)s.%(format)s",["pk","format"]],["api/playbooks/v1/playbookinstances/%(pk)s/",["pk"]]]],["rest:playbooks:playbookinstance-list",[["api/playbooks/v1/playbookinstances.%(format)s",["format"]],["api/playbooks/v1/playbookinstances/",[]]]],["rest:playbooks:rule-action-parameters",[["api/playbooks/v1/playbook-rule-action-parameters/",[]]]],["rest:playbooks:rule-detail",[["api/playbooks/v1/playbooks/%(playbook_id)s/rules/%(pk)s.%(format)s",["playbook_id","pk","format"]],["api/playbooks/v1/playbooks/%(playbook_id)s/rules/%(pk)s/",["playbook_id","pk"]]]],["rest:playbooks:rule-list",[["api/playbooks/v1/playbooks/%(playbook_id)s/rules.%(format)s",["playbook_id","format"]],["api/playbooks/v1/playbooks/%(playbook_id)s/rules/",["playbook_id"]]]],["rest:scheduler:api-root",[["api/scheduler/v1/.%(format)s",["format"]],["api/scheduler/v1/",[]]]],["rest:scheduler:available-new-profiles",[["api/scheduler/v1/available-new-profiles/",[]]]],["rest:scheduler:drop-shift",[["api/scheduler/v1/shifts/%(shift_id)s/drop/",["shift_id"]]]],["rest:scheduler:my-schedule",[["api/scheduler/v1/my-schedule/",[]]]],["rest:scheduler:open-shifts-detail",[["api/scheduler/v1/open-shifts/%(pk)s.%(format)s",["pk","format"]],["api/scheduler/v1/open-shifts/%(pk)s/",["pk"]]]],["rest:scheduler:open-shifts-list",[["api/scheduler/v1/open-shifts.%(format)s",["format"]],["api/scheduler/v1/open-shifts/",[]]]],["rest:scheduler:position-detail",[["api/scheduler/v1/positions/%(pk)s.%(format)s",["pk","format"]],["api/scheduler/v1/positions/%(pk)s/",["pk"]]]],["rest:scheduler:position-list",[["api/scheduler/v1/positions.%(format)s",["format"]],["api/scheduler/v1/positions/",[]]]],["rest:scheduler:schedule-detail",[["api/scheduler/v1/schedules/%(pk)s.%(format)s",["pk","format"]],["api/scheduler/v1/schedules/%(pk)s/",["pk"]]]],["rest:scheduler:schedule-list",[["api/scheduler/v1/schedules.%(format)s",["format"]],["api/scheduler/v1/schedules/",[]]]],["rest:scheduler:schedulemember-detail",[["api/scheduler/v1/members/%(pk)s.%(format)s",["pk","format"]],["api/scheduler/v1/members/%(pk)s/",["pk"]]]],["rest:scheduler:schedulemember-list",[["api/scheduler/v1/members.%(format)s",["format"]],["api/scheduler/v1/members/",[]]]],["rest:scheduler:scheduleprofile-detail",[["api/scheduler/v1/profiles/%(pk)s.%(format)s",["pk","format"]],["api/scheduler/v1/profiles/%(pk)s/",["pk"]]]],["rest:scheduler:scheduleprofile-list",[["api/scheduler/v1/profiles.%(format)s",["format"]],["api/scheduler/v1/profiles/",[]]]],["rest:scheduler:scheduler",[["api/scheduler/v1/scheduler/",[]]]],["rest:scheduler:shift-detail",[["api/scheduler/v1/shifts/%(pk)s.%(format)s",["pk","format"]],["api/scheduler/v1/shifts/%(pk)s/",["pk"]]]],["rest:scheduler:shift-list",[["api/scheduler/v1/shifts.%(format)s",["format"]],["api/scheduler/v1/shifts/",[]]]],["rest:scheduler:shiftrequest-detail",[["api/scheduler/v1/shift-requests/%(pk)s.%(format)s",["pk","format"]],["api/scheduler/v1/shift-requests/%(pk)s/",["pk"]]]],["rest:scheduler:shiftrequest-list",[["api/scheduler/v1/shift-requests.%(format)s",["format"]],["api/scheduler/v1/shift-requests/",[]]]],["rest:scheduler:split-shift",[["api/scheduler/v1/shifts/%(shift_id)s/split/",["shift_id"]]]],["rest:scheduler:take-open-shift",[["api/scheduler/v1/open-shifts/%(shift_id)s/take/",["shift_id"]]]],["rest:teams:api-root",[["api/teams/v1/.%(format)s",["format"]],["api/teams/v1/",[]]]],["rest:teams:invitation-bulk",[["api/teams/v1/%(product)s/%(owner_id)s/invitations-bulk/",["product","owner_id"]]]],["rest:teams:invitation-detail",[["api/teams/v1/%(product)s/%(owner_id)s/invitations/%(pk)s.%(format)s",["product","owner_id","pk","format"]],["api/teams/v1/%(product)s/%(owner_id)s/invitations/%(pk)s/",["product","owner_id","pk"]]]],["rest:teams:invitation-list",[["api/teams/v1/%(product)s/%(owner_id)s/invitations.%(format)s",["product","owner_id","format"]],["api/teams/v1/%(product)s/%(owner_id)s/invitations/",["product","owner_id"]]]],["rest:teams:teammembership-detail",[["api/teams/v1/%(product)s/%(owner_id)s/team-membership/%(pk)s.%(format)s",["product","owner_id","pk","format"]],["api/teams/v1/%(product)s/%(owner_id)s/team-membership/%(pk)s/",["product","owner_id","pk"]]]],["rest:teams:teammembership-list",[["api/teams/v1/%(product)s/%(owner_id)s/team-membership.%(format)s",["product","owner_id","format"]],["api/teams/v1/%(product)s/%(owner_id)s/team-membership/",["product","owner_id"]]]],["rest:user:change-password",[["api/user/v1/%(pk)s/actions/change-password/",["pk"]]]],["rest:user:resend-verification-email",[["api/user/v1/%(pk)s/actions/resend-verification-email/",["pk"]]]],["rest:user:set-stripe-token",[["api/user/v1/%(pk)s/actions/set-stripe-token/",["pk"]]]],["rest:user:user-detail",[["api/user/v1/%(pk)s/",["pk"]]]],["rest:validators:check-phone",[["api/validators/v1/check-phone/",[]]]],["rest:vr:api-root",[["api/vr/v1/.%(format)s",["format"]],["api/vr/v1/",[]]]],["rest:vr:call-detail",[["api/vr/v1/calls/%(pk)s.%(format)s",["pk","format"]],["api/vr/v1/calls/%(pk)s/",["pk"]]]],["rest:vr:call-handling-settings",[["api/vr/v1/call-handling-settings/",[]]]],["rest:vr:call-list",[["api/vr/v1/calls.%(format)s",["format"]],["api/vr/v1/calls/",[]]]],["rest:vr:payment-info",[["api/vr/v1/payment-info/",[]]]],["rest:vr:recording-detail",[["api/vr/v1/recordings/%(pk)s.%(format)s",["pk","format"]],["api/vr/v1/recordings/%(pk)s/",["pk"]]]],["rest:vr:recording-list",[["api/vr/v1/recordings.%(format)s",["format"]],["api/vr/v1/recordings/",[]]]],["rest:vr:simpleplan-signup",[["api/vr/v1/simpleplan-signup/",[]]]],["rest:vr:twilionumber-detail",[["api/vr/v1/twilio-numbers/%(pk)s.%(format)s",["pk","format"]],["api/vr/v1/twilio-numbers/%(pk)s/",["pk"]]]],["rest:vr:twilionumber-list",[["api/vr/v1/twilio-numbers.%(format)s",["format"]],["api/vr/v1/twilio-numbers/",[]]]],["rest:vr:twilionumber-plan",[["api/vr/v1/twilio-numbers/%(pk)s/plan.%(format)s",["pk","format"]],["api/vr/v1/twilio-numbers/%(pk)s/plan/",["pk"]]]],["rest:vr:vrcall-stats",[["api/vr/v1/call-stats",[]]]],["rest:vr:vrphones-add-manual",[["api/vr/v1/add-phones/%(phone_list_field)s/",["phone_list_field"]]]],["rest:vr:vrphones-csv-import",[["api/vr/v1/import-csv/%(phone_list_field)s/",["phone_list_field"]]]],["rest:vr:vrphones-remove-manual",[["api/vr/v1/remove-phones/%(phone_list_field)s/",["phone_list_field"]]]],["scheduler:auto_login",[["scheduler/accounts/auto-login/",[]]]],["scheduler:auto_login_email_check",[["scheduler/accounts/auto-login/check/",[]]]],["scheduler:browserconfig.xml",[["scheduler/browserconfig.xml",[]]]],["scheduler:dashboard",[["scheduler/",[]]]],["scheduler:google_login",[["scheduler/login/%(backend)s/",["backend"]]]],["scheduler:google_login_complete",[["scheduler/login/%(backend)s/complete/",["backend"]]]],["scheduler:google_login_no_agent",[["scheduler/login/no-agent",[]]]],["scheduler:google_login_no_profile",[["scheduler/login/no-profile",[]]]],["scheduler:site.webmanifest",[["scheduler/site.webmanifest",[]]]],["scheduler:social_login",[["scheduler/login/",[]]]],["scheduler:user_login",[["scheduler/accounts/login/",[]]]],["site.webmanifest",[["site.webmanifest",[]]]],["stripe:webhook",[["stripe/webhook/",[]]]],["support:group-details",[["support/groups/%(pk)s/",["pk"]]]],["support:index",[["support/",[]]]],["teams:join-team",[["teams/join-team/%(invitation_id)s/",["invitation_id"]]]],["verify_email",[["users/verify-email/%(token)s/%(salt)s/",["token","salt"]]]],["vr:browserconfig.xml",[["vr/browserconfig.xml",[]]]],["vr:dashboard",[["vr/",[]]]],["vr:editor-dashboard",[["vr/editor/",[]]]],["vr:executor-dashboard",[["vr/executor/",[]]]],["vr:payment",[["vr/pay/%(plan_id)s/",["plan_id"]]]],["vr:payment_done",[["vr/pay/%(plan_id)s/done/",["plan_id"]]]],["vr:site.webmanifest",[["vr/site.webmanifest",[]]]],["vr:stripe:webhook",[["vr/stripe/webhook/",[]]]],["vr:support:add-coupon",[["vr/support/add-coupon/",[]]]],["vr:support:agent-add",[["vr/support/agents/add/",[]]]],["vr:support:agent-add-to-training",[["vr/support/agents/add-to-training/",[]]]],["vr:support:agent-detail",[["vr/support/agents/%(pk)s/",["pk"]]]],["vr:support:agent-list",[["vr/support/agents/",[]]]],["vr:support:agent-offline",[["vr/support/agents/%(pk)s/offline/",["pk"]]]],["vr:support:agent-remove",[["vr/support/agents/%(pk)s/remove/",["pk"]]]],["vr:support:charge-overage",[["vr/support/overages/charge/%(pk)s",["pk"]]]],["vr:support:charge-pending-overages",[["vr/support/overages/charge-pending/",[]]]],["vr:support:create-overages",[["vr/support/overages/create/",[]]]],["vr:support:delete-uncharged-overages",[["vr/support/overages/delete-uncharged/",[]]]],["vr:support:kpi",[["vr/support/kpi/",[]]]],["vr:support:kpi-month",[["vr/support/kpi/%(year)s/%(month)s/",["year","month"]]]],["vr:support:kpi-month-paying",[["vr/support/kpi/%(year)s/%(month)s/paying/",["year","month"]]]],["vr:support:kpi-month-paying-canceled",[["vr/support/kpi/%(year)s/%(month)s/paying-canceled/",["year","month"]]]],["vr:support:kpi-month-sign-ups",[["vr/support/kpi/%(year)s/%(month)s/sign-ups/",["year","month"]]]],["vr:support:kpi-month-trials",[["vr/support/kpi/%(year)s/%(month)s/trials/",["year","month"]]]],["vr:support:kpi-month-trials-canceled",[["vr/support/kpi/%(year)s/%(month)s/trials-canceled/",["year","month"]]]],["vr:support:kpi-year",[["vr/support/kpi/%(year)s/",["year"]]]],["vr:support:moonclerk-upgrade",[["vr/support/%(pk)s/moonclerk-upgrade/",["pk"]]]],["vr:support:overages",[["vr/support/overages/",[]]]],["vr:support:pro-followup-message-add",[["vr/support/%(pk)s/followup-message/add/",["pk"]]]],["vr:support:pro-followup-message-delete",[["vr/support/%(pk)s/followup-message/%(followup_config_id)s/delete/",["pk","followup_config_id"]]]],["vr:support:pro-followup-message-update",[["vr/support/%(pk)s/followup-message/%(followup_config_id)s/",["pk","followup_config_id"]]]],["vr:support:pro-instruction-template-add",[["vr/support/pro-instruction-templates/add/",[]]]],["vr:support:pro-instruction-template-delete",[["vr/support/pro-instruction-templates/%(pk)s/delete/",["pk"]]]],["vr:support:pro-instruction-template-detail",[["vr/support/pro-instruction-templates/%(pk)s/",["pk"]]]],["vr:support:pro-instruction-template-edit",[["vr/support/pro-instruction-templates/%(pk)s/edit/",["pk"]]]],["vr:support:pro-instruction-template-section-add",[["vr/support/pro-instruction-templates/%(pk)s/pro-sections/add/",["pk"]]]],["vr:support:pro-instruction-template-section-delete",[["vr/support/pro-instruction-templates/%(pk)s/pro-sections/%(section_id)s/delete/",["pk","section_id"]]]],["vr:support:pro-instruction-template-section-detail",[["vr/support/pro-instruction-templates/%(pk)s/pro-sections/%(section_id)s/",["pk","section_id"]]]],["vr:support:pro-instruction-template-section-edit",[["vr/support/pro-instruction-templates/%(pk)s/pro-sections/%(section_id)s/edit/",["pk","section_id"]]]],["vr:support:pro-instruction-template-tab-add",[["vr/support/pro-instruction-templates/%(pk)s/pro-sections/%(section_id)s/tabs/add/",["pk","section_id"]]]],["vr:support:pro-instruction-template-tab-delete",[["vr/support/pro-instruction-templates/%(pk)s/pro-sections/%(section_id)s/tabs/%(tab_id)s/delete/",["pk","section_id","tab_id"]]]],["vr:support:pro-instruction-template-tab-edit",[["vr/support/pro-instruction-templates/%(pk)s/pro-sections/%(section_id)s/tabs/%(tab_id)s/edit/",["pk","section_id","tab_id"]]]],["vr:support:pro-instruction-templates",[["vr/support/pro-instruction-templates/",[]]]],["vr:support:pro-instructions",[["vr/support/%(pk)s/pro-instructions/",["pk"]]]],["vr:support:pro-instructions-create",[["vr/support/%(pk)s/create-pro-instructions/",["pk"]]]],["vr:support:pro-instructions-create-from-template",[["vr/support/%(pk)s/create-pro-instructions-from-template/",["pk"]]]],["vr:support:pro-instructions-ep-read-only",[["vr/support/%(pk)s/pro-instructions-ep-read-only/",["pk"]]]],["vr:support:pro-instructions-read-only",[["vr/support/%(pk)s/pro-instructions-read-only/",["pk"]]]],["vr:support:pro-instructions-redirect",[["vr/support/%(pk)s/pro-sections/",["pk"]]]],["vr:support:pro-referral-add",[["vr/support/referrals/add/",[]]]],["vr:support:pro-referrals",[["vr/support/referrals/",[]]]],["vr:support:pro-search",[["vr/support/search/",[]]]],["vr:support:pro-section-add",[["vr/support/%(pk)s/pro-sections/add/",["pk"]]]],["vr:support:pro-section-delete",[["vr/support/%(pk)s/pro-sections/%(section_id)s/delete/",["pk","section_id"]]]],["vr:support:pro-section-detail",[["vr/support/%(pk)s/pro-sections/%(section_id)s/",["pk","section_id"]]]],["vr:support:pro-section-edit",[["vr/support/%(pk)s/pro-sections/%(section_id)s/edit/",["pk","section_id"]]]],["vr:support:pro-section-reorder",[["vr/support/%(pk)s/pro-sections/%(section_id)s/reorder/",["pk","section_id"]]]],["vr:support:pro-sections-edit-status",[["vr/support/%(pk)s/edit-pro-sections-status/",["pk"]]]],["vr:support:pro-special-instructions-edit",[["vr/support/%(pk)s/special-instructions/edit/",["pk"]]]],["vr:support:pro-tab-add",[["vr/support/%(pk)s/pro-sections/%(section_id)s/tabs/add/",["pk","section_id"]]]],["vr:support:pro-tab-delete",[["vr/support/%(pk)s/pro-sections/%(section_id)s/tabs/%(tab_id)s/delete/",["pk","section_id","tab_id"]]]],["vr:support:pro-tab-edit",[["vr/support/%(pk)s/pro-sections/%(section_id)s/tabs/%(tab_id)s/edit/",["pk","section_id","tab_id"]]]],["vr:support:pro-tab-reorder",[["vr/support/%(pk)s/pro-sections/%(section_id)s/tabs/%(tab_id)s/reorder/",["pk","section_id","tab_id"]]]],["vr:support:stplan-add",[["vr/support/%(pk)s/plan/add/",["pk"]]]],["vr:support:stplan-detail",[["vr/support/%(pk)s/plan/",["pk"]]]],["vr:support:stplan-edit",[["vr/support/%(pk)s/plan/%(plan_id)s/edit/",["pk","plan_id"]]]],["vr:support:stplan-history",[["vr/support/%(pk)s/plan/history/",["pk"]]]],["vr:support:stplan-history-detail",[["vr/support/%(pk)s/plan/history/%(plan_id)s/",["pk","plan_id"]]]],["vr:support:stplan-one-time-payment",[["vr/support/%(pk)s/plan/one-time-payment/",["pk"]]]],["vr:support:stplan-upgrade-add",[["vr/support/%(pk)s/plan-upgrade/add/",["pk"]]]],["vr:support:stplan-upgrade-detail",[["vr/support/%(pk)s/plan-upgrade/",["pk"]]]],["vr:support:stplan-upgrade-edit",[["vr/support/%(pk)s/plan-upgrade/%(plan_id)s/edit/",["pk","plan_id"]]]],["vr:support:twilio-number-add-coupon",[["vr/support/%(pk)s/add-coupon/",["pk"]]]],["vr:support:twilio-number-cancel-plan",[["vr/support/%(pk)s/cancel-plan/",["pk"]]]],["vr:support:twilio-number-cancel-subscription-at-period-end",[["vr/support/%(pk)s/cancel-subscription-at-period-end/",["pk"]]]],["vr:support:twilio-number-cancel-trial",[["vr/support/%(pk)s/cancel-trial/",["pk"]]]],["vr:support:twilio-number-detail",[["vr/support/%(pk)s/",["pk"]]]],["vr:support:twilio-number-integration-detail",[["vr/support/%(twilio_number_pk)s/integrations/%(pk)s/",["twilio_number_pk","pk"]]]],["vr:support:twilio-number-integration-list",[["vr/support/%(pk)s/integrations/",["pk"]]]],["vr:support:twilio-number-invoice-detail",[["vr/support/%(pk)s/invoices/%(invoice_id)s",["pk","invoice_id"]]]],["vr:support:twilio-number-invoices",[["vr/support/%(pk)s/invoices/",["pk"]]]],["vr:support:twilio-number-list",[["vr/support/",[]]]],["vr:support:twilio-number-partner-change",[["vr/support/%(pk)s/partner-change/",["pk"]]]],["vr:support:twilio-number-payment-detail",[["vr/support/%(pk)s/payments/%(payment_id)s/",["pk","payment_id"]]]],["vr:support:twilio-number-payment-refund",[["vr/support/%(pk)s/payments/%(payment_id)s/refund/",["pk","payment_id"]]]],["vr:support:twilio-number-payment-retry",[["vr/support/%(pk)s/payments/%(payment_id)s/retry/",["pk","payment_id"]]]],["vr:support:twilio-number-payments",[["vr/support/%(pk)s/payments/",["pk"]]]],["vr:support:twilio-number-temp-memo-add",[["vr/support/%(twilio_number_pk)s/temp-memos/add/",["twilio_number_pk"]]]],["vr:support:twilio-number-temp-memo-delete",[["vr/support/%(twilio_number_pk)s/temp-memos/%(pk)s/delete/",["twilio_number_pk","pk"]]]],["vr:support:twilio-number-temp-memo-edit",[["vr/support/%(twilio_number_pk)s/temp-memos/%(pk)s/edit/",["twilio_number_pk","pk"]]]],["vr:support:twilio-number-temp-memo-list",[["vr/support/%(pk)s/temp-memos/",["pk"]]]],["vr:support:twilio-number-temp-status-add",[["vr/support/%(twilio_number_pk)s/temp-status/add/",["twilio_number_pk"]]]],["vr:support:twilio-number-temp-status-delete",[["vr/support/%(twilio_number_pk)s/temp-status/%(pk)s/delete/",["twilio_number_pk","pk"]]]],["vr:support:twilio-number-temp-status-edit",[["vr/support/%(twilio_number_pk)s/temp-status/%(pk)s/edit/",["twilio_number_pk","pk"]]]],["vr:support:twilio-number-temp-status-list",[["vr/support/%(pk)s/temp-status/",["pk"]]]],["vr:support:twilio-trial-date-change",[["vr/support/%(pk)s/trial-date-change/",["pk"]]]]],c.url_patterns={},a=0,o=i.length;a<o;a++)s=i[a],e=s[0],t=s[1],c.url_patterns[e]=t,n=function(e){return function(){var t,n,i,a,o,s,u,l,f,d;if(t=arguments,u=c.url_patterns[e],1==arguments.length&&"object"==r(arguments[0])){var p=Object.keys(arguments[0]);for(f={},o=0;o<p.length;o++)f[p[o]]=1;l=function(e){var t;if(e[1].length!=p.length)return!1;for(t=0;t<e[1].length&&e[1][t]in f;t++);return t==e[1].length},d=function(e){return t[0]}}else l=function(e){return e[1].length==t.length},d=function(e){for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n};for(o=0;o<u.length&&!l(u[o]);o++);if(o==u.length)return null;s=u[o],n=s[0],a=d(s[1]);for(i in a){var h=a[i];h=void 0===h||null===h?"":h.toString(),n=n.replace("%("+i+")s",h)}return"/"+n}}(e),u[e]=n,u[e.replace(/-/g,"_")]=n;return u}()},function(e,t,n){"use strict";n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558)},function(e,t,n){"use strict";n(12).register({account:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" _fill="#787E85" fill-rule="evenodd" d="M5.602 18.33c1.345-.588 3.356-1.33 3.957-1.551l.15-.055v-1.695c-.46-.283-1.27-1.014-1.366-2.69-.354-.207-.578-.666-.578-1.256 0-.536.185-.966.487-1.194-.217-.772-.6-2.174-.019-2.942.178-.237.538-.519 1.183-.487.538-.977 2.041-1.335 3.271-1.335 1.381 0 3.106.45 3.424 1.722.272 1.084-.13 2.356-.353 3.05.296.23.477.656.477 1.186 0 .59-.224 1.05-.577 1.256-.098 1.676-.906 2.407-1.366 2.69v1.695l.126.046.008.003c.593.218 2.633.966 3.98 1.548a9 9 0 1 0-12.804.008zm8.615 4.447a11.051 11.051 0 0 1-4.896-.106l-.07-.017a10.943 10.943 0 0 1-3.51-1.607 11.043 11.043 0 0 1-2.23-2.05A10.955 10.955 0 0 1 1 12C1 5.925 5.925 1 12 1s11 4.925 11 11a10.966 10.966 0 0 1-3.41 7.963 11.042 11.042 0 0 1-1.886 1.444 10.932 10.932 0 0 1-3.485 1.37h-.002z" clip-rule="evenodd" data-name="Union"/>'}})},function(e,t,n){"use strict";n(12).register({add:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" _fill="#787E85" fill-rule="evenodd" d="M13 4a1 1 0 0 0-2 0v7H4a1 1 0 0 0 0 2h7v7a1 1 0 0 0 2 0v-7h7a1 1 0 0 0 0-2h-7V4z" clip-rule="evenodd" data-name="Union"/>'}})},function(e,t,n){"use strict";n(12).register({arrow:{width:28,height:28,viewBox:"0 0 28 28",data:'<path pid="0" _fill="#fff" fill-rule="evenodd" d="M19.252 8.752a.825.825 0 0 1 0 1.166l-9.334 9.334a.825.825 0 0 1-1.166-1.167l9.333-9.333a.825.825 0 0 1 1.167 0z" clip-rule="evenodd"/><path pid="1" _fill="#fff" fill-rule="evenodd" d="M18.544 19.199a.825.825 0 0 1-.815-.835l.102-8.195-8.194.102a.825.825 0 1 1-.021-1.65l9.04-.112a.825.825 0 0 1 .835.835l-.112 9.04a.825.825 0 0 1-.835.815z" clip-rule="evenodd"/>'}})},function(e,t,n){"use strict";n(12).register({bot:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" fill-rule="evenodd" clip-rule="evenodd" d="M4 4h16v16H4V4zM2 4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4zm7 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 4a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2H9zm6-8l2 4h-4l2-4z" _fill="#000"/>'}})},function(e,t,n){"use strict";n(12).register({"check-o":{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" _fill="#787E85" fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0zm2 0c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zm-5.734-2.019A1 1 0 1 0 15.9 8.519l-6.169 5.757-2.525-2.525a1 1 0 1 0-1.414 1.414L9 16.374a1 1 0 0 0 1.39.024l6.875-6.417z" clip-rule="evenodd" data-name="Union"/>'}})},function(e,t,n){"use strict";n(12).register({close:{width:23,height:23,viewBox:"0 0 23 23",data:'<path pid="0" _fill="#787E85" d="M18.432 6.038a1.04 1.04 0 1 0-1.47-1.47L11.5 10.03 6.038 4.568a1.04 1.04 0 0 0-1.47 1.47L10.03 11.5l-5.462 5.462a1.04 1.04 0 0 0 1.47 1.47l5.462-5.463 5.462 5.463a1.04 1.04 0 1 0 1.47-1.47L12.97 11.5l5.462-5.462z" data-name="Vector"/>'}})},function(e,t,n){"use strict";n(12).register({"cloud-offline-o":{width:15,height:15,viewBox:"0 0 15 15",data:'<path pid="0" _fill="#787E85" fill-rule="evenodd" d="M3.826 3.2a.625.625 0 1 0-.884.885l.922.921a4.323 4.323 0 0 0-.697 1.603C1.791 6.67.625 7.79.625 9.242c0 .627.17 1.138.457 1.539.283.394.653.643.996.799a3.39 3.39 0 0 0 1.089.282l.13.01.052.001.04.002h7.343l1.049 1.049a.625.625 0 1 0 .884-.884l-.41-.41-1-1.005-5.643-5.638-.892-.891-.894-.895zm.94 2.709c-.25.416-.404.894-.435 1.403a.626.626 0 0 1-.75.575c-.892-.184-1.706.487-1.706 1.355 0 .183.022.335.058.462a1.033 1.033 0 0 0 .3.5c.104.099.228.176.363.238.07.032.14.058.21.08a2.29 2.29 0 0 0 .557.101l.047.002h6.072L4.767 5.91zm9.61 2.662c0 1.125-.465 1.889-1.023 2.39l-.886-.886c.363-.302.658-.763.658-1.504 0-1.141-.959-2.093-2.167-2.049a.626.626 0 0 1-.586-.353A3.18 3.18 0 0 0 7.5 4.375c-.228 0-.45.024-.664.069l-.999-1A4.465 4.465 0 0 1 7.5 3.125c1.624 0 3.043.867 3.813 2.157 1.723.137 3.062 1.566 3.062 3.29z" clip-rule="evenodd"/>'}})},function(e,t,n){"use strict";n(12).register({date:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" _fill="#000" fill-rule="evenodd" d="M17.125 2.24a.48.48 0 0 1 .38.175c.05.064.079.14.079.223v1.195h3.208l.047.002c.23.02.411.19.411.397v16.341c0 .506-.41.916-.916.916H2.917A.917.917 0 0 1 2 20.573V4.232c0-.206.18-.376.412-.397a.533.533 0 0 1 .047-.002h3.208V2.638c0-.22.205-.399.458-.399h2.75c.253 0 .459.179.459.399v1.195h4.583V2.638c0-.22.205-.399.458-.399h2.75zM3.834 19.655h15.583v-11H3.834v11z" clip-rule="evenodd"/>'}})},function(e,t,n){"use strict";n(12).register({datetime:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" _fill="#787E85" fill-rule="evenodd" d="M16.451 2.136h3.209c.253 0 .458.178.458.398v5.859a.917.917 0 0 1-1.833 0V6.958H2.7v11h5.125a.917.917 0 0 1 0 1.834h-6.04a.917.917 0 0 1-.917-.917V2.535c0-.22.205-.399.458-.399h3.209V.94c0-.22.205-.398.458-.398h2.75c.253 0 .458.178.458.398v1.196h4.584V.94c0-.22.205-.398.458-.398h2.75c.253 0 .458.178.458.398v1.196zm.264 20.156a5.25 5.25 0 1 0 0-10.5 5.25 5.25 0 0 0 0 10.5zm0 1.166a6.417 6.417 0 1 0 0-12.833 6.417 6.417 0 0 0 0 12.833zm2.377-4.108a.54.54 0 0 0 .647-.864l-2.467-1.701a.044.044 0 0 1-.017-.035v-3.208a.54.54 0 1 0-1.08 0v3.208c0 .354.167.687.45.899l2.467 1.7z" clip-rule="evenodd" data-name="Union"/>'}})},function(e,t,n){"use strict";n(12).register({"doc-text":{width:24,height:24,viewBox:"0 0 24 24",data:'<g _fill="none" clip-path="url(#svgicon-doc-text-a)" data-name="doc text"><path pid="0" _fill="#787E85" fill-rule="evenodd" d="M21 22a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h9.927a2 2 0 0 1 1.353.527l5.073 4.661A2 2 0 0 1 21 7.661V22zM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 1 1 0 1.5h-9a.75.75 0 0 1-.75-.75zm.75 2.25a.75.75 0 1 0 0 1.5h9a.75.75 0 1 0 0-1.5h-9zm-.75 3.75a.75.75 0 0 1 .75-.75h9a.75.75 0 1 1 0 1.5h-9a.75.75 0 0 1-.75-.75zm.955 2.25c-.528 0-.955.336-.955.75s.427.75.955.75h5.09c.528 0 .955-.336.955-.75s-.427-.75-.955-.75h-5.09z" clip-rule="evenodd" data-name="Subtract"/></g><defs><clipPath id="svgicon-doc-text-a"><path pid="1" _fill="#fff" d="M0 0h24v24H0z"/></clipPath></defs>'}})},function(e,t,n){"use strict";n(12).register({email:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" _fill="#787E85" fill-rule="evenodd" d="M22.097 4.33l-10.095 8.03L1.948 4.307A1.98 1.98 0 0 1 3.001 4h18c.405 0 .781.123 1.096.33zm-9.801 10.06L23 6v12a2.004 2.004 0 0 1-2.001 2H3.001c-1.103 0-2-.897-2.001-2V6l10.702 8.39a.488.488 0 0 0 .594 0z" clip-rule="evenodd" data-name="Union"/>'}})},function(e,t,n){"use strict";n(12).register({link:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" _fill="#1E9FD6" d="M6.273 17.728a3.103 3.103 0 0 1 0-4.384l2.156-2.157a.95.95 0 1 0-1.343-1.344L4.929 12a5.002 5.002 0 0 0 0 7.071 5.002 5.002 0 0 0 7.071 0l2.157-2.157a.95.95 0 1 0-1.344-1.343l-2.156 2.157a3.103 3.103 0 0 1-4.384 0zm2.899-2.9a1 1 0 0 0 1.414 0l4.243-4.242a1 1 0 0 0-1.415-1.414l-4.242 4.242a1 1 0 0 0 0 1.415zM12 4.93L9.843 7.086a.95.95 0 1 0 1.344 1.343l2.157-2.156a3.103 3.103 0 0 1 4.384 0 3.103 3.103 0 0 1 0 4.384l-2.157 2.156a.95.95 0 1 0 1.344 1.344L19.07 12a5.002 5.002 0 0 0 0-7.071 5.002 5.002 0 0 0-7.07 0z"/>'}})},function(e,t,n){"use strict";n(12).register({location:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" d="M11.999 2c-3.87 0-7 3.13-7 7 0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z" _fill="#000"/>'}})},function(e,t,n){"use strict";n(12).register({messaging:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" _fill="#787E85" d="M12 1.801c-6.065 0-11 4.065-11 9.06 0 2.358 1.08 4.569 3.048 6.26l-2.209 4.41c-.196.39.217.804.604.62l5.9-2.744c1.171.339 2.4.511 3.657.511 6.065 0 11-4.063 11-9.058 0-4.994-4.936-9.059-11-9.059z" data-name="Vector"/>'}})},function(e,t,n){"use strict";n(12).register({phone:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" _fill="#787E85" d="M21.33 16.615l-2.18-2.18a2.276 2.276 0 0 0-3.222 0l-.584.583A48.424 48.424 0 0 1 8.98 8.654l.584-.584a2.28 2.28 0 0 0 0-3.222l-2.18-2.18a2.277 2.277 0 0 0-3.222 0L2.965 3.864a3.316 3.316 0 0 0-.418 4.16A47.953 47.953 0 0 0 15.974 21.45a3.301 3.301 0 0 0 4.16-.418l1.197-1.196a2.276 2.276 0 0 0 0-3.221z" data-name="Vector"/>'}})},function(e,t,n){"use strict";n(12).register({photo:{width:20,height:20,viewBox:"0 0 20 20",data:'<mask id="svgicon-photo-a" width="18" height="18" x="1" y="1" maskUnits="userSpaceOnUse"><rect pid="0" width="16.667" height="16.667" x="1.667" y="1.667" _fill="#787E85" rx="1.333"/></mask><g _fill="#787E85" mask="url(#svgicon-photo-a)"><path pid="1" fill-rule="evenodd" d="M3.333 3.335h13.334v9.523l-3.75-4.107-3.75 4.583-2.5-2.5-3.334 4.286V3.335zm-1.59 13.83a1.667 1.667 0 0 1-.076-.497V3.335c0-.92.746-1.667 1.666-1.667h13.334c.92 0 1.666.746 1.666 1.667v11.349l3.334 3.65h-4.943l-.057.001H3.333l-.057-.001H.833l.91-1.169z" clip-rule="evenodd"/><circle pid="2" cx="7.5" cy="7.501" r="1.667"/></g>'}})},function(e,t,n){"use strict";n(12).register({"powered-by-branding":{width:68,height:16,viewBox:"0 0 68 16",data:'<path pid="0" d="M5.157 5.3c.968 0 1.716.23 2.244.693.535.462.803 1.115.803 1.958 0 .88-.268 1.566-.803 2.057-.528.484-1.276.726-2.244.726H3.474V13H2V5.3h3.157zM5.08 9.436c.557 0 .983-.121 1.276-.363.3-.242.451-.601.451-1.078 0-.47-.15-.821-.451-1.056-.293-.235-.719-.352-1.276-.352H3.474v2.849H5.08zM11.942 7.07c.608 0 1.144.126 1.606.375.47.25.832.601 1.089 1.056.264.447.396.964.396 1.55 0 .595-.132 1.12-.396 1.574-.257.455-.62.807-1.09 1.056-.461.25-.997.374-1.605.374-.616 0-1.159-.125-1.628-.374a2.723 2.723 0 0 1-1.1-1.056c-.257-.455-.385-.98-.385-1.573 0-.587.128-1.104.385-1.551.264-.455.63-.807 1.1-1.056.47-.25 1.012-.374 1.628-.374zm0 1.222c-.499 0-.902.165-1.21.495-.308.33-.462.759-.462 1.287 0 .528.154.957.462 1.287.308.33.711.495 1.21.495.484 0 .88-.165 1.188-.495.308-.33.462-.76.462-1.287 0-.528-.154-.957-.462-1.287-.308-.33-.704-.495-1.188-.495zM15.169 7.126l1.474-.011 1.441 4.444 1.397-4.444h1.441l1.419 4.444 1.408-4.444h1.441L23.056 13h-1.463l-1.408-4.147L18.788 13h-1.463l-2.156-5.874zM28.278 7.07c.939 0 1.643.269 2.112.804.477.535.715 1.287.715 2.255 0 .19-.004.334-.011.429h-4.345c.095.418.29.748.583.99.3.235.667.352 1.1.352a2.164 2.164 0 0 0 1.584-.66l.77.803a2.968 2.968 0 0 1-1.078.748 3.566 3.566 0 0 1-1.397.264c-.601 0-1.133-.125-1.595-.374a2.633 2.633 0 0 1-1.056-1.045c-.25-.455-.374-.975-.374-1.562 0-.587.125-1.107.374-1.562a2.687 2.687 0 0 1 1.067-1.056 3.1 3.1 0 0 1 1.55-.385zm1.518 2.53c-.015-.432-.158-.776-.43-1.033-.27-.257-.63-.385-1.077-.385-.418 0-.77.128-1.056.385-.279.25-.451.594-.517 1.034h3.08zM33.765 8.248a2.1 2.1 0 0 1 .803-.87 2.375 2.375 0 0 1 1.199-.318v1.386c-.609-.037-1.097.106-1.463.429-.36.315-.54.744-.54 1.287V13h-1.43V7.115h1.43v1.133zM39.224 7.07c.939 0 1.643.269 2.112.804.477.535.715 1.287.715 2.255 0 .19-.004.334-.01.429h-4.346c.096.418.29.748.583.99.3.235.668.352 1.1.352a2.166 2.166 0 0 0 1.584-.66l.77.803a2.968 2.968 0 0 1-1.078.748 3.566 3.566 0 0 1-1.397.264c-.601 0-1.133-.125-1.595-.374a2.633 2.633 0 0 1-1.056-1.045c-.25-.455-.374-.975-.374-1.562 0-.587.125-1.107.374-1.562a2.687 2.687 0 0 1 1.067-1.056 3.1 3.1 0 0 1 1.551-.385zm1.518 2.53c-.014-.432-.157-.776-.429-1.033-.271-.257-.63-.385-1.078-.385-.418 0-.77.128-1.056.385-.279.25-.45.594-.517 1.034h3.08zM48.957 4.838V13h-1.43v-.946c-.213.33-.488.583-.825.759-.33.169-.715.253-1.155.253-.557 0-1.049-.125-1.474-.374a2.65 2.65 0 0 1-.98-1.067c-.234-.462-.351-.99-.351-1.584 0-.587.114-1.104.34-1.551.236-.455.562-.807.98-1.056.425-.25.91-.374 1.452-.374.447 0 .84.088 1.177.264.337.176.616.429.836.759V4.838h1.43zm-3.102 7.029c.491 0 .89-.165 1.199-.495.315-.337.473-.77.473-1.298s-.158-.957-.473-1.287c-.308-.337-.708-.506-1.2-.506-.49 0-.89.169-1.198.506-.308.33-.466.759-.473 1.287.007.528.165.96.473 1.298.308.33.708.495 1.199.495zM56.951 7.07c.55 0 1.034.13 1.452.386.425.25.752.601.979 1.056.235.455.352.979.352 1.573 0 .587-.114 1.104-.341 1.55-.227.448-.55.797-.968 1.046-.418.25-.902.374-1.452.374-.44 0-.829-.084-1.166-.253a2.24 2.24 0 0 1-.836-.76V13h-1.43V4.838h1.43v3.245c.213-.33.484-.58.814-.748a2.484 2.484 0 0 1 1.166-.264zm-.319 4.753c.484 0 .88-.165 1.188-.495.308-.337.462-.766.462-1.287 0-.52-.154-.946-.462-1.276-.308-.33-.704-.495-1.188-.495-.491 0-.891.165-1.199.495-.308.33-.462.755-.462 1.276 0 .528.154.957.462 1.287.308.33.708.495 1.199.495zM63.288 13.737c-.183.484-.447.847-.792 1.089-.337.25-.74.374-1.21.374a2.21 2.21 0 0 1-1.463-.528l.616-1.09c.14.104.268.177.385.22a.924.924 0 0 0 .374.078c.389 0 .675-.198.858-.594l.176-.385-2.43-5.786h1.484l1.672 4.279 1.53-4.28h1.44l-2.64 6.623z" _fill="#00121A" fill-opacity=".41"/>'}})},function(e,t,n){"use strict";n(12).register({"powered-by-smith-branding":{width:112,height:16,viewBox:"0 0 112 16",data:'<path pid="0" _fill="#00121A" fill-opacity=".41" d="M5.157 5.3c.968 0 1.716.23 2.244.693.535.462.803 1.115.803 1.958 0 .88-.268 1.566-.803 2.057-.528.484-1.276.726-2.244.726H3.474V13H2V5.3h3.157zM5.08 9.436c.557 0 .983-.121 1.276-.363.3-.242.451-.601.451-1.078 0-.47-.15-.821-.451-1.056-.293-.235-.719-.352-1.276-.352H3.474v2.849H5.08zm6.862-2.366c.608 0 1.144.126 1.606.375.47.25.832.601 1.089 1.056.264.447.396.964.396 1.55 0 .595-.132 1.12-.396 1.574-.257.455-.62.807-1.09 1.056-.461.25-.997.374-1.605.374-.616 0-1.159-.125-1.628-.374a2.723 2.723 0 0 1-1.1-1.056c-.257-.455-.385-.98-.385-1.573 0-.587.128-1.104.385-1.551.264-.455.63-.807 1.1-1.056.47-.25 1.012-.374 1.628-.374zm0 1.222c-.499 0-.902.165-1.21.495-.308.33-.462.759-.462 1.287 0 .528.154.957.462 1.287.308.33.711.495 1.21.495.484 0 .88-.165 1.188-.495.308-.33.462-.76.462-1.287 0-.528-.154-.957-.462-1.287-.308-.33-.704-.495-1.188-.495zm3.227-1.166l1.474-.011 1.441 4.444 1.397-4.444h1.441l1.419 4.444 1.408-4.444h1.441L23.056 13h-1.463l-1.408-4.147L18.788 13h-1.463l-2.156-5.874zm13.109-.056c.939 0 1.643.269 2.112.804.477.535.715 1.287.715 2.255 0 .19-.004.334-.011.429h-4.345c.095.418.29.748.583.99.3.235.667.352 1.1.352a2.164 2.164 0 0 0 1.584-.66l.77.803a2.968 2.968 0 0 1-1.078.748 3.566 3.566 0 0 1-1.397.264c-.601 0-1.133-.125-1.595-.374a2.633 2.633 0 0 1-1.056-1.045c-.25-.455-.374-.975-.374-1.562 0-.587.125-1.107.374-1.562a2.687 2.687 0 0 1 1.067-1.056 3.1 3.1 0 0 1 1.55-.385zm1.518 2.53c-.015-.432-.158-.776-.43-1.033-.27-.257-.63-.385-1.077-.385-.418 0-.77.128-1.056.385-.279.25-.451.594-.517 1.034h3.08zm3.969-1.352a2.1 2.1 0 0 1 .803-.87 2.375 2.375 0 0 1 1.199-.318v1.386c-.609-.037-1.097.106-1.463.429-.36.315-.54.744-.54 1.287V13h-1.43V7.115h1.43v1.133zm5.459-1.178c.939 0 1.643.269 2.112.804.477.535.715 1.287.715 2.255 0 .19-.004.334-.01.429h-4.346c.096.418.29.748.583.99.3.235.668.352 1.1.352a2.166 2.166 0 0 0 1.584-.66l.77.803a2.968 2.968 0 0 1-1.078.748 3.566 3.566 0 0 1-1.397.264c-.601 0-1.133-.125-1.595-.374a2.633 2.633 0 0 1-1.056-1.045c-.25-.455-.374-.975-.374-1.562 0-.587.125-1.107.374-1.562a2.687 2.687 0 0 1 1.067-1.056 3.1 3.1 0 0 1 1.551-.385zm1.518 2.53c-.014-.432-.157-.776-.429-1.033-.271-.257-.63-.385-1.078-.385-.418 0-.77.128-1.056.385-.279.25-.45.594-.517 1.034h3.08zm8.215-4.762V13h-1.43v-.946a2.16 2.16 0 0 1-.825.759c-.33.169-.715.253-1.155.253-.557 0-1.049-.125-1.474-.374a2.65 2.65 0 0 1-.98-1.067c-.234-.462-.351-.99-.351-1.584 0-.587.114-1.104.34-1.551a2.58 2.58 0 0 1 .98-1.056c.425-.25.91-.374 1.452-.374.447 0 .84.088 1.177.264.337.176.616.429.836.759V4.838h1.43zm-3.102 7.029c.491 0 .89-.165 1.199-.495.315-.337.473-.77.473-1.298s-.158-.957-.473-1.287c-.308-.337-.708-.506-1.2-.506-.49 0-.89.169-1.198.506-.308.33-.466.759-.473 1.287.007.528.165.96.473 1.298.308.33.708.495 1.199.495zM56.951 7.07c.55 0 1.034.13 1.452.386.425.25.752.601.979 1.056.235.455.352.979.352 1.573 0 .587-.114 1.104-.341 1.55a2.51 2.51 0 0 1-.968 1.046c-.418.25-.902.374-1.452.374-.44 0-.829-.084-1.166-.253a2.24 2.24 0 0 1-.836-.76V13h-1.43V4.838h1.43v3.245c.213-.33.484-.58.814-.748a2.484 2.484 0 0 1 1.166-.264zm-.319 4.753c.484 0 .88-.165 1.188-.495.308-.337.462-.766.462-1.287 0-.52-.154-.946-.462-1.276-.308-.33-.704-.495-1.188-.495-.491 0-.891.165-1.199.495-.308.33-.462.755-.462 1.276 0 .528.154.957.462 1.287.308.33.708.495 1.199.495zm6.656 1.914c-.183.484-.447.847-.792 1.089-.337.25-.74.374-1.21.374a2.21 2.21 0 0 1-1.463-.528l.616-1.09c.14.104.268.177.385.22a.924.924 0 0 0 .374.078c.389 0 .675-.198.858-.594l.176-.385-2.43-5.786h1.484l1.672 4.279 1.53-4.28h1.44l-2.64 6.623z"/><path pid="1" _fill="#32322E" fill-rule="evenodd" d="M68.74 12.909l4.562-5.79v-.497h1.564l1.27 2.947c.17.416.372.91.372 1.48 0 1.111-.855 1.957-2.199 2.045-.983.065-1.943-.471-2.3-1.221l.853-1.03c.296.725 1.258 1.12 1.773.718.508-.396.255-1 .07-1.463l-.748-1.729-3.52 4.547-1.697-.007zM80.092 6.621v3.348l1.518-2.407c.557-.864 1.171-1.08 1.837-1.08 1.069 0 1.595.71 1.595 1.79v1.666l1.466-2.376c.558-.864 1.208-1.08 1.874-1.08 1.069 0 1.595.71 1.595 1.79v2.883l-.108 1.76h-1.394V8.38c0-.37-.093-.432-.264-.432-.17 0-.263.108-.433.386l-2.844 4.581H83.54V8.38c0-.37-.093-.432-.263-.432s-.264.108-.434.386L80 12.915h-1.41V6.621h1.502zM93.55 3.846a1 1 0 0 1 1.007.987c0 .525-.45.972-1.007.972-.511 0-.96-.447-.96-.972 0-.54.449-.987.96-.987zm.744 2.776v4.628c0 .14.03.2.124.2.078 0 .109-.014.186-.153l3.46-4.577 1.256.787-3.477 4.607c-.465.726-.976.91-1.627.91-1.008 0-1.395-.694-1.395-1.45V6.622h1.473z" clip-rule="evenodd"/><path pid="2" _fill="#32322E" fill-rule="evenodd" d="M78.783 9.11l-2.87 3.348-1.178-.727 3.958-4.716.09 2.095zM93.031 9.11l-3.162 3.807-1.181-.724 4.253-5.178.09 2.095zM99.481 8.01v3.07c0 .386.202.524.403.524.217 0 .673-.467.977-.86l1.169-1.338 1.033.679-1.145 1.658c-.609.91-1.322 1.311-2.111 1.311-1.317 0-1.812-.833-1.812-1.681V4.446h1.486v2.175h2.045V8.01h-2.045z" clip-rule="evenodd"/><path pid="3" _fill="#32322E" fill-rule="evenodd" d="M104.863 6.129l.882-1.126c.387-.494.496-.849.496-1.126 0-.478-.341-.664-.651-.664-.449 0-.727.34-.727.803v2.113zm3.531 6.787V8.381c0-.37-.094-.432-.264-.432s-.263.108-.434.386l-2.895 4.581h-1.379V9.754l-1.944 2.521-1.161-.848 3.105-3.972V4.123c0-1.388.79-2.252 2.23-2.252 1.286 0 2.107.71 2.107 1.882 0 1.188-.961 2.114-1.735 3.04l-1.161 1.403v1.882l1.595-2.514c.557-.865 1.177-1.08 1.842-1.08 1.069 0 1.596.71 1.596 1.79v4.642h-1.502z" clip-rule="evenodd"/>'}})},function(e,t,n){"use strict";n(12).register({skip:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" fill-rule="evenodd" clip-rule="evenodd" d="M8.17 12.528c.215-.645.61-1.559 1.25-2.295C10.04 9.518 10.86 9 12 9c1.177 0 2.096.553 2.824 1.324.74.783 1.228 1.738 1.495 2.37.31.735 1.037 1.306 1.925 1.306H22a1 1 0 1 0 0-2h-3.756a.02.02 0 0 1-.007-.001.081.081 0 0 1-.02-.011.17.17 0 0 1-.056-.072c-.312-.74-.913-1.938-1.883-2.965C15.298 7.913 13.886 7 12 7c-1.855 0-3.189.883-4.09 1.922-.884 1.017-1.382 2.209-1.637 2.972a.193.193 0 0 1-.062.09.091.091 0 0 1-.025.015L6.18 12H2a1 1 0 1 0 0 2h4.18c.962 0 1.72-.666 1.99-1.472zM12 15a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" _fill="#000"/>'}})},function(e,t,n){"use strict";n(12).register({time:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" _fill="#787E85" fill-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zm-6.926 3.957a.925.925 0 1 0 1.11-1.48l-4.229-2.917a.075.075 0 0 1-.03-.06V6a.925.925 0 1 0-1.85 0v5.5c0 .606.286 1.177.77 1.54l4.23 2.917z" clip-rule="evenodd" data-name="Subtract"/>'}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{addUserAgentSelector:function(){var e=document.getElementById("smithChatWidget");e&&e.setAttribute("data-smith-useragent",navigator.userAgent)},fixAndroidFirefoxScrollOnInputFocus:function(){window.addEventListener("resize",function(e){var t=document.activeElement,n=t.tagName.toLowerCase(),r=["input","textarea"].includes(n);return document.querySelector("#smithChatWidget").contains(t)&&r&&t.scrollIntoView({behavior:"smooth"}),e})},isSupportedBrowser:function(){var e=/MSIE/.test(navigator.userAgent),t=e&&/10\.0/.test(navigator.userAgent);return!e||e&&t}},created:function(){var e=/Android/.test(navigator.appVersion),t=/Firefox/.test(navigator.userAgent);e&&t&&this.fixAndroidFirefoxScrollOnInputFocus()},mounted:function(){this.addUserAgentSelector()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(561),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={methods:{addCustomStyles:function(e){if((0,i.default)(e).isValid()){var t=this.generateStyles(e);this.bindClassDefinitions(t)}},generateStyles:function(e){var t=(0,i.default)(e),n=(0,i.default)(e).darken(10).toString(),r=(0,i.default)(e).darken(15).toString();return"\n        #smithChatWidget .widget-header {\n          background-color: "+t+" !important;\n        }\n        #smithChatWidget .avatar {\n          color: "+t+" !important;\n          background-color: #fff !important;\n        }\n\n        #smithChatWidget .btn-brand {\n          background-color: "+t+" !important;\n          border-color: "+t+" !important;\n          box-shadow: 0 3px 12px 0 rgba(0,0,0,.1), 0 4px 10px 0 rgba(0,0,0,.1);\n          outline: none !important;\n        }\n        #smithChatWidget .btn-brand:hover {\n          background-color: "+n+" !important;\n          border-color: "+r+" !important;\n        }\n        #smithChatWidget .btn-brand:focus {\n          background-color: "+n+" !important;\n          border-color: "+r+" !important;\n          box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15), 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 0 0.2rem "+(0,i.default)(e).setAlpha(.5).toRgbString()+'\n        }\n        #smithChatWidget .btn-brand[disabled*="disabled"] {\n          opacity: .65 !important;\n        }\n        #smithChatWidget .btn-brand[disabled*="disabled"]:hover {\n          background-color: '+t+" !important;\n          border-color: "+t+" !important;\n          cursor: initial;\n        }\n\n        #smithChatWidget .message.outgoing .message-bubble {\n          background-color: "+t+" !important;\n        }\n\n        #smithChatWidget .proactive-message {\n          border-top: 20px solid "+t+" !important;\n        }\n        #smithChatWidget .proactive-reply-button {\n          background-color: white !important;\n          border-color: "+t+" !important;\n          color: "+t+" !important;\n        }\n        #smithChatWidget .proactive-reply-button:hover {\n          background-color: "+t+" !important;\n          color: white !important;\n        }\n        #smithChatWidget .proactive-reply-button:active {\n          background-color: "+n+" !important;\n          color: white !important;\n        }\n\n        #smithChatWidget .brand-link {\n          color: "+t+";\n        }\n        #smithChatWidget .brand-link:hover {\n          color: "+n+";\n        }\n\n        #smithChatWidget .widget-footer-request-call {\n          color: "+t+";\n        }\n        "},bindClassDefinitions:function(e){if(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=e,this.$el.appendChild(t)}}}}},function(e,t,n){var r;!function(i){function a(e,t){if(e=e||"",t=t||{},e instanceof a)return e;if(!(this instanceof a))return new a(e,t);var n=o(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=H(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=H(this._r)),this._g<1&&(this._g=H(this._g)),this._b<1&&(this._b=H(this._b)),this._ok=n.ok,this._tc_id=z++}function o(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,u=!1;return"string"==typeof e&&(e=U(e)),"object"==typeof e&&(F(e.r)&&F(e.g)&&F(e.b)?(t=s(e.r,e.g,e.b),o=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):F(e.h)&&F(e.s)&&F(e.v)?(r=j(e.s),i=j(e.v),t=f(e.h,r,i),o=!0,u="hsv"):F(e.h)&&F(e.s)&&F(e.l)&&(r=j(e.s),a=j(e.l),t=c(e.h,r,a),o=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=O(n),{ok:o,format:e.format||u,r:V(255,Y(t.r,0)),g:V(255,Y(t.g,0)),b:V(255,Y(t.b,0)),a:n}}function s(e,t,n){return{r:255*T(e,255),g:255*T(t,255),b:255*T(n,255)}}function u(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var r,i,a=Y(e,t,n),o=V(e,t,n),s=(a+o)/2;if(a==o)r=i=0;else{var u=a-o;switch(i=s>.5?u/(2-a-o):u/(a+o),a){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function c(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,a,o;if(e=T(e,360),t=T(t,100),n=T(n,100),0===t)i=a=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;i=r(u,s,e+1/3),a=r(u,s,e),o=r(u,s,e-1/3)}return{r:255*i,g:255*a,b:255*o}}function l(e,t,n){e=T(e,255),t=T(t,255),n=T(n,255);var r,i,a=Y(e,t,n),o=V(e,t,n),s=a,u=a-o;if(i=0===a?0:u/a,a==o)r=0;else{switch(a){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function f(e,t,n){e=6*T(e,360),t=T(t,100),n=T(n,100);var r=i.floor(e),a=e-r,o=n*(1-t),s=n*(1-a*t),u=n*(1-(1-a)*t),c=r%6;return{r:255*[n,s,o,o,u,n][c],g:255*[u,n,n,s,o,o][c],b:255*[o,o,u,n,n,s][c]}}function d(e,t,n,r){var i=[R(H(e).toString(16)),R(H(t).toString(16)),R(H(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function p(e,t,n,r,i){var a=[R(H(e).toString(16)),R(H(t).toString(16)),R(H(n).toString(16)),R(N(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function h(e,t,n,r){return[R(N(r)),R(H(e).toString(16)),R(H(t).toString(16)),R(H(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=a(e).toHsl();return n.s-=t/100,n.s=A(n.s),a(n)}function m(e,t){t=0===t?0:t||10;var n=a(e).toHsl();return n.s+=t/100,n.s=A(n.s),a(n)}function y(e){return a(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var n=a(e).toHsl();return n.l+=t/100,n.l=A(n.l),a(n)}function b(e,t){t=0===t?0:t||10;var n=a(e).toRgb();return n.r=Y(0,V(255,n.r-H(-t/100*255))),n.g=Y(0,V(255,n.g-H(-t/100*255))),n.b=Y(0,V(255,n.b-H(-t/100*255))),a(n)}function _(e,t){t=0===t?0:t||10;var n=a(e).toHsl();return n.l-=t/100,n.l=A(n.l),a(n)}function w(e,t){var n=a(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,a(n)}function k(e){var t=a(e).toHsl();return t.h=(t.h+180)%360,a(t)}function x(e){var t=a(e).toHsl(),n=t.h;return[a(e),a({h:(n+120)%360,s:t.s,l:t.l}),a({h:(n+240)%360,s:t.s,l:t.l})]}function S(e){var t=a(e).toHsl(),n=t.h;return[a(e),a({h:(n+90)%360,s:t.s,l:t.l}),a({h:(n+180)%360,s:t.s,l:t.l}),a({h:(n+270)%360,s:t.s,l:t.l})]}function E(e){var t=a(e).toHsl(),n=t.h;return[a(e),a({h:(n+72)%360,s:t.s,l:t.l}),a({h:(n+216)%360,s:t.s,l:t.l})]}function C(e,t,n){t=t||6,n=n||30;var r=a(e).toHsl(),i=360/n,o=[a(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(a(r));return o}function P(e,t){t=t||6;for(var n=a(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],u=1/t;t--;)s.push(a({h:r,s:i,v:o})),o=(o+u)%1;return s}function O(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function T(e,t){I(e)&&(e="100%");var n=D(e);return e=V(t,Y(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function A(e){return V(1,Y(0,e))}function M(e){return parseInt(e,16)}function I(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function D(e){return"string"==typeof e&&-1!=e.indexOf("%")}function R(e){return 1==e.length?"0"+e:""+e}function j(e){return e<=1&&(e=100*e+"%"),e}function N(e){return i.round(255*parseFloat(e)).toString(16)}function L(e){return M(e)/255}function F(e){return!!Q.CSS_UNIT.exec(e)}function U(e){e=e.replace(B,"").replace(q,"").toLowerCase();var t=!1;if(G[e])e=G[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Q.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Q.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Q.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Q.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Q.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Q.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Q.hex8.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),a:L(n[4]),format:t?"name":"hex8"}:(n=Q.hex6.exec(e))?{r:M(n[1]),g:M(n[2]),b:M(n[3]),format:t?"name":"hex"}:(n=Q.hex4.exec(e))?{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),a:L(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=Q.hex3.exec(e))&&{r:M(n[1]+""+n[1]),g:M(n[2]+""+n[2]),b:M(n[3]+""+n[3]),format:t?"name":"hex"}}function $(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var B=/^\s+/,q=/\s+$/,z=0,H=i.round,V=i.min,Y=i.max,W=i.random;a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,a,o,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,r=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),a=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*a+.0722*o},setAlpha:function(e){return this._a=O(e),this._roundA=H(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=H(360*e.h),n=H(100*e.s),r=H(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=u(this._r,this._g,this._b),t=H(360*e.h),n=H(100*e.s),r=H(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return p(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(100*T(this._r,255))+"%",g:H(100*T(this._g,255))+"%",b:H(100*T(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+H(100*T(this._r,255))+"%, "+H(100*T(this._g,255))+"%, "+H(100*T(this._b,255))+"%)":"rgba("+H(100*T(this._r,255))+"%, "+H(100*T(this._g,255))+"%, "+H(100*T(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(K[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=a(e);n="#"+h(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return a(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},a.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:j(e[r]));e=n}return a(e,t)},a.equals=function(e,t){return!(!e||!t)&&a(e).toRgbString()==a(t).toRgbString()},a.random=function(){return a.fromRatio({r:W(),g:W(),b:W()})},a.mix=function(e,t,n){n=0===n?0:n||50;var r=a(e).toRgb(),i=a(t).toRgb(),o=n/100;return a({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},a.readability=function(e,t){var n=a(e),r=a(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},a.isReadable=function(e,t,n){var r,i,o=a.readability(e,t);switch(i=!1,r=$(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},a.mostReadable=function(e,t,n){var r,i,o,s,u=null,c=0;n=n||{},i=n.includeFallbackColors,o=n.level,s=n.size;for(var l=0;l<t.length;l++)(r=a.readability(e,t[l]))>c&&(c=r,u=a(t[l]));return a.isReadable(e,u,{level:o,size:s})||!i?u:(n.includeFallbackColors=!1,a.mostReadable(e,["#fff","#000"],n))};var G=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},K=a.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(G),Q=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==e&&e.exports?e.exports=a:void 0!==(r=function(){return a}.call(t,n,t,e))&&(e.exports=r)}(Math)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{DEFAULT_INTERVAL:2e3,defaultTitle:document.title,messageTitle:"New Message...",interval:null}},computed:{hasNewMessage:function(){return this.$store.state.hasNewMessage}},methods:{toggleTitle:function(){document.title=document.title===this.defaultTitle?this.messageTitle:this.defaultTitle},startInterval:function(){this.clearInterval(),this.interval=setInterval(this.toggleTitle,this.DEFAULT_INTERVAL)},stopInterval:function(){this.clearInterval(),document.title=this.defaultTitle},clearInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){clearInterval(this.interval),this.interval=null})},watch:{hasNewMessage:function(e){e?this.startInterval():this.stopInterval()}},destroyed:function(){this.stopInterval()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30);t.default={props:{step:{type:Object,required:!0,validator:function(e){return e&&!!e.answer_type}},stepValue:{type:String|Number,required:!1},stepCompleted:{type:Boolean,required:!0}},computed:{isSkippable:function(){return!this.step.is_required},isSkipped:function(){return this.stepCompleted&&!this.stepValue},isAnswered:function(){return this.stepCompleted&&!!this.stepValue},isFreetextAnswer:function(){return this.step.answer_type===r.ANSWERTYPE_FREETEXT},isPhoneAnswer:function(){return this.step.answer_type===r.ANSWERTYPE_PHONE},isWebAnswer:function(){return this.step.answer_type===r.ANSWERTYPE_WEBSITE},isEmailAnswer:function(){return this.step.answer_type===r.ANSWERTYPE_EMAIL},isTimeAnswer:function(){return this.step.answer_type===r.ANSWERTYPE_TIME},isDateAnswer:function(){return this.step.answer_type===r.ANSWERTYPE_DATE},isDatetimeAnswer:function(){return this.step.answer_type===r.ANSWERTYPE_DATETIME}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.widgetReady&&e.widgetShown,expression:"widgetReady && widgetShown"}],class:e.widgetClasses,staticStyle:{visibility:"hidden"},attrs:{id:"smithChatWidget"},on:{mouseenter:e.onWidgetHover}},[e.inLeftTabPositionMode&&e.isClosed?n("div",{staticClass:"left-position-action-btns-container position-fixed"},[n("button",{staticClass:"left-position-action-btn btn-brand btn-chat",on:{click:e.onActionButtonClicked}},[e.showProactiveChatMessage||e.hasNewMessage?n("div",{staticClass:"widget-new-message-indicator"},[e._v("\n        1\n      ")]):e._e(),e._v("\n      Live Chat\n    ")])]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpened,expression:"isOpened"}],staticClass:"widget-container",class:e.isOpened&&"d-flex flex-column"},[n("div",{staticClass:"widget-header m-0 flex-grow-0 flex-shrink-0"},[e.widgetReady?n("div",{staticClass:"widget-header-icon d-flex"},[n("avatar",{staticClass:"d-block widget-header-logo",attrs:{name:e.widgetServiceName,url:e.widgetLogoUrl,size:48}})],1):e._e(),e._v(" "),e.hasAssignedAgent?n("div",[n("h5",{staticClass:"widget-header-business-name m-0"},[e._v("\n          "+e._s(e.leadAgentIdentity.first_name)+"\n        ")]),e._v(" "),n("p",{staticClass:"widget-header-business-tagline m-0"},[e._v("\n          "+e._s(e.widgetTitle)+"\n        ")])]):n("div",[n("h5",{staticClass:"widget-header-business-name m-0"},[e._v("\n          "+e._s(e.widgetTitle)+"\n        ")]),e._v(" "),e.widgetDescription?n("p",{staticClass:"widget-header-business-tagline m-0"},[e._v("\n          "+e._s(e.widgetDescription)+"\n        ")]):e._e()]),e._v(" "),e.showCloseButton?n("button",{staticClass:"widget-header-close-btn ml-auto btn-brand btn-header-close p-0 m-0",on:{click:e.closeWidget}},[n("svgicon",{attrs:{name:"close",width:"30px",height:"40px"}})],1):e._e()]),e._v(" "),e.requestingToken?n("div",{staticClass:"widget-loading-message text-muted d-flex justify-content-center mb-auto"},[n("span",{staticClass:"mr-2"},[e._v("Connecting")]),e._v(" "),n("loading-indicator",{attrs:{size:"18"}})],1):e._e(),e._v(" "),n("router-view",{ref:"child",attrs:{"widget-open":e.widgetOpen},on:{"messaging-ready":function(t){return e.onMessagingReady()},"conversation-started":function(t){return e.$emit("conversation-started",t)},"conversation-closed":function(t){return e.$emit("conversation-closed",t)}}}),e._v(" "),n("div",{staticClass:"widget-footer-branding mb-3 mb-sm-2 mt-2 mt-sm-auto d-flex align-items-center",class:[e.showRequestACall?"justify-content-between":"justify-content-center"]},[n("a",{attrs:{href:e.footerBrandingUrl,target:"_blank",rel:"noopener noreferrer"}},[e.customFooterBranding?[n("div",{staticClass:"d-flex align-items-center"},[n("svgicon",{staticClass:"d-block mr-1 mb-1",attrs:{name:"powered-by-branding",width:"73",height:"17",color:"#000"}}),e._v(" "),n("img",{staticClass:"widget-footer-custom-branding-logo d-block",attrs:{height:"20",src:e.customFooterBranding.logo}})],1)]:[n("svgicon",{attrs:{name:"powered-by-smith-branding",width:"118",height:"20",color:"#000"}})]],2),e._v(" "),e.showRequestACall?n("button",{staticClass:"widget-footer-request-call brand-link d-flex align-items-center btn btn-link p-0",attrs:{disabled:!e.widgetMessagingReady},on:{click:e.requestCall}},[n("svgicon",{staticClass:"mr-1",attrs:{name:"phone",width:"15",height:"15"}}),e._v("\n        Request a call\n      ")],1):e._e()])],1),e._v(" "),n("div",{staticClass:"widget-bottom-container mt-2"},[e.inStandardPositionMode&&e.showProactiveChatMessage&&!e.widgetOpen?n("proactive-message-prompt"):e._e(),e._v(" "),n("div",{staticClass:"d-flex align-items-center justify-content-end"},[e.inStandardPositionMode&&e.showProactiveChatMessage&&!e.widgetOpen?n("button",{staticClass:"proactive-reply-button d-flex align-items-center btn-reply mr-3",on:{click:function(t){return e.onProactiveReplyClick()}}},[n("svgicon",{staticClass:"mr-2",attrs:{name:"messaging",width:"15",height:"15"}}),e._v("\n        Reply\n      ")],1):e._e(),e._v(" "),e.showActionButton?n("button",{staticClass:"standard-position-action-btn btn-brand btn-chat",on:{click:e.onActionButtonClicked}},[!e.widgetOpen&&e.hasNewMessage?n("div",{staticClass:"widget-new-message-indicator"}):e._e(),e._v(" "),n("div",{staticClass:"chat-button d-flex align-items-center"},[n("svgicon",{attrs:{name:e.chatButtonIcon,width:"22",height:"22"}}),e._v(" "),e.inAnimatedChatButtonMode?[n("transition",{attrs:{name:"animate-chat-button-text"}},[e.widgetOpen||e.showProactiveChatMessage?e._e():n("div",{staticClass:"chat-button-text"},[e._v("\n                 "+e._s(e.widgetButtonText)+"\n              ")])])]:e._e()],2)]):e._e()])],1)])},staticRenderFns:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(114),a=r(i),o=n(566),s=r(o),u=n(567),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u);a.default.use(s.default);var l=[{component:c.EntryFormView,name:"entry-form",path:"/entry-form"},{component:c.MessagingView,name:"messaging",path:"/messaging"}],f=new s.default({mode:"abstract",routes:l});t.default=f},function(e,t,n){"use strict";function r(e,t){}function i(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function a(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0}}function s(e,t,n){void 0===t&&(t={});var r,i=n||u;try{r=i(e||"")}catch(e){r={}}for(var a in t)r[a]=t[a];return r}function u(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),r=Ue(n.shift()),i=n.length>0?Ue(n.join("=")):null;void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]}),t):t}function c(e){var t=e?Object.keys(e).map(function(t){var n=e[t];if(void 0===n)return"";if(null===n)return Fe(t);if(Array.isArray(n)){var r=[];return n.forEach(function(e){void 0!==e&&(null===e?r.push(Fe(t)):r.push(Fe(t)+"="+Fe(e)))}),r.join("&")}return Fe(t)+"="+Fe(n)}).filter(function(e){return e.length>0}).join("&"):null;return t?"?"+t:""}function l(e,t,n,r){var i=r&&r.options.stringifyQuery,a=t.query||{};try{a=f(a)}catch(e){}var o={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:a,params:t.params||{},fullPath:p(t,i),matched:e?d(e):[]};return n&&(o.redirectedFrom=p(n,i)),Object.freeze(o)}function f(e){if(Array.isArray(e))return e.map(f);if(e&&"object"==typeof e){var t={};for(var n in e)t[n]=f(e[n]);return t}return e}function d(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}function p(e,t){var n=e.path,r=e.query;void 0===r&&(r={});var i=e.hash;void 0===i&&(i="");var a=t||c;return(n||"/")+a(r)+i}function h(e,t){return t===Be?e===t:!!t&&(e.path&&t.path?e.path.replace($e,"")===t.path.replace($e,"")&&e.hash===t.hash&&v(e.query,t.query):!(!e.name||!t.name)&&(e.name===t.name&&e.hash===t.hash&&v(e.query,t.query)&&v(e.params,t.params)))}function v(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(n){var r=e[n],i=t[n];return"object"==typeof r&&"object"==typeof i?v(r,i):String(r)===String(i)})}function m(e,t){return 0===e.path.replace($e,"/").indexOf(t.path.replace($e,"/"))&&(!t.hash||e.hash===t.hash)&&y(e.query,t.query)}function y(e,t){for(var n in t)if(!(n in e))return!1;return!0}function g(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){if(/\b_blank\b/i.test(e.currentTarget.getAttribute("target")))return}return e.preventDefault&&e.preventDefault(),!0}}function b(e){if(e)for(var t,n=0;n<e.length;n++){if(t=e[n],"a"===t.tag)return t;if(t.children&&(t=b(t.children)))return t}}function _(e){if(!_.installed||De!==e){_.installed=!0,De=e;var t=function(e){return void 0!==e},n=function(e,n){var r=e.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(e,n)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",Re),e.component("RouterLink",He);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}function w(e,t,n){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var i=t.split("/");n&&i[i.length-1]||i.pop();for(var a=e.replace(/^\//,"").split("/"),o=0;o<a.length;o++){var s=a[o];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function k(e){var t="",n="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var i=e.indexOf("?");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{path:e,query:n,hash:t}}function x(e){return e.replace(/\/\//g,"/")}function S(e,t){for(var n,r=[],i=0,a=0,o="",s=t&&t.delimiter||"/";null!=(n=Xe.exec(e));){var u=n[0],c=n[1],l=n.index;if(o+=e.slice(a,l),a=l+u.length,c)o+=c[1];else{var f=e[a],d=n[2],p=n[3],h=n[4],v=n[5],m=n[6],y=n[7];o&&(r.push(o),o="");var g=null!=d&&null!=f&&f!==d,b="+"===m||"*"===m,_="?"===m||"*"===m,w=n[2]||s,k=h||v;r.push({name:p||i++,prefix:d||"",delimiter:w,optional:_,repeat:b,partial:g,asterisk:!!y,pattern:k?A(k):y?".*":"[^"+T(w)+"]+?"})}}return a<e.length&&(o+=e.substr(a)),o&&r.push(o),r}function E(e,t){return O(S(e,t))}function C(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function P(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function O(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var i="",a=n||{},o=r||{},s=o.pretty?C:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var l,f=a[c.name];if(null==f){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(Ye(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(l=s(f[d]),!t[u].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===d?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?P(f):s(f),!t[u].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');i+=c.prefix+l}}else i+=c}return i}}function T(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function A(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function M(e,t){return e.keys=t,e}function I(e){return e.sensitive?"":"i"}function D(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return M(e,t)}function R(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(L(e[i],t,n).source);return M(new RegExp("(?:"+r.join("|")+")",I(n)),t)}function j(e,t,n){return N(S(e,n),t,n)}function N(e,t,n){Ye(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,a="",o=0;o<e.length;o++){var s=e[o];if("string"==typeof s)a+=T(s);else{var u=T(s.prefix),c="(?:"+s.pattern+")";t.push(s),s.repeat&&(c+="(?:"+u+c+")*"),c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")",a+=c}}var l=T(n.delimiter||"/"),f=a.slice(-l.length)===l;return r||(a=(f?a.slice(0,-l.length):a)+"(?:"+l+"(?=$))?"),a+=i?"$":r&&f?"":"(?="+l+"|$)",M(new RegExp("^"+a,I(n)),t)}function L(e,t,n){return Ye(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?D(e,t):Ye(e)?R(e,t,n):j(e,t,n)}function F(e,t,n){t=t||{};try{var r=Ze[e]||(Ze[e]=We.compile(e));return t.pathMatch&&(t[0]=t.pathMatch),r(t,{pretty:!0})}catch(e){return""}finally{delete t[0]}}function U(e,t,n,r){var i=t||[],a=n||Object.create(null),o=r||Object.create(null);e.forEach(function(e){$(i,a,o,e)});for(var s=0,u=i.length;s<u;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),u--,s--);return{pathList:i,pathMap:a,nameMap:o}}function $(e,t,n,r,i,a){var o=r.path,s=r.name,u=r.pathToRegexpOptions||{},c=q(o,i,u.strict);"boolean"==typeof r.caseSensitive&&(u.sensitive=r.caseSensitive);var l={path:c,regex:B(c,u),components:r.components||{default:r.component},instances:{},name:s,parent:i,matchAs:a,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach(function(r){var i=a?x(a+"/"+r.path):void 0;$(e,t,n,r,l,i)}),void 0!==r.alias){(Array.isArray(r.alias)?r.alias:[r.alias]).forEach(function(a){var o={path:a,children:r.children};$(e,t,n,o,i,l.path||"/")})}t[l.path]||(e.push(l.path),t[l.path]=l),s&&(n[s]||(n[s]=l))}function B(e,t){var n=We(e,[],t);return n}function q(e,t,n){return n||(e=e.replace(/\/$/,"")),"/"===e[0]?e:null==t?e:x(t.path+"/"+e)}function z(e,t,n,r){var i="string"==typeof e?{path:e}:e;if(i._normalized)return i;if(i.name)return a({},e);if(!i.path&&i.params&&t){i=a({},i),i._normalized=!0;var o=a(a({},t.params),i.params);if(t.name)i.name=t.name,i.params=o;else if(t.matched.length){var u=t.matched[t.matched.length-1].path;i.path=F(u,o,"path "+t.path)}return i}var c=k(i.path||""),l=t&&t.path||"/",f=c.path?w(c.path,l,n||i.append):l,d=s(c.query,i.query,r&&r.options.parseQuery),p=i.hash||c.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:f,query:d,hash:p}}function H(e,t){function n(e){U(e,u,c,f)}function r(e,n,r){var i=z(e,n,!1,t),a=i.name;if(a){var s=f[a];if(!s)return o(null,i);var l=s.regex.keys.filter(function(e){return!e.optional}).map(function(e){return e.name});if("object"!=typeof i.params&&(i.params={}),n&&"object"==typeof n.params)for(var d in n.params)!(d in i.params)&&l.indexOf(d)>-1&&(i.params[d]=n.params[d]);if(s)return i.path=F(s.path,i.params,'named route "'+a+'"'),o(s,i,r)}else if(i.path){i.params={};for(var p=0;p<u.length;p++){var h=u[p],v=c[h];if(V(v.regex,i.path,i.params))return o(v,i,r)}}return o(null,i)}function i(e,n){var i=e.redirect,a="function"==typeof i?i(l(e,n,null,t)):i;if("string"==typeof a&&(a={path:a}),!a||"object"!=typeof a)return o(null,n);var s=a,u=s.name,c=s.path,d=n.query,p=n.hash,h=n.params;if(d=s.hasOwnProperty("query")?s.query:d,p=s.hasOwnProperty("hash")?s.hash:p,h=s.hasOwnProperty("params")?s.params:h,u){f[u];return r({_normalized:!0,name:u,query:d,hash:p,params:h},void 0,n)}if(c){var v=Y(c,e);return r({_normalized:!0,path:F(v,h,'redirect route with path "'+v+'"'),query:d,hash:p},void 0,n)}return o(null,n)}function a(e,t,n){var i=F(n,t.params,'aliased route with path "'+n+'"'),a=r({_normalized:!0,path:i});if(a){var s=a.matched,u=s[s.length-1];return t.params=a.params,o(u,t)}return o(null,t)}function o(e,n,r){return e&&e.redirect?i(e,r||n):e&&e.matchAs?a(e,n,e.matchAs):l(e,n,r,t)}var s=U(e),u=s.pathList,c=s.pathMap,f=s.nameMap;return{match:r,addRoutes:n}}function V(e,t,n){var r=t.match(e);if(!r)return!1;if(!n)return!0;for(var i=1,a=r.length;i<a;++i){var o=e.keys[i-1],s="string"==typeof r[i]?decodeURIComponent(r[i]):r[i];o&&(n[o.name||"pathMatch"]=s)}return!0}function Y(e,t){return w(e,t.parent?t.parent.path:"/",!0)}function W(){window.history.replaceState({key:ie()},"",window.location.href.replace(window.location.origin,"")),window.addEventListener("popstate",function(e){K(),e.state&&e.state.key&&ae(e.state.key)})}function G(e,t,n,r){if(e.app){var i=e.options.scrollBehavior;i&&e.app.$nextTick(function(){var a=Q(),o=i.call(e,t,n,r?a:null);o&&("function"==typeof o.then?o.then(function(e){ne(e,a)}).catch(function(e){}):ne(o,a))})}}function K(){var e=ie();e&&(et[e]={x:window.pageXOffset,y:window.pageYOffset})}function Q(){var e=ie();if(e)return et[e]}function J(e,t){var n=document.documentElement,r=n.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-r.left-t.x,y:i.top-r.top-t.y}}function X(e){return te(e.x)||te(e.y)}function Z(e){return{x:te(e.x)?e.x:window.pageXOffset,y:te(e.y)?e.y:window.pageYOffset}}function ee(e){return{x:te(e.x)?e.x:0,y:te(e.y)?e.y:0}}function te(e){return"number"==typeof e}function ne(e,t){var n="object"==typeof e;if(n&&"string"==typeof e.selector){var r=document.querySelector(e.selector);if(r){var i=e.offset&&"object"==typeof e.offset?e.offset:{};i=ee(i),t=J(r,i)}else X(e)&&(t=Z(e))}else n&&X(e)&&(t=Z(e));t&&window.scrollTo(t.x,t.y)}function re(){return nt.now().toFixed(3)}function ie(){return rt}function ae(e){rt=e}function oe(e,t){K();var n=window.history;try{t?n.replaceState({key:rt},"",e):(rt=re(),n.pushState({key:rt},"",e))}catch(n){window.location[t?"replace":"assign"](e)}}function se(e){oe(e,!0)}function ue(e,t,n){var r=function(i){i>=e.length?n():e[i]?t(e[i],function(){r(i+1)}):r(i+1)};r(0)}function ce(e){return function(t,n,r){var a=!1,o=0,s=null;le(e,function(e,t,n,u){if("function"==typeof e&&void 0===e.cid){a=!0,o++;var c,l=pe(function(t){de(t)&&(t=t.default),e.resolved="function"==typeof t?t:De.extend(t),n.components[u]=t,--o<=0&&r()}),f=pe(function(e){var t="Failed to resolve async component "+u+": "+e;s||(s=i(e)?e:new Error(t),r(s))});try{c=e(l,f)}catch(e){f(e)}if(c)if("function"==typeof c.then)c.then(l,f);else{var d=c.component;d&&"function"==typeof d.then&&d.then(l,f)}}}),a||r()}}function le(e,t){return fe(e.map(function(e){return Object.keys(e.components).map(function(n){return t(e.components[n],e.instances[n],e,n)})}))}function fe(e){return Array.prototype.concat.apply([],e)}function de(e){return e.__esModule||it&&"Module"===e[Symbol.toStringTag]}function pe(e){var t=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!t)return t=!0,e.apply(this,n)}}function he(e){if(!e)if(Ve){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function ve(e,t){var n,r=Math.max(e.length,t.length);for(n=0;n<r&&e[n]===t[n];n++);return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}function me(e,t,n,r){var i=le(e,function(e,r,i,a){var o=ye(e,t);if(o)return Array.isArray(o)?o.map(function(e){return n(e,r,i,a)}):n(o,r,i,a)});return fe(r?i.reverse():i)}function ye(e,t){return"function"!=typeof e&&(e=De.extend(e)),e.options[t]}function ge(e){return me(e,"beforeRouteLeave",_e,!0)}function be(e){return me(e,"beforeRouteUpdate",_e)}function _e(e,t){if(t)return function(){return e.apply(t,arguments)}}function we(e,t,n){return me(e,"beforeRouteEnter",function(e,r,i,a){return ke(e,i,a,t,n)})}function ke(e,t,n,r,i){return function(a,o,s){return e(a,o,function(e){s(e),"function"==typeof e&&r.push(function(){xe(e,t.instances,n,i)})})}}function xe(e,t,n,r){t[n]&&!t[n]._isBeingDestroyed?e(t[n]):r()&&setTimeout(function(){xe(e,t,n,r)},16)}function Se(e){var t=decodeURI(window.location.pathname);return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}function Ee(e){var t=Se(e);if(!/^\/#/.test(t))return window.location.replace(x(e+"/#"+t)),!0}function Ce(){var e=Pe();return"/"===e.charAt(0)||(Ae("/"+e),!1)}function Pe(){var e=window.location.href,t=e.indexOf("#");if(t<0)return"";e=e.slice(t+1);var n=e.indexOf("?");if(n<0){var r=e.indexOf("#");e=r>-1?decodeURI(e.slice(0,r))+e.slice(r):decodeURI(e)}else n>-1&&(e=decodeURI(e.slice(0,n))+e.slice(n));return e}function Oe(e){var t=window.location.href,n=t.indexOf("#");return(n>=0?t.slice(0,n):t)+"#"+e}function Te(e){tt?oe(Oe(e)):window.location.hash=e}function Ae(e){tt?se(Oe(e)):window.location.replace(Oe(e))}function Me(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function Ie(e,t,n){var r="hash"===n?"#"+t:t;return e?x(e+"/"+r):r}Object.defineProperty(t,"__esModule",{value:!0});var De,Re={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,r=t.children,i=t.parent,s=t.data;s.routerView=!0;for(var u=i.$createElement,c=n.name,l=i.$route,f=i._routerViewCache||(i._routerViewCache={}),d=0,p=!1;i&&i._routerRoot!==i;){var h=i.$vnode&&i.$vnode.data;h&&(h.routerView&&d++,h.keepAlive&&i._inactive&&(p=!0)),i=i.$parent}if(s.routerViewDepth=d,p)return u(f[c],s,r);var v=l.matched[d];if(!v)return f[c]=null,u();var m=f[c]=v.components[c];s.registerRouteInstance=function(e,t){var n=v.instances[c];(t&&n!==e||!t&&n===e)&&(v.instances[c]=t)},(s.hook||(s.hook={})).prepatch=function(e,t){v.instances[c]=t.componentInstance},s.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==v.instances[c]&&(v.instances[c]=e.componentInstance)};var y=s.props=o(l,v.props&&v.props[c]);if(y){y=s.props=a({},y);var g=s.attrs=s.attrs||{};for(var b in y)m.props&&b in m.props||(g[b]=y[b],delete y[b])}return u(m,s,r)}},je=/[!'()*]/g,Ne=function(e){return"%"+e.charCodeAt(0).toString(16)},Le=/%2C/g,Fe=function(e){return encodeURIComponent(e).replace(je,Ne).replace(Le,",")},Ue=decodeURIComponent,$e=/\/?$/,Be=l(null,{path:"/"}),qe=[String,Object],ze=[String,Array],He={name:"RouterLink",props:{to:{type:qe,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:ze,default:"click"}},render:function(e){var t=this,n=this.$router,r=this.$route,i=n.resolve(this.to,r,this.append),o=i.location,s=i.route,u=i.href,c={},f=n.options.linkActiveClass,d=n.options.linkExactActiveClass,p=null==f?"router-link-active":f,v=null==d?"router-link-exact-active":d,y=null==this.activeClass?p:this.activeClass,_=null==this.exactActiveClass?v:this.exactActiveClass,w=o.path?l(null,o,null,n):s;c[_]=h(r,w),c[y]=this.exact?c[_]:m(r,w);var k=function(e){g(e)&&(t.replace?n.replace(o):n.push(o))},x={click:g};Array.isArray(this.event)?this.event.forEach(function(e){x[e]=k}):x[this.event]=k;var S={class:c};if("a"===this.tag)S.on=x,S.attrs={href:u};else{var E=b(this.$slots.default);if(E){E.isStatic=!1;(E.data=a({},E.data)).on=x;(E.data.attrs=a({},E.data.attrs)).href=u}else S.on=x}return e(this.tag,S,this.$slots.default)}},Ve="undefined"!=typeof window,Ye=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},We=L,Ge=S,Ke=E,Qe=O,Je=N,Xe=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");We.parse=Ge,We.compile=Ke,We.tokensToFunction=Qe,We.tokensToRegExp=Je;var Ze=Object.create(null),et=Object.create(null),tt=Ve&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),nt=Ve&&window.performance&&window.performance.now?window.performance:Date,rt=re(),it="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,at=function(e,t){this.router=e,this.base=he(t),this.current=Be,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};at.prototype.listen=function(e){this.cb=e},at.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},at.prototype.onError=function(e){this.errorCbs.push(e)},at.prototype.transitionTo=function(e,t,n){var r=this,i=this.router.match(e,this.current);this.confirmTransition(i,function(){r.updateRoute(i),t&&t(i),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach(function(e){e(i)}))},function(e){n&&n(e),e&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach(function(t){t(e)}))})},at.prototype.confirmTransition=function(e,t,n){var a=this,o=this.current,s=function(e){i(e)&&(a.errorCbs.length?a.errorCbs.forEach(function(t){t(e)}):(r(!1,"uncaught error during route navigation:"),console.error(e))),n&&n(e)};if(h(e,o)&&e.matched.length===o.matched.length)return this.ensureURL(),s();var u=ve(this.current.matched,e.matched),c=u.updated,l=u.deactivated,f=u.activated,d=[].concat(ge(l),this.router.beforeHooks,be(c),f.map(function(e){return e.beforeEnter}),ce(f));this.pending=e;var p=function(t,n){if(a.pending!==e)return s();try{t(e,o,function(e){!1===e||i(e)?(a.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(),"object"==typeof e&&e.replace?a.replace(e):a.push(e)):n(e)})}catch(e){s(e)}};ue(d,p,function(){var n=[];ue(we(f,n,function(){return a.current===e}).concat(a.router.resolveHooks),p,function(){if(a.pending!==e)return s();a.pending=null,t(e),a.router.app&&a.router.app.$nextTick(function(){n.forEach(function(e){e()})})})})},at.prototype.updateRoute=function(e){var t=this.current;this.current=e,this.cb&&this.cb(e),this.router.afterHooks.forEach(function(n){n&&n(e,t)})};var ot=function(e){function t(t,n){var r=this;e.call(this,t,n);var i=t.options.scrollBehavior,a=tt&&i;a&&W();var o=Se(this.base);window.addEventListener("popstate",function(e){var n=r.current,i=Se(r.base);r.current===Be&&i===o||r.transitionTo(i,function(e){a&&G(t,e,n,!0)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var r=this,i=this,a=i.current;this.transitionTo(e,function(e){oe(x(r.base+e.fullPath)),G(r.router,e,a,!1),t&&t(e)},n)},t.prototype.replace=function(e,t,n){var r=this,i=this,a=i.current;this.transitionTo(e,function(e){se(x(r.base+e.fullPath)),G(r.router,e,a,!1),t&&t(e)},n)},t.prototype.ensureURL=function(e){if(Se(this.base)!==this.current.fullPath){var t=x(this.base+this.current.fullPath);e?oe(t):se(t)}},t.prototype.getCurrentLocation=function(){return Se(this.base)},t}(at),st=function(e){function t(t,n,r){e.call(this,t,n),r&&Ee(this.base)||Ce()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this,t=this.router,n=t.options.scrollBehavior,r=tt&&n;r&&W(),window.addEventListener(tt?"popstate":"hashchange",function(){var t=e.current;Ce()&&e.transitionTo(Pe(),function(n){r&&G(e.router,n,t,!0),tt||Ae(n.fullPath)})})},t.prototype.push=function(e,t,n){var r=this,i=this,a=i.current;this.transitionTo(e,function(e){Te(e.fullPath),G(r.router,e,a,!1),t&&t(e)},n)},t.prototype.replace=function(e,t,n){var r=this,i=this,a=i.current;this.transitionTo(e,function(e){Ae(e.fullPath),G(r.router,e,a,!1),t&&t(e)},n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;Pe()!==t&&(e?Te(t):Ae(t))},t.prototype.getCurrentLocation=function(){return Pe()},t}(at),ut=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var r=this;this.transitionTo(e,function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)},n)},t.prototype.replace=function(e,t,n){var r=this;this.transitionTo(e,function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)},n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,function(){t.index=n,t.updateRoute(r)})}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(at),ct=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=H(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!tt&&!1!==e.fallback,this.fallback&&(t="hash"),Ve||(t="abstract"),this.mode=t,t){case"history":this.history=new ot(this,e.base);break;case"hash":this.history=new st(this,e.base,this.fallback);break;case"abstract":this.history=new ut(this,e.base)}},lt={currentRoute:{configurable:!0}};ct.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},lt.currentRoute.get=function(){return this.history&&this.history.current},ct.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",function(){var n=t.apps.indexOf(e);n>-1&&t.apps.splice(n,1),t.app===e&&(t.app=t.apps[0]||null)}),!this.app){this.app=e;var n=this.history;if(n instanceof ot)n.transitionTo(n.getCurrentLocation());else if(n instanceof st){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen(function(e){t.apps.forEach(function(t){t._route=e})})}},ct.prototype.beforeEach=function(e){return Me(this.beforeHooks,e)},ct.prototype.beforeResolve=function(e){return Me(this.resolveHooks,e)},ct.prototype.afterEach=function(e){return Me(this.afterHooks,e)},ct.prototype.onReady=function(e,t){this.history.onReady(e,t)},ct.prototype.onError=function(e){this.history.onError(e)},ct.prototype.push=function(e,t,n){this.history.push(e,t,n)},ct.prototype.replace=function(e,t,n){this.history.replace(e,t,n)},ct.prototype.go=function(e){this.history.go(e)},ct.prototype.back=function(){this.go(-1)},ct.prototype.forward=function(){this.go(1)},ct.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map(function(e){return Object.keys(e.components).map(function(t){return e.components[t]})})):[]},ct.prototype.resolve=function(e,t,n){t=t||this.history.current;var r=z(e,t,n,this),i=this.match(r,t),a=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:Ie(this.history.base,a,this.mode),normalizedTo:r,resolved:i}},ct.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==Be&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(ct.prototype,lt),ct.install=_,ct.version="3.0.6",Ve&&window.Vue&&window.Vue.use(ct),t.default=ct},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(568);Object.defineProperty(t,"EntryFormView",{enumerable:!0,get:function(){return r(i).default}});var a=n(572);Object.defineProperty(t,"MessagingView",{enumerable:!0,get:function(){return r(a).default}})},function(e,t,n){n(569);var r=n(9)(n(570),n(571),"data-v-25802a3d",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(71);t.default={name:"form-view",data:function(){return{form:{guestName:"",guestEmail:"",guestPhone:""},formErrors:{guestName:"",guestEmail:"",guestPhone:""},creatingChannel:!1,hasValidationError:!1,hasServerError:!1,proactiveMode:!1}},created:function(){this.$data.proactiveMode=this.$route.query.proactive_mode},mounted:function(){this.$refs.scrollTopArea&&(this.$refs.scrollTopArea.scrollTop=this.$refs.scrollTopArea.scrollHeight)},computed:r({},(0,i.mapState)(["connectionErrorMode","widgetDisclaimerText","widgetGreetingMessage","widgetIsDisclaimerEnabled","widgetLogoUrl","widgetServiceName","widgetIsPhoneRequired"]),{isDisabled:function(){return!this.form.guestName||!this.form.guestEmail||this.widgetIsPhoneRequired&&!this.form.guestPhone||this.connectionErrorMode||this.hasValidationError||this.creatingChannel},showProactiveMessage:function(){return!!this.proactiveMode},showDisclaimer:function(){return!(!this.widgetIsDisclaimerEnabled||!this.widgetIsDisclaimerEnabled)},showTopSection:function(){return this.showProactiveMessage||this.showDisclaimer},emailMarginClass:function(){return this.widgetIsPhoneRequired?"mb-2":"mb-4"}}),methods:r({},(0,i.mapActions)(["fetchToken"]),{initChat:function(){var e=this;this.creatingChannel||(this.clearValidationErrors(),this.creatingChannel=!0,this.fetchToken({email:this.form.guestEmail,name:this.form.guestName,phone:this.form.guestPhone,disclaimer:this.widgetIsDisclaimerEnabled?this.widgetDisclaimerText:""}).then(function(t){localStorage.setItem("SMITHCHAT_guestName",e.form.guestName),localStorage.setItem("SMITHCHAT_guestEmail",e.form.guestEmail),e.$router.push({name:"messaging"}),e.creatingChannel=!1,e.$addGTMEvent({event:"signup_complete"})}).catch(function(t){t.response&&(500===t.response.status?e.handleServerError():400===t.response.status&&e.handleValidationError(t.response.data),e.creatingChannel=!1)}))},handleServerError:function(){this.hasServerError=!0},handleValidationError:function(e){var t=e.guest_name,n=e.guest_email,r=e.guest_phone;this.hasValidationError=!0,t&&(this.formErrors.guestName=t[0]),n&&(this.formErrors.guestEmail=n[0]),r&&(this.formErrors.guestPhone=r[0])},clearValidationErrors:function(){this.hasValidationError=!1,this.formErrors={guestName:"",guestEMail:"",guestPhone:""}}})}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"widget-form-view d-flex flex-column justify-content-between h-100",class:[e.proactiveMode&&"proactive-mode"]},[e.showTopSection?n("div",{ref:"scrollTopArea",staticClass:"widget-entry-form-top-section border-bottom"},[e.showProactiveMessage?n("div",{staticClass:"widget-form-proactive-message mb-3"},[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"message message-user d-flex incoming mb-0"},[n("avatar",{staticClass:"align-self-end mb-4 mr-2",attrs:{name:e.widgetServiceName,url:e.widgetLogoUrl,size:34}}),e._v(" "),n("div",[n("div",{staticClass:"message-bubble",domProps:{innerHTML:e._f("linkify")(e.widgetGreetingMessage)}}),e._v(" "),n("div",{staticClass:"message-date-time"},[[e._v("\n                "+e._s(e.widgetServiceName)+" •\n              ")],e._v(" "),n("time",{attrs:{datetime:new Date}},[e._v("\n                Now\n              ")])],2)])],1)])]):e._e(),e._v(" "),e.showDisclaimer?n("div",{staticClass:"widget-disclaimer-container text-center mx-1 my-3 px-2 py-1"},[n("p",{staticClass:"widget-disclaimer-text mb-0",domProps:{innerHTML:e._f("linkify")(e.widgetDisclaimerText)}})]):e._e()]):e._e(),e._v(" "),n("div",{staticClass:"widget-entry-form-bottom-section mt-auto"},[this.hasServerError?n("p",{staticClass:"widget-form-info"},[e._v("\n      An error has occurred, please try again in a few minutes.\n    ")]):this.connectionErrorMode?n("connection-error-message",{attrs:{"in-offline-only-mode":!0}}):n("p",{staticClass:"widget-form-info"},[e._v("\n      "+e._s(this.$data.proactiveMode?"Enter your info":"Enter your info to start a conversation")+"\n    ")]),e._v(" "),n("form",{staticClass:"mb-0",on:{submit:function(t){return t.preventDefault(),e.initChat()}}},[n("div",{staticClass:"form-group mb-2"},[n("label",{staticClass:"widget-form-input-label mb-1",attrs:{for:"name"}},[e._v("Name")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guestName,expression:"form.guestName"}],staticClass:"widget-form-input form-control",attrs:{id:"name",type:"text"},domProps:{value:e.form.guestName},on:{input:[function(t){t.target.composing||e.$set(e.form,"guestName",t.target.value)},function(t){return e.clearValidationErrors()}]}}),e._v(" "),e.formErrors.guestName?n("div",{staticClass:"widget-form-error"},[e._v("\n          "+e._s(e.formErrors.guestName)+"\n        ")]):e._e()]),e._v(" "),n("div",{staticClass:"form-group",class:e.emailMarginClass},[n("label",{staticClass:"widget-form-input-label mb-1",attrs:{for:"emailAddress"}},[e._v("Email")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guestEmail,expression:"form.guestEmail"}],staticClass:"widget-form-input form-control",attrs:{id:"emailAddress",type:"email"},domProps:{value:e.form.guestEmail},on:{input:[function(t){t.target.composing||e.$set(e.form,"guestEmail",t.target.value)},function(t){return e.clearValidationErrors()}]}}),e._v(" "),e.formErrors.guestEmail?n("div",{staticClass:"widget-form-error mb-3 invalid-feedback"},[e._v("\n          "+e._s(e.formErrors.guestEmail)+"\n        ")]):e._e()]),e._v(" "),e.widgetIsPhoneRequired?n("div",{staticClass:"form-group mb-4"},[n("label",{staticClass:"widget-form-input-label mb-1",attrs:{for:"phone"}},[e._v("Phone")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.guestPhone,expression:"form.guestPhone"}],staticClass:"widget-form-input form-control",attrs:{id:"phone",type:"tel"},domProps:{value:e.form.guestPhone},on:{input:[function(t){t.target.composing||e.$set(e.form,"guestPhone",t.target.value)},function(t){return e.clearValidationErrors()}]}}),e._v(" "),e.formErrors.guestPhone?n("div",{staticClass:"widget-form-error mb-3 invalid-feedback"},[e._v("\n          "+e._s(e.formErrors.guestPhone)+"\n        ")]):e._e()]):e._e(),e._v(" "),n("button",{staticClass:"btn-brand btn btn-start d-flex align-items-center justify-content-center w-100",attrs:{type:"submit",disabled:e.isDisabled}},[e.connectionErrorMode?[e._v("\n          Offline\n        ")]:e.creatingChannel?[e._v("\n          Starting "),n("loading-indicator",{staticClass:"ml-1 d-flex",attrs:{size:"18",color:"white"}})]:[e._v("\n          Start\n        ")]],2)])],1)])},staticRenderFns:[]}},function(e,t,n){n(573);var r=n(9)(n(574),n(728),null,null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(114),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(71),s=n(575),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=n(116),l=n(576),f=n(30);t.default={name:"messaging-view",created:function(){this.initChat(),this.initMessage(),this.initAudio(),this.initTracking()},props:{widgetOpen:{type:Boolean,required:!0}},data:function(){return{channel:null,client:null,membersTyping:{},message:"",audio:null,abortingPlaybook:!1,initializingClient:!1,loadingChannel:!1,loadingMessages:!1,sendingTwilioMessage:!1,sendingOfflineMessage:!1,conversationStartedEventSent:!1,filestackClient:null,filestackOptions:{},filestackPickerOpen:!1,filestackUploadingImage:!1,filestackUploadedImage:null,offlineHoursMode:!1,offlineMessageText:"",showOffLineMessage:!1,isScrollingToBottom:!1}},computed:r({},(0,o.mapState)(["ASSETS_URL","channelId","channelSid","connectionErrorMode","FILESTACK_API_KEY","guestIdentity","guestToken","isAudioNotificationEnabled","isNeedHelpDisabledDuringPlaybooks","messages","needsPlaybookHelp","playbookAborted","playbookInstanceId","widgetGreetingMessage","widgetLogoUrl","widgetName"]),(0,o.mapGetters)(["agentIdentity","leadAgentIdentity"]),{busy:function(){return this.sendingTwilioMessage||this.filestackUploadingImage||this.abortingPlaybook},showSendBar:function(){return!this.showOffLineMessage&&(!this.playbookInstanceId||this.needsPlaybookHelp)},placeHolder:function(){return this.offlineHoursMode?"Leave a message":"Type a message"},uploadButtonDisabled:function(){return this.initializingClient||this.filestackPickerOpen},sendButtonDisabled:function(){return!(this.message||this.message.trim())||this.connectionErrorMode||this.initializingClient||this.busy}}),methods:r({},(0,o.mapActions)(["abortPlaybook","activateConnectionErrorMode","clearConnectionErrorMode","savePlayStepInstance","setNeedsPlaybookHelp","storeNewMessage","storeMessages","updateStoredMessage"]),{initChat:function(){var e=this;this.client=new l.Client(this.guestToken),this.initializingClient=!0,this.client.initialize().then(this.getChannel).then(this.getMessages).then(this.initChannelEvents).then(this.initConnectivityHandler).then(function(){e.initializingClient=!1,e.$emit("messaging-ready"),e.$nextTick(function(){var t=e.$refs.messageScrollArea;t.scrollTop=t.scrollHeight})})},initMessage:function(){var e=localStorage.getItem("SMITHCHAT_lastUnsentMessage");e&&(this.message=e,localStorage.removeItem("SMITHCHAT_lastUnsentMessage"))},initAudio:function(){this.ASSETS_URL&&this.isAudioNotificationEnabled&&(this.audio=new Audio(this.ASSETS_URL+"/static/chat/mp3/new-notification.mp3"),this.audio.volume=.6)},initTracking:function(){var e=localStorage.getItem("SMITHCHAT_guestName"),t=localStorage.getItem("SMITHCHAT_guestEmail");e&&t&&(this.$addGTMVariable({name:"user_first_name",value:e.split(" ")[0]}),this.$addGTMVariable({name:"user_short_email",value:t.split("@")[0].substring(0,5)+"@xxxx.xxx"}))},getChannel:function(){var e=this;return this.loadingChannel=!0,this.client.getChannelBySid(this.channelSid).then(function(t){e.channel=t,e.loadingChannel=!1}).catch(function(e){return e})},getMessages:function(){var e=this;return this.loadingMessages=!0,this.channel.getMessages(f.MESSAGE_PAGE_SIZE).then(function(t){var n=t.items;e.storeMessages(n),e.loadingMessages=!1}).catch(function(e){return e})},sendMessage:function(){var e=this;this.playbookInstanceId&&!this.playbookAborted?this.sendTwilioMessage({abort_playbook:!0,playbook_instance_id:this.playbookInstanceId}).then(function(){e.abortPlaybook()}):this.sendTwilioMessage()},sendTwilioMessage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=void 0;this.filestackUploadedImage?(n=this.filestackUploadedImage.url,t=r({},t,{media_type:f.MESSAGE_MEDIA_TYPE_IMAGE})):(n=this.message,t=r({},t,{media_type:f.MESSAGE_MEDIA_TYPE_TEXT})),this.sendingTwilioMessage=!0;var i=this.channel.sendMessage(n,t).then(function(){e.message="",e.filestackUploadedImage=null,e.sendingTwilioMessage=!1,e.offlineHoursMode?e.$addGTMEvent({event:"offline_message_sent"}):e.$addGTMEvent({event:"message_sent"})});return Promise.all([(0,c.phoneHome)(),i]).catch(this.onConnectionError)},onSendbarKeydown:function(e){this.channel&&(this.channel.typing(),13!==e.keyCode||e.shiftKey||(e.preventDefault(),!this.busy&&this.message.trim()&&this.sendMessage()))},scrollToBottom:function(){var e=this;if(!this.isScrollingToBottom){var t=this.$refs.messageScrollArea,n=t.offsetHeight;if(t.scrollHeight<t.scrollTop+n+150){var r={container:this.$refs.messageScrollArea,easing:"ease",duration:500,offset:0,force:!1,cancelable:!0,x:!1,y:!0,onStart:function(){e.isScrollingToBottom=!0},onCancel:function(){e.isScrollingToBottom=!1},onDone:function(){e.isScrollingToBottom=!1}};this.$nextTick(function(){e.$scrollTo(e.$refs.scrollBottomAnchor,500,r)})}}},askForPlaybookHelp:function(){this.setNeedsPlaybookHelp(!0)},initChannelEvents:function(){var e=this;return["memberJoined","memberLeft","messageAdded","messageUpdated","typingEnded","typingStarted"].forEach(function(t){e.channel.on(t,e.clearConnectionErrorMode)}),this.channel.on("connectionStateChanged",function(t){"connected"===t?e.clearConnectionErrorMode():"disconnected"===t&&e.activateConnectionErrorMode()}),this.channel.on("messageAdded",this.onMessageAdded),this.channel.on("messageUpdated",this.onMessageUpdated),this.channel.on("typingStarted",this.onTypingStarted),this.channel.on("typingEnded",this.onTypingEnded),Promise.resolve()},onMessageAdded:function(e){var t=e.author,n=e.attributes,r=n.conversation&&n.conversation.id,i=!!n.is_event,a=t===this.guestIdentity.id,o=i&&n.type===f.CONVERSATION_CHANNEL_CLOSED,s=i&&[f.CONVERSATION_TRANSLATION_ENABLED,f.CONVERSATION_TRANSLATION_DISABLED].includes(n.type);if(a&&!this.conversationStartedEventSent&&(this.$addGTMEvent({event:"conversation_started"}),this.$emit("conversation-started"),this.conversationStartedEventSent=!0),a||this.clearMembersTyping(),o&&r&&this.$emit("conversation-closed",r),n.offline_hours){if(f.SIMULATOR_MODE)return;this.offlineHoursMode=!0}n.closing_message?(this.showOffLineMessage=!0,this.offlineMessageText=e.body):this.storeNewMessage(e),!this.isAudioNotificationEnabled||a||i||f.SIMULATOR_MODE||this.audio.play(),i&&!s||this.scrollToBottom()},onMessageUpdated:function(e){var t=e.message;t.channel.sid===this.channelSid&&this.updateStoredMessage(t)},onTypingStarted:function(e){var t=this,n=e.state,r=this.agentIdentity(n.identity);r&&a.default.set(this.membersTyping,r.id,r),this.$nextTick(function(){t.scrollToBottom()})},onTypingEnded:function(e){a.default.delete(this.membersTyping,e.state.identity)},clearMembersTyping:function(){this.membersTyping={}},onTextareaResize:function(){var e=this.$refs.messageScrollArea,t=e.scrollHeight,n=e.scrollTop,r=e.clientHeight;Math.abs(t-n-r)<=20&&this.scrollToBottom()},onImageUploadClick:function(){var e=this;this.FILESTACK_API_KEY&&(this.filestackClient||(this.filestackClient=u.init(this.FILESTACK_API_KEY),this.filestackOptions={accept:["image/jpeg","image/png","image/gif"],fromSources:["local_file_system"],maxFiles:1,onOpen:function(){e.filestackPickerOpen=!0},onClose:function(){e.filestackPickerOpen=!1},onFileUploadStarted:function(){e.filestackUploadingImage=!0},onFileUploadFinished:function(){e.filestackUploadingImage=!1},onFileUploadFailed:function(){e.filestackUploadingImage=!1},onUploadDone:function(t){t.filesUploaded.length&&(e.filestackUploadedImage=t.filesUploaded[0],e.sendMessage())}}),this.filestackClient.picker(this.filestackOptions).open())},onPlaybookStepDone:function(e){var t=this,n=e.message,r=e.value,i=e.skipped,a=n.attributes.step,o={data:i?"":r,field_to_store:a.field_to_store,identity:this.guestIdentity.id,media_type:f.MESSAGE_MEDIA_TYPE_TEXT,playbook_instance_id:this.playbookInstanceId,playstep_answer_type:a.answer_type,question_message_sid:n.sid};this.sendingTwilioMessage=!0,this.channel.sendMessage(r,o).then(function(){t.sendingTwilioMessage=!1}).catch(this.onConnectionError),this.setNeedsPlaybookHelp(!1)},initConnectivityHandler:function(){var e=this,t=this.client.options.twilsockClient.channel.websocket,n=t.close;return t.close=function(){n.call(t),e.onConnectionError()},Promise.resolve()},onConnectionError:function(){localStorage.setItem("SMITHCHAT_lastUnsentMessage",this.message),this.activateConnectionErrorMode()},onEnteredOfflineMode:function(){this.$refs.sendBarTextarea&&(this.$refs.sendBarTextarea.style.height="80px")},requestCall:function(){this.message="Please give me a call",this.sendMessage()}}),watch:{showSendBar:function(e,t){e&&!t&&this.scrollToBottom()},connectionErrorMode:function(e,t){e&&(this.onConnectionError(),this.scrollToBottom())},offlineHoursMode:function(e,t){e&&this.onEnteredOfflineMode()},widgetOpen:function(e,t){var n=!!e,r=!t;if(n&&r){var i=this.$refs.messageScrollArea;i.scrollTop=i.scrollHeight}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e,t){function n(){this.constructor=e}tn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}u((r=r.apply(e,t||[])).next())})}function a(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){u.label=n[1];break}if(6===n[0]&&u.label<o[1]){u.label=o[1],o=n;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(n);break}o[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function o(e,t){return"function"==typeof t?sn(t):t}function s(e,t){!0!==e&&(rn(t)?t=t():an(t)&&(t='Assert failed (turn on "Pause on exceptions" in your Source panel)'),s.fail(t))}function u(e,t){return"{"+hn(e)+" | "+sn(t)+"}"}function c(e,t,n){function r(n,o){a&&vn(this,r),o=o||[i];var s=Tn(e,n,o);return cn(t(s),function(){return"Invalid value "+cn.stringify(n)+" supplied to "+o.join("/")}),s}cn(rn(e),function(){return"Invalid argument type "+cn.stringify(e)+" supplied to refinement(type, predicate, [name]) combinator (expected a type)"}),cn(rn(t),function(){return"Invalid argument predicate supplied to refinement(type, predicate, [name]) combinator (expected a function)"}),cn(Pn(n),function(){return"Invalid argument name "+cn.stringify(n)+" supplied to refinement(type, predicate, [name]) combinator (expected a string)"});var i=n||u(e,t),a=On(e);return r.meta={kind:"subtype",type:e,predicate:t,name:n,identity:a},r.displayName=i,r.is=function(n){return An(n,e)&&t(n)},r.update=function(e,t){return r(cn.update(e,t))},r}function l(e,t){return"{[key: "+hn(e)+"]: "+hn(t)+"}"}function f(e,t,n){function r(n,r){r=r||[i],cn(dn(n),function(){return"Invalid value "+cn.stringify(n)+" supplied to "+r.join("/")});var s=!0,u={};for(var c in n)if(n.hasOwnProperty(c)){c=Tn(e,c,r.concat(a));var l=n[c],f=Tn(t,l,r.concat(c+": "+o));s=s&&l===f,u[c]=f}return s&&(u=n),Object.freeze(u),u}cn(rn(e),function(){return"Invalid argument domain "+cn.stringify(e)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),cn(rn(t),function(){return"Invalid argument codomain "+cn.stringify(t)+" supplied to dict(domain, codomain, [name]) combinator (expected a type)"}),cn(Pn(n),function(){return"Invalid argument name "+cn.stringify(n)+" supplied to dict(domain, codomain, [name]) combinator (expected a string)"});var i=n||l(e,t),a=hn(e),o=hn(t),s=On(e)&&On(t);return r.meta={kind:"dict",domain:e,codomain:t,name:n,identity:s},r.displayName=i,r.is=function(n){if(!dn(n))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(!An(r,e)||!An(n[r],t)))return!1;return!0},r.update=function(e,t){return r(cn.update(e,t))},r}function d(e){return Object.keys(e).map(function(e){return cn.stringify(e)}).join(" | ")}function p(e,t){function n(t,i){return vn(this,n),i=i||[r],cn(n.is(t),function(){return"Invalid value "+cn.stringify(t)+" supplied to "+i.join("/")+" (expected one of "+cn.stringify(Object.keys(e))+")"}),t}cn(dn(e),function(){return"Invalid argument map "+cn.stringify(e)+" supplied to enums(map, [name]) combinator (expected a dictionary of String -> String | Number)"}),cn(Pn(t),function(){return"Invalid argument name "+cn.stringify(t)+" supplied to enums(map, [name]) combinator (expected a string)"});var r=t||d(e);return n.meta={kind:"enums",map:e,name:t,identity:!0},n.displayName=r,n.is=function(t){return e.hasOwnProperty(t)},n}function h(e){return"Array<"+hn(e)+">"}function v(e,t){function n(t,n){n=n||[r],cn(fn(t),function(){return"Invalid value "+cn.stringify(t)+" supplied to "+n.join("/")+" (expected an array of "+i+")"});for(var a=!0,o=[],s=0,u=t.length;s<u;s++){var c=t[s],l=Tn(e,c,n.concat(s+": "+i));a=a&&c===l,o.push(l)}return a&&(o=t),Object.freeze(o),o}cn(rn(e),function(){return"Invalid argument type "+cn.stringify(e)+" supplied to list(type, [name]) combinator (expected a type)"}),cn(Pn(t),function(){return"Invalid argument name "+cn.stringify(t)+" supplied to list(type, [name]) combinator (expected a string)"});var r=t||h(e),i=hn(e),a=On(e);return n.meta={kind:"list",type:e,name:t,identity:a},n.displayName=r,n.is=function(t){return fn(t)&&t.every(function(t){return An(t,e)})},n.update=function(e,t){return n(cn.update(e,t))},n}function m(e){return"?"+hn(e)}function y(e,t){function n(t,r){return i&&vn(this,n),Sn.is(t)?t:Tn(e,t,r)}if(Hn(e)||e===yn||e===Sn)return e;cn(rn(e),function(){return"Invalid argument type "+cn.stringify(e)+" supplied to maybe(type, [name]) combinator (expected a type)"}),cn(Pn(t),function(){return"Invalid argument name "+cn.stringify(t)+" supplied to maybe(type, [name]) combinator (expected a string)"});var r=t||m(e),i=On(e);return n.meta={kind:"maybe",type:e,name:t,identity:i},n.displayName=r,n.is=function(t){return Sn.is(t)||An(t,e)},n}function g(e){return"{"+Object.keys(e).map(function(t){return t+": "+hn(e[t])}).join(", ")+"}"}function b(e){return pn(e)&&"subtype"===e.meta.kind}function _(e){return b(e)?[e.meta.predicate].concat(_(e.meta.type)):[]}function w(e){return b(e)?w(e.meta.type):e}function k(e){return{predicates:_(e),unrefinedType:w(e)}}function x(e,t,n){var r=e.reduce(function(e,t){return Mn(e,t)},t);return n&&(r.displayName=n,r.meta.name=n),r}function S(e){return dn(e)?e:e.meta.props}function E(e){return dn(e)?null:e.meta.defaultProps}function C(e,t){Array.prototype.push.apply(e,t)}function P(e,t,n){cn(rn(e),function(){return"Invalid argument combinator supplied to extend(combinator, mixins, options), expected a function"}),cn(fn(t),function(){return"Invalid argument mixins supplied to extend(combinator, mixins, options), expected an array"});var r={},i={},a=[],o={};t.forEach(function(e,t){var n=Kn(e),s=n.unrefinedType;cn(dn(s)||Wn(s)||Gn(s),function(){return"Invalid argument mixins["+t+"] supplied to extend(combinator, mixins, options), expected an object, struct, interface or a refinement (of struct or interface)"}),C(a,n.predicates),Fn(r,S(s)),Fn(i,s.prototype),Fn(o,E(s),!0)}),n=e.getOptions(n),n.defaultProps=Fn(o,n.defaultProps,!0);var s=x(a,e(r,{strict:n.strict,defaultProps:n.defaultProps}),n.name);return Fn(s.prototype,i),s}function O(e){return"Struct"+Yn(e)}function T(e,t){return Qn(M,e,t)}function A(e){return dn(e)||(e=an(e)?{}:{name:e}),e.hasOwnProperty("strict")||(e.strict=M.strict),e.hasOwnProperty("defaultProps")||(e.defaultProps={}),e}function M(e,t){function n(t,r){if(n.is(t))return t;if(r=r||[o],cn(dn(t),function(){return"Invalid value "+cn.stringify(t)+" supplied to "+r.join("/")+" (expected an object)"}),i)for(s in t)t.hasOwnProperty(s)&&cn(e.hasOwnProperty(s),function(){return'Invalid additional prop "'+s+'" supplied to '+r.join("/")});if(!(this instanceof n))return new n(t,r);for(var s in e)if(e.hasOwnProperty(s)){var u=e[s],c=t[s];void 0===c&&(c=a[s]),this[s]=Tn(u,c,r.concat(s+": "+hn(u)))}Object.freeze(this)}t=A(t);var r=t.name,i=t.strict,a=t.defaultProps;cn(Ln(jn,xn).is(e),function(){return"Invalid argument props "+cn.stringify(e)+" supplied to struct(props, [options]) combinator (expected a dictionary String -> Type)"}),cn(Pn(r),function(){return"Invalid argument name "+cn.stringify(r)+" supplied to struct(props, [options]) combinator (expected a string)"}),cn(bn(i),function(){return"Invalid argument strict "+cn.stringify(i)+" supplied to struct(props, [options]) combinator (expected a boolean)"}),cn(dn(a),function(){return"Invalid argument defaultProps "+cn.stringify(a)+" supplied to struct(props, [options]) combinator (expected an object)"});var o=r||O(e);return n.meta={kind:"struct",props:e,name:r,identity:!1,strict:i,defaultProps:a},n.displayName=o,n.is=function(e){return e instanceof n},n.update=function(e,t){return new n(cn.update(e,t))},n.extend=function(e,t){return T([n].concat(e),t)},n}function I(e){return"["+e.map(hn).join(", ")+"]"}function D(e,t){function n(t,n){n=n||[r],cn(fn(t)&&t.length===e.length,function(){return"Invalid value "+cn.stringify(t)+" supplied to "+n.join("/")+" (expected an array of length "+e.length+")"});for(var i=!0,a=[],o=0,s=e.length;o<s;o++){var u=e[o],c=t[o],l=Tn(u,c,n.concat(o+": "+hn(u)));i=i&&c===l,a.push(l)}return i&&(a=t),Object.freeze(a),a}cn(fn(e)&&e.every(rn),function(){return"Invalid argument types "+cn.stringify(e)+" supplied to tuple(types, [name]) combinator (expected an array of types)"}),cn(Pn(t),function(){return"Invalid argument name "+cn.stringify(t)+" supplied to tuple(types, [name]) combinator (expected a string)"});var r=t||I(e),i=e.every(On);return n.meta={kind:"tuple",types:e,name:t,identity:i},n.displayName=r,n.is=function(t){return fn(t)&&t.length===e.length&&e.every(function(e,n){return An(t[n],e)})},n.update=function(e,t){return n(cn.update(e,t))},n}function R(e){return e.map(hn).join(" | ")}function j(e,t){function n(e,t){var a=n.dispatch(e);return!a&&n.is(e)?e:(i&&vn(this,n),t=t||[r],cn(rn(a),function(){return"Invalid value "+cn.stringify(e)+" supplied to "+t.join("/")+" (no constructor returned by dispatch)"}),t[t.length-1]+="("+hn(a)+")",Tn(a,e,t))}cn(fn(e)&&e.every(rn)&&e.length>=2,function(){return"Invalid argument types "+cn.stringify(e)+" supplied to union(types, [name]) combinator (expected an array of at least 2 types)"}),cn(Pn(t),function(){return"Invalid argument name "+cn.stringify(t)+" supplied to union(types, [name]) combinator (expected a string)"});var r=t||R(e),i=e.every(On);return n.meta={kind:"union",types:e,name:t,identity:i},n.displayName=r,n.is=function(t){return e.some(function(e){return An(t,e)})},n.dispatch=function(t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(Un(i)){var a=i.dispatch(t);if(!an(a))return a}else if(An(t,i))return i}},n.update=function(e,t){return n(cn.update(e,t))},n}function N(e,t){return"("+e.map(hn).join(", ")+") => "+hn(t)}function L(e){return xn.is(e)&&dn(e.instrumentation)}function F(e){for(var t=e.length,n=!1,r=t-1;r>=0;r--){var i=e[r];if(!pn(i)||"maybe"!==i.meta.kind)return r+1;n=!0}return n?0:t}function U(e,t,n){function r(e,t){return L(e)?(t=t||[i],cn(r.is(e),function(){return"Invalid value "+cn.stringify(e)+" supplied to "+t.join("/")}),e):r.of(e)}e=fn(e)?e:[e],cn(zn(xn).is(e),function(){return"Invalid argument domain "+cn.stringify(e)+" supplied to func(domain, codomain, [name]) combinator (expected an array of types)"}),cn(xn.is(t),function(){return"Invalid argument codomain "+cn.stringify(t)+" supplied to func(domain, codomain, [name]) combinator (expected a type)"}),cn(Pn(n),function(){return"Invalid argument name "+cn.stringify(n)+" supplied to func(domain, codomain, [name]) combinator (expected a string)"});var i=n||N(e,t),a=e.length,o=F(e);return r.meta={kind:"func",domain:e,codomain:t,name:n,identity:!0},r.displayName=i,r.is=function(n){return L(n)&&n.instrumentation.domain.length===a&&n.instrumentation.domain.every(function(t,n){return t===e[n]})&&n.instrumentation.codomain===t},r.of=function(n,s){function u(){var r=Array.prototype.slice.call(arguments),u=r.length,c=s?u:Math.max(u,o);if(Xn(e.slice(0,c),"arguments of function "+i)(r),s&&u<a){cn(u>0,"Invalid arguments.length = 0 for curried function "+i);var l=Function.prototype.bind.apply(n,[this].concat(r));return U(e.slice(u),t).of(l,!0)}return Tn(t,n.apply(this,r))}return cn(xn.is(n),function(){return"Invalid argument f supplied to func.of "+i+" (expected a function)"}),cn(an(s)||bn(s),function(){return"Invalid argument curried "+cn.stringify(s)+" supplied to func.of "+i+" (expected a boolean)"}),r.is(n)?n:(u.instrumentation={domain:e,codomain:t,f:n},u.displayName=sn(n),u)},r}function $(e){return e.map(hn).join(" & ")}function B(e,t){function n(e,t){return i&&On(this,n),t=t||[r],cn(n.is(e),function(){return"Invalid value "+cn.stringify(e)+" supplied to "+t.join("/")}),e}cn(fn(e)&&e.every(rn)&&e.length>=2,function(){return"Invalid argument types "+cn.stringify(e)+" supplied to intersection(types, [name]) combinator (expected an array of at least 2 types)"}),cn(Pn(t),function(){return"Invalid argument name "+cn.stringify(t)+" supplied to intersection(types, [name]) combinator (expected a string)"});var r=t||$(e),i=e.every(tr);return n.meta={kind:"intersection",types:e,name:t,identity:i},n.displayName=r,n.is=function(t){return e.every(function(e){return An(t,e)})},n.update=function(e,t){return n(cn.update(e,t))},n}function q(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function z(e,t){return Qn(V,e,t)}function H(e){return dn(e)||(e=an(e)?{}:{name:e}),e.hasOwnProperty("strict")||(e.strict=V.strict),e}function V(e,t){function n(t,n){if(n=n||[a],cn(!an(t),function(){return"Invalid value "+t+" supplied to "+n.join("/")}),i)for(var r in t)cn(e.hasOwnProperty(r),function(){return'Invalid additional prop "'+r+'" supplied to '+n.join("/")});var s=!0,u=o?{}:rr({},t);for(var c in e){var l=e[c],f=t[c],d=Tn(l,f,n.concat(c+": "+hn(l)));s=s&&f===d,u[c]=d}return s&&(u=t),Object.freeze(u),u}t=H(t);var r=t.name,i=t.strict;cn(Ln(jn,xn).is(e),function(){return"Invalid argument props "+cn.stringify(e)+" supplied to interface(props, [options]) combinator (expected a dictionary String -> Type)"}),cn(Pn(r),function(){return"Invalid argument name "+cn.stringify(r)+" supplied to interface(props, [options]) combinator (expected a string)"}),cn(bn(i),function(){return"Invalid argument strict "+cn.stringify(i)+" supplied to struct(props, [options]) combinator (expected a boolean)"});var a=r||Yn(e),o=Object.keys(e).map(function(t){return e[t]}).every(On);return n.meta={kind:"interface",props:e,name:r,identity:o,strict:i},n.displayName=a,n.is=function(t){if(an(t))return!1;if(i)for(var n in t)if(!e.hasOwnProperty(n))return!1;for(var r in e)if(!An(t[r],e[r]))return!1;return!0},n.update=function(e,t){return n(cn.update(e,t))},n.extend=function(e,t){return z([n].concat(e),t)},n}function Y(e){return dn(e)?e instanceof Date||e instanceof RegExp?e:rr({},e):fn(e)?e.concat():e}function W(e){return K.commands.hasOwnProperty(e)}function G(e){return K.commands[e]}function K(e,t){cn(dn(t),function(){return"Invalid argument patch "+cn.stringify(t)+" supplied to function update(instance, patch): expected an object containing commands"});var n,r=e,i=!1;for(var a in t)t.hasOwnProperty(a)&&(W(a)?(n=G(a)(t[a],r),n!==e?(i=!0,r=n):r=e):(r===e&&(r=Y(e)),n=K(r[a],t[a]),i=i||n!==r[a],r[a]=n));return i?r:e}function Q(e,t){return cn(rn(e),"Invalid argument f supplied to immutability helper { $apply: f } (expected a function)"),e(t)}function J(e,t){return cn(fn(e),"Invalid argument elements supplied to immutability helper { $push: elements } (expected an array)"),cn(fn(t),"Invalid value supplied to immutability helper $push (expected an array)"),e.length>0?t.concat(e):t}function X(e,t){if(cn(fn(e),"Invalid argument keys supplied to immutability helper { $remove: keys } (expected an array)"),cn(dn(t),"Invalid value supplied to immutability helper $remove (expected an object)"),e.length>0){t=Y(t);for(var n=0,r=e.length;n<r;n++)delete t[e[n]]}return t}function Z(e){return e}function ee(e,t){return cn(fn(e)&&e.every(fn),"Invalid argument splices supplied to immutability helper { $splice: splices } (expected an array of arrays)"),cn(fn(t),"Invalid value supplied to immutability helper $splice (expected an array)"),e.length>0?(t=Y(t),e.reduce(function(e,t){return e.splice.apply(e,t),e},t)):t}function te(e,t){if(cn(dn(e),"Invalid argument config supplied to immutability helper { $swap: config } (expected an object)"),cn(En(e.from),"Invalid argument config.from supplied to immutability helper { $swap: config } (expected a number)"),cn(En(e.to),"Invalid argument config.to supplied to immutability helper { $swap: config } (expected a number)"),cn(fn(t),"Invalid value supplied to immutability helper $swap (expected an array)"),e.from!==e.to){t=Y(t);var n=t[e.to];t[e.to]=t[e.from],t[e.from]=n}return t}function ne(e,t){return cn(fn(e),"Invalid argument elements supplied to immutability helper {$unshift: elements} (expected an array)"),cn(fn(t),"Invalid value supplied to immutability helper $unshift (expected an array)"),e.length>0?e.concat(t):t}function re(e,t){var n=!1,r=Y(t);for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i],n=n||r[i]!==t[i]);return n?r:t}function ie(e,t,n){var r=sr.getTypeName(t),i=n.length?"/"+n.join("/")+": "+r:r;return"Invalid value "+ur(e)+" supplied to "+i}function ae(e,t,n,r){return sr.Function.is(t.getValidationErrorMessage)?t.getValidationErrorMessage(e,n,r):ie(e,t,n)}function oe(e,t,n){n=n||{};var r=sr.Array.is(n)?n:n.path||[];return new fr(se(e,t,r,n))}function se(e,t,n,r){return sr.isType(t)?dr[t.meta.kind](e,t,n,r):dr.es6classes(e,t,n,r)}function ue(e,t){return t={exports:{}},e(t,t.exports),t.exports}function ce(e){return e&&e.default||e}function le(e){return null!==e&&"object"==typeof e}function fe(e){if(e)return de(e)}function de(e){for(var t in fe.prototype)e[t]=fe.prototype[t];return e}function pe(e){if(e)return he(e)}function he(e){for(var t in pe.prototype)e[t]=pe.prototype[t];return e}function ve(){this._defaults=[]}function me(e,t){function n(t,n,a){if(e){e--;var o=new Promise(function(e){e(t.apply(n,a))});return o.then(r,r),o}return new Promise(function(e){i.push(new Gr(e,t,n,a))})}function r(){if(e++,!i.isEmpty()){var t=i.shift();t.resolve(n(t.fn,t.self,t.args))}}var i=new Kr;if(void 0!==t&&"function"!=typeof t)throw new TypeError("Expected throat fn to be a function but got "+typeof t);return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n(t,this,e)}}function ye(e,t){t=t||{};for(var n in e)t[n]=e[n];return t}function ge(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",a=n?"!":"",o=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+i+"typeof "+t+r+'"object"'+i+o+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+o+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}function be(e,t){switch(e.length){case 1:return ge(e[0],t,!0);default:var n="",r=we(e);r.array&&r.object&&(n=r.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var i in r)n+=(n?" && ":"")+ge(i,t,!0);return n}}function _e(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var i=t[r];vi[i]?n[n.length]=i:"array"===e&&"array"===i&&(n[n.length]=i)}if(n.length)return n}else{if(vi[t])return[t];if("array"===e&&"array"===t)return["array"]}}function we(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}function ke(e){return"number"==typeof e?"["+e+"]":mi.test(e)?"."+e:"['"+xe(e)+"']"}function xe(e){return e.replace(yi,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Se(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0}function Ee(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")}function Ce(e){return e.replace(gi,"").replace(bi,"").replace(_i,"if (!($1))")}function Pe(e,t){var n=e.match(wi);return n&&2==n.length&&(e=t?e.replace(xi,"").replace(Ci,Pi):e.replace(ki,"").replace(Si,Ei)),n=e.match(Oi),n&&3===n.length?e.replace(Ti,""):e}function Oe(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0}function Te(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0}function Ae(e){return"'"+xe(e)+"'"}function Me(e,t,n,r){return Re(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")}function Ie(e,t,n){return Re(e,Ae(n?"/"+Le(t):ke(t)))}function De(e,t,n){var r,i,a,o;if(""===e)return"rootData";if("/"==e[0]){if(!Ai.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,a="rootData"}else{if(!(o=e.match(Mi)))throw new Error("Invalid JSON-pointer: "+e);if(r=+o[1],"#"==(i=o[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(a="data"+(t-r||""),!i)return a}for(var s=a,u=i.split("/"),c=0;c<u.length;c++){var l=u[c];l&&(a+=ke(Fe(l)),s+=" && "+a)}return s}function Re(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function je(e){return Fe(decodeURIComponent(e))}function Ne(e){return encodeURIComponent(Le(e))}function Le(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function Fe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Ue(e){hi.copy(e,this)}function $e(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return $e.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof Ii)return He(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,a,o,s=Be.call(this,t,n);return s&&(i=s.schema,t=s.root,o=s.baseId),i instanceof Ii?a=i.validate||e.call(this,i.schema,t,void 0,o):void 0!==i&&(a=He(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,o)),a}function Be(e,t){var n=ui.parse(t),r=Ge(n),i=We(this._getId(e.schema));if(0===Object.keys(e.schema).length||r!==i){var a=Ke(r),o=this._refs[a];if("string"==typeof o)return qe.call(this,e,o,n);if(o instanceof Ii)o.validate||this._compile(o),e=o;else{if(!((o=this._schemas[a])instanceof Ii))return;if(o.validate||this._compile(o),a==Ke(t))return{schema:o,root:e,baseId:i};e=o}if(!e.schema)return;i=We(this._getId(e.schema))}return ze.call(this,n,i,e.schema,e)}function qe(e,t,n){var r=Be.call(this,e,t);if(r){var i=r.schema,a=r.baseId;e=r.root;var o=this._getId(i);return o&&(a=Qe(a,o)),ze.call(this,n,a,i,e)}}function ze(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var o=i[a];if(o){if(o=hi.unescapeFragment(o),void 0===(n=n[o]))break;var s;if(!ji[o]&&(s=this._getId(n),s&&(t=Qe(t,s)),n.$ref)){var u=Qe(t,n.$ref),c=Be.call(this,r,u);c&&(n=c.schema,r=c.root,t=c.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}function He(e,t){return!1!==t&&(void 0===t||!0===t?Ve(e):t?Ye(e)<=t:void 0)}function Ve(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&!Ve(t))return!1}else for(var r in e){if("$ref"==r)return!1;if("object"==typeof(t=e[r])&&!Ve(t))return!1}return!0}function Ye(e){var t,n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],"object"==typeof t&&(n+=Ye(t)),n==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(Ni[i])n++;else if(t=e[i],"object"==typeof t&&(n+=Ye(t)+1),n==1/0)return 1/0}return n}function We(e,t){return!1!==t&&(e=Ke(e)),Ge(ui.parse(e))}function Ge(e){return ui.serialize(e).split("#")[0]+"#"}function Ke(e){return e?e.replace(Li,""):""}function Qe(e,t){return t=Ke(t),ui.resolve(e,t)}function Je(e){var t=Ke(this._getId(e)),n={"":t},r={"":We(t,!1)},i={},a=this;return Di(e,{allKeys:!0},function(e,t,o,s,u,c,l){if(""!==t){var f=a._getId(e),d=n[s],p=r[s]+"/"+u;if(void 0!==l&&(p+="/"+("number"==typeof l?l:hi.escapeFragment(l))),"string"==typeof f){f=d=Ke(d?ui.resolve(d,f):f);var h=a._refs[f];if("string"==typeof h&&(h=a._refs[h]),h&&h.schema){if(!di(e,h.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=Ke(p))if("#"==f[0]){if(i[f]&&!di(e,i[f]))throw new Error('id "'+f+'" resolves to more than one schema');i[f]=e}else a._refs[f]=p}n[t]=d,r[t]=p}}),i}function Xe(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}function Ze(e,t,n){this.message=n||Ze.message(e,t),this.missingRef=Ri.url(e,t),this.missingSchema=Ri.normalizeId(Ri.fullPath(this.missingRef))}function et(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}function tt(e,t,n,r){function i(){var e=S.validate,t=e.apply(this,arguments);return i.errors=e.errors,t}function a(e,n,r,i){var a=!n||n&&n.schema==e;if(n.schema!=t.schema)return tt.call(h,e,n,r,i);var s=!0===e.$async,u=$i({isTop:!0,schema:e,isRoot:a,baseId:i,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Fi.MissingRef,RULES:C,validate:$i,util:hi,resolve:Ri,resolveRef:o,usePattern:f,useDefault:d,useCustomRule:p,opts:v,formats:E,logger:h.logger,self:h});u=ct(m,st)+ct(g,at)+ct(_,ot)+ct(k,ut)+u,v.processCode&&(u=v.processCode(u));var c;try{c=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",u)(h,C,E,t,m,_,k,di,Bi,qi),m[0]=c}catch(e){throw h.logger.error("Error compiling schema, function code:",u),e}return c.schema=e,c.errors=null,c.refs=y,c.refVal=m,c.root=a?c:n,s&&(c.$async=!0),!0===v.sourceCode&&(c.source={code:u,patterns:g,defaults:_}),c}function o(e,r,i){r=Ri.url(e,r);var o,f,d=y[r];if(void 0!==d)return o=m[d],f="refVal["+d+"]",l(o,f);if(!i&&t.refs){var p=t.refs[r];if(void 0!==p)return o=t.refVal[p],f=s(r,o),l(o,f)}f=s(r);var g=Ri.call(h,a,t,r);if(void 0===g){var b=n&&n[r];b&&(g=Ri.inlineRef(b,v.inlineRefs)?b:tt.call(h,b,t,n,e))}if(void 0!==g)return c(r,g),l(g,f);u(r)}function s(e,t){var n=m.length;return m[n]=t,y[e]=n,"refVal"+n}function u(e){delete y[e]}function c(e,t){var n=y[e];m[n]=t}function l(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function f(e){var t=b[e];return void 0===t&&(t=b[e]=g.length,g[t]=e),"pattern"+t}function d(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return hi.toQuotedString(e);case"object":if(null===e)return"null";var t=Ui(e),n=w[t];return void 0===n&&(n=w[t]=_.length,_[n]=e),"default"+n}}function p(e,t,n,r){var i=e.definition.validateSchema;if(i&&!1!==h._opts.validateSchema){if(!i(t)){var a="keyword schema is invalid: "+h.errorsText(i.errors);if("log"!=h._opts.validateSchema)throw new Error(a);h.logger.error(a)}}var o,s=e.definition.compile,u=e.definition.inline,c=e.definition.macro;if(s)o=s.call(h,t,n,r);else if(c)o=c.call(h,t,n,r),!1!==v.validateSchema&&h.validateSchema(o,!0);else if(u)o=u.call(h,r,e.keyword,t,n);else if(!(o=e.definition.validate))return;if(void 0===o)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var l=k.length;return k[l]=o,{code:"customRule"+l,validate:o}}var h=this,v=this._opts,m=[void 0],y={},g=[],b={},_=[],w={},k=[];t=t||{schema:e,refVal:m,refs:y};var x=nt.call(this,e,t,r),S=this._compilations[x.index];if(x.compiling)return S.callValidate=i;var E=this._formats,C=this.RULES;try{var P=a(e,t,n,r);S.validate=P;var O=S.callValidate;return O&&(O.schema=P.schema,O.errors=null,O.refs=P.refs,O.refVal=P.refVal,O.root=P.root,O.$async=P.$async,v.sourceCode&&(O.source=P.source)),P}finally{rt.call(this,e,t,r)}}function nt(e,t,n){var r=it.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function rt(e,t,n){var r=it.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function it(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function at(e,t){return"var pattern"+e+" = new RegExp("+hi.toQuotedString(t[e])+");"}function ot(e){return"var default"+e+" = defaults["+e+"];"}function st(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function ut(e){return"var customRule"+e+" = customRules["+e+"];"}function ct(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}function lt(e){return e="full"==e?"full":"fast",hi.copy(lt[e])}function ft(e){return e%4==0&&(e%100!=0||e%400==0)}function dt(e){var t=e.match(Vi);if(!t)return!1;var n=+t[1],r=+t[2],i=+t[3];return r>=1&&r<=12&&i>=1&&i<=(2==r&&ft(n)?29:Yi[r])}function pt(e,t){var n=e.match(Wi);if(!n)return!1;var r=n[1],i=n[2],a=n[3],o=n[5];return(r<=23&&i<=59&&a<=59||23==r&&59==i&&60==a)&&(!t||o)}function ht(e){var t=e.split(ia);return 2==t.length&&dt(t[0])&&pt(t[1],!0)}function vt(e){return e.length<=255&&Gi.test(e)}function mt(e){return aa.test(e)&&Ki.test(e)}function yt(e){if(oa.test(e))return!1;try{return!0}catch(e){return!1}}function gt(e,t,n){function r(e){var t=e.$schema;return t&&!a.getSchema(t)?gt.call(a,{$ref:t},!0):Promise.resolve()}function i(e){try{return a._compile(e)}catch(n){if(n instanceof ja)return function(n){function o(){delete a._loadingSchemas[u]}function s(e){return a._refs[e]||a._schemas[e]}var u=n.missingSchema;if(s(u))throw new Error("Schema "+u+" is loaded but "+n.missingRef+" cannot be resolved");var c=a._loadingSchemas[u];return c||(c=a._loadingSchemas[u]=a._opts.loadSchema(u),c.then(o,o)),c.then(function(e){if(!s(u))return r(e).then(function(){s(u)||a.addSchema(e,u,void 0,t)})}).then(function(){return i(e)})}(n);throw n}}var a=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(n=t,t=void 0);var o=r(e).then(function(){var n=a._addSchema(e,void 0,t);return n.validate||i(n)});return n&&o.then(function(e){n(null,e)},n),o}function bt(e,t){function n(e,t,n){for(var r,a=0;a<i.length;a++){var o=i[a];if(o.type==t){r=o;break}}r||(r={type:t,rules:[]},i.push(r));var s={keyword:e,definition:n,custom:!0,code:La,implements:n.implements};r.rules.push(s),i.custom[e]=s}function r(e){if(!i.types[e])throw new Error("Unknown type "+e)}var i=this.RULES;if(i.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!Fa.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){if(t.macro&&void 0!==t.valid)throw new Error('"valid" option cannot be used with macro keywords');var a=t.type;if(Array.isArray(a)){var o,s=a.length;for(o=0;o<s;o++)r(a[o]);for(o=0;o<s;o++)n(e,a[o],t)}else a&&r(a),n(e,a,t);var u=!0===t.$data&&this._opts.$data;if(u&&!t.validate)throw new Error('$data support: "validate" function is not defined');var c=t.metaSchema;c&&(u&&(c={anyOf:[c,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(c,!0))}return i.keywords[e]=i.all[e]=!0,this}function _t(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function wt(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this}function kt(e){if(!(this instanceof kt))return new kt(e);e=this._opts=hi.copy(e)||{},Wt(this),this._schemas={},this._refs={},this._fragments={},this._formats=ra(e.format);var t=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(e){return t.test(e)},this._cache=e.cache||new Hi,this._loadingSchemas={},this._compilations=[],this.RULES=Ia(),this._getId=Nt(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=Ui),this._metaOpts=Yt(this),e.formats&&Ht(this),qt(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),zt(this)}function xt(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return!0!==n.$async&&(this.errors=n.errors),i}function St(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)}function Et(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,n,r);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return t=Ri.normalizeId(t||a),Vt(this,t),this._schemas[t]=this._addSchema(e,n,r,!0),this}function Ct(e,t,n){return this.addSchema(e,t,n,!0),this}function Pt(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||Ot(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this._formats.uri;this._formats.uri="function"==typeof r?this._schemaUriFormatFunc:this._schemaUriFormat;var i;try{i=this.validate(n,e)}finally{this._formats.uri=r}if(!i&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return i}function Ot(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(io)?io:void 0,e._opts.defaultMeta}function Tt(e){var t=Mt(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return At(this,e)}}function At(e,t){var n=Ri.schema.call(e,{schema:{}},t);if(n){var r=n.schema,i=n.root,a=n.baseId,o=zi.call(e,r,i,void 0,a);return e._fragments[t]=new Ii({ref:t,fragment:!0,schema:r,root:i,baseId:a,validate:o}),o}}function Mt(e,t){return t=Ri.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function It(e){if(e instanceof RegExp)return Dt(this,this._schemas,e),Dt(this,this._refs,e),this;switch(typeof e){case"undefined":return Dt(this,this._schemas),Dt(this,this._refs),this._cache.clear(),this;case"string":var t=Mt(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var i=this._getId(e);i&&(i=Ri.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this}function Dt(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function Rt(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,a=i?i(e):e,o=this._cache.get(a);if(o)return o;r=r||!1!==this._opts.addUsedSchema;var s=Ri.normalizeId(this._getId(e));s&&r&&Vt(this,s);var u,c=!1!==this._opts.validateSchema&&!t;c&&!(u=s&&s==Ri.normalizeId(e.$schema))&&this.validateSchema(e,!0);var l=Ri.ids.call(this,e),f=new Ii({id:s,schema:e,localRefs:l,cacheKey:a,meta:n});return"#"!=s[0]&&r&&(this._refs[s]=f),this._cache.put(a,f),c&&u&&this.validateSchema(e,!0),f}function jt(e,t){function n(){var t=e.validate,r=t.apply(this,arguments);return n.errors=t.errors,r}if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=t||n,!0===e.schema.$async&&(n.$async=!0),n;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var i;try{i=zi.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i}function Nt(e){switch(e.schemaId){case"auto":return Ut;case"id":return Lt;default:return Ft}}function Lt(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function Ft(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function Ut(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function $t(e,t){if(!(e=e||this.errors))return"No errors";t=t||{};for(var n=void 0===t.separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",a=0;a<e.length;a++){var o=e[a];o&&(i+=r+o.dataPath+" "+o.message+n)}return i.slice(0,-n.length)}function Bt(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this}function qt(e){var t;if(e._opts.$data&&(t=to,e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var n=no;e._opts.$data&&(n=Ra(n,oo)),e.addMetaSchema(n,io,!0),e._refs["http://json-schema.org/schema"]=io}}function zt(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}function Ht(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}function Vt(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function Yt(e){for(var t=hi.copy(e._opts),n=0;n<ao.length;n++)delete t[ao[n]];return t}function Wt(e){var t=e._opts.logger;if(!1===t)e.logger={log:Gt,warn:Gt,error:Gt};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function Gt(){}function Kt(e){if(e=String(e),e=e.replace(/[ \t\n\f\r]/g,""),e.length%4==0&&/==?$/.test(e)&&(e=e.replace(/==?$/,"")),e.length%4==1||!/^[+\/0-9A-Za-z]*$/.test(e))return null;for(var t="",n=0,r=0,i=0;i<e.length;i++)n<<=6,n|=Qt(e[i]),24==(r+=6)&&(t+=String.fromCharCode((16711680&n)>>16),t+=String.fromCharCode((65280&n)>>8),t+=String.fromCharCode(255&n),n=r=0);return 12==r?(n>>=4,t+=String.fromCharCode(n)):18==r&&(n>>=2,t+=String.fromCharCode((65280&n)>>8),t+=String.fromCharCode(255&n)),t}function Qt(e){return/[A-Z]/.test(e)?e.charCodeAt(0)-"A".charCodeAt(0):/[a-z]/.test(e)?e.charCodeAt(0)-"a".charCodeAt(0)+26:/[0-9]/.test(e)?e.charCodeAt(0)-"0".charCodeAt(0)+52:"+"==e?62:"/"==e?63:void 0}function Jt(e){var t;for(e=String(e),t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return null;var n="";for(t=0;t<e.length;t+=3){var r=[void 0,void 0,void 0,void 0];r[0]=e.charCodeAt(t)>>2,r[1]=(3&e.charCodeAt(t))<<4,e.length>t+1&&(r[1]|=e.charCodeAt(t+1)>>4,r[2]=(15&e.charCodeAt(t+1))<<2),e.length>t+2&&(r[2]|=e.charCodeAt(t+2)>>6,r[3]=63&e.charCodeAt(t+2));for(var i=0;i<r.length;i++)void 0===r[i]?n+="=":n+=Xt(r[i])}return n}function Xt(e){return e<26?String.fromCharCode(e+"A".charCodeAt(0)):e<52?String.fromCharCode(e-26+"a".charCodeAt(0)):e<62?String.fromCharCode(e-52+"0".charCodeAt(0)):62==e?"+":63==e?"/":void 0}n.d(t,"init",function(){return Ms}),n.d(t,"version",function(){return Is}),n.d(t,"TransformSchema",function(){return si}),n.d(t,"EStyleType",function(){return ko}),n.d(t,"EShapeType",function(){return _o}),n.d(t,"ENoiseType",function(){return wo}),n.d(t,"EFitOptions",function(){return go}),n.d(t,"EColorspaceType",function(){return xo}),n.d(t,"EBlurMode",function(){return bo}),n.d(t,"EAlignOptions",function(){return fo}),n.d(t,"EAlignFacesOptions",function(){return yo}),n.d(t,"ECropfacesType",function(){return So}),n.d(t,"getSecurity",function(){return en});var Zt,en=function(){console.warn("This method is only availale in Node runtimes")};Zt={urls:{fileApiUrl:"https://www.filestackapi.com/api/file",uploadApiUrl:"https://upload.filestackapi.com",cloudApiUrl:"https://cloud.filestackapi.com",cdnUrl:"https://cdn.filestackcontent.com",pickerUrl:"https://static.filestackapi.com/picker/1.2.6/picker.js"}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var tn=function(e,t){return(tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},nn=function(){return nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},nn.apply(this,arguments)},rn=function(e){return"function"==typeof e},an=function(e){return null===e||void 0===e},on=function(e){throw new TypeError("[tcomb] "+e)},sn=function(e){return e.displayName||e.name||"<function"+e.length+">"},un=function(e){try{return JSON.stringify(e,o,2)}catch(t){return String(e)}};s.fail=on,s.stringify=un;var cn=s,ln=function(e){return"string"==typeof e},fn=function(e){return Array.isArray?Array.isArray(e):e instanceof Array},dn=function(e){return!an(e)&&"object"==typeof e&&!fn(e)},pn=function(e){return rn(e)&&dn(e.meta)},hn=function(e){return pn(e)?e.displayName:sn(e)},vn=function(e,t){cn(!(e instanceof t),function(){return"Cannot use the new operator to instantiate the type "+hn(t)})},mn=function(e,t){function n(r,i){return vn(this,n),i=i||[e],cn(t(r),function(){return"Invalid value "+cn.stringify(r)+" supplied to "+i.join("/")}),r}return cn(ln(e),function(){return"Invalid argument name "+cn.stringify(e)+" supplied to irreducible(name, predicate) (expected a string)"}),cn(rn(t),"Invalid argument predicate "+cn.stringify(t)+" supplied to irreducible(name, predicate) (expected a function)"),n.meta={kind:"irreducible",name:e,predicate:t,identity:!0},n.displayName=e,n.is=t,n},yn=mn("Any",function(){return!0}),gn=mn("Array",fn),bn=function(e){return!0===e||!1===e},_n=mn("Boolean",bn),wn=mn("Date",function(e){return e instanceof Date}),kn=mn("Error",function(e){return e instanceof Error}),xn=mn("Function",rn),Sn=mn("Nil",an),En=function(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)},Cn=mn("Number",En),Pn=function(e){return an(e)||ln(e)},On=function(e){return!pn(e)||(cn(_n.is(e.meta.identity),function(){return"Invalid meta identity "+cn.stringify(e.meta.identity)+" supplied to type "+hn(e)}),e.meta.identity)},Tn=function(e,t,n){return pn(e)?e.meta.identity||"object"!=typeof t||null===t?e(t,n):new e(t,n):(n=n||[sn(e)],cn(t instanceof e,function(){return"Invalid value "+un(t)+" supplied to "+n.join("/")}),t)},An=function(e,t){return pn(t)?t.is(e):e instanceof t};c.getDefaultName=u;var Mn=c,In=Mn(Cn,function(e){return e%1==0},"Integer"),Dn=mn("Object",dn),Rn=mn("RegExp",function(e){return e instanceof RegExp}),jn=mn("String",ln),Nn=mn("Type",pn);f.getDefaultName=l;var Ln=f,Fn=function(e,t,n){if(an(t))return e;for(var r in t)t.hasOwnProperty(r)&&(!0!==n&&cn(!e.hasOwnProperty(r)||e[r]===t[r],function(){return'Invalid call to mixin(target, source, [overwrite]): cannot overwrite property "'+r+'" of target object'}),e[r]=t[r]);return e},Un=function(e){return pn(e)&&"union"===e.meta.kind},$n=1,Bn=function(e){function t(r,i){return cn(!an(n),function(){return"Type declared but not defined, don't forget to call .define on every declared type"}),Un(n)&&cn(n.dispatch===t.dispatch,function(){return"Please define the custom "+e+".dispatch function before calling "+e+".define()"}),n(r,i)}cn(Pn(e),function(){return"Invalid argument name "+e+" supplied to declare([name]) (expected a string)"});var n;return t.define=function(r){return cn(pn(r),function(){return"Invalid argument type "+cn.stringify(r)+" supplied to define(type) (expected a type)"}),cn(an(n),function(){return"Declare.define(type) can only be invoked once"}),Un(r)&&t.hasOwnProperty("dispatch")&&(r.dispatch=t.dispatch),n=r,Fn(t,n,!0),e&&(n.displayName=t.displayName=e,t.meta.name=e),t.meta.identity=n.meta.identity,t.prototype=n.prototype,t},t.displayName=e||hn(t)+"$"+$n++,t.meta={identity:!1},t.prototype=null,t};p.of=function(e,t){e=ln(e)?e.split(" "):e;var n={};return e.forEach(function(e){n[e]=e}),p(n,t)},p.getDefaultName=d;var qn=p;v.getDefaultName=h;var zn=v,Hn=function(e){return pn(e)&&"maybe"===e.meta.kind};y.getDefaultName=m;var Vn=y,Yn=g,Wn=function(e){return pn(e)&&"struct"===e.meta.kind},Gn=function(e){return pn(e)&&"interface"===e.meta.kind},Kn=k,Qn=P;M.strict=!1,M.getOptions=A,M.getDefaultName=O,M.extend=T;var Jn=M;D.getDefaultName=I;var Xn=D;j.getDefaultName=R;var Zn=j;U.getDefaultName=N,U.getOptionalArgumentsIndex=F;var er=U,tr=On;B.getDefaultName=$;var nr=B,rr=q;V.strict=!1,V.getOptions=H,V.getDefaultName=Yn,V.extend=z;var ir=V;K.commands={$apply:Q,$push:J,$remove:X,$set:Z,$splice:ee,$swap:te,$unshift:ne,$merge:re};var ar=K,or=function(e){for(var t,n,r,i,a=1,o=arguments.length;a<o;)if(t=arguments[a],n=arguments[a+1],r=arguments[a+2],rn(r)&&!pn(r)?a+=3:(r=n,n=yn.is,a+=2),i=(i||0)+1,cn(pn(t),function(){return"Invalid type in clause #"+i}),cn(rn(n),function(){return"Invalid guard in clause #"+i}),cn(rn(r),function(){return"Invalid block in clause #"+i}),t.is(e)&&n(e))return r(e);cn.fail("Match error")};/*! @preserve
 *
 * tcomb.js - Type checking and DDD for JavaScript
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014-2016 Giulio Canti
 *
 */
cn.Any=yn,cn.Array=gn,cn.Boolean=_n,cn.Date=wn,cn.Error=kn,cn.Function=xn,cn.Nil=Sn,cn.Number=Cn,cn.Integer=In,cn.IntegerT=cn.Integer,cn.Object=Dn,cn.RegExp=Rn,cn.String=jn,cn.Type=Nn,cn.TypeT=cn.Type,cn.Arr=cn.Array,cn.Bool=cn.Boolean,cn.Dat=cn.Date,cn.Err=cn.Error,cn.Func=cn.Function,cn.Num=cn.Number,cn.Obj=cn.Object,cn.Re=cn.RegExp,cn.Str=cn.String,cn.dict=Ln,cn.declare=Bn,cn.enums=qn,cn.irreducible=mn,cn.list=zn,cn.maybe=Vn,cn.refinement=Mn,cn.struct=Jn,cn.tuple=Xn,cn.union=Zn,cn.func=er,cn.intersection=nr,cn.subtype=cn.refinement,cn.inter=ir,cn.interface=cn.inter,cn.assert=cn,cn.update=ar,cn.mixin=Fn,cn.isType=pn,cn.is=An,cn.getTypeName=hn,cn.match=or;var sr=cn,ur=sr.stringify,cr={},lr=sr.struct({message:sr.Any,actual:sr.Any,expected:sr.Any,path:sr.list(sr.union([sr.String,sr.Number]))},"ValidationError");lr.of=function(e,t,n,r){return new lr({message:ae(e,t,n,r),actual:e,expected:t,path:n})};var fr=sr.struct({errors:sr.list(lr),value:sr.Any},"ValidationResult");fr.prototype.isValid=function(){return!this.errors.length},fr.prototype.firstError=function(){return this.isValid()?null:this.errors[0]},fr.prototype.toString=function(){return this.isValid()?"[ValidationResult, true, "+ur(this.value)+"]":"[ValidationResult, false, ("+this.errors.map(function(e){return ur(e.message)}).join(", ")+")]"};var dr=oe.validators={};dr.es6classes=function(e,t,n,r){return{value:e,errors:e instanceof t?[]:[lr.of(e,t,n,r.context)]}},dr.irreducible=dr.enums=function(e,t,n,r){return{value:e,errors:t.is(e)?[]:[lr.of(e,t,n,r.context)]}},dr.list=function(e,t,n,r){if(!sr.Array.is(e))return{value:e,errors:[lr.of(e,t,n,r.context)]};for(var i={value:[],errors:[]},a=0,o=e.length;a<o;a++){var s=se(e[a],t.meta.type,n.concat(a),r);i.value[a]=s.value,i.errors=i.errors.concat(s.errors)}return i},dr.subtype=function(e,t,n,r){var i=se(e,t.meta.type,n,r);return i.errors.length?i:(t.meta.predicate(i.value)||(i.errors=[lr.of(e,t,n,r.context)]),i)},dr.maybe=function(e,t,n,r){return sr.Nil.is(e)?{value:e,errors:[]}:se(e,t.meta.type,n,r)},dr.struct=function(e,t,n,r){if(!sr.Object.is(e))return{value:e,errors:[lr.of(e,t,n,r.context)]};if(t.is(e))return{value:e,errors:[]};var i={value:{},errors:[]},a=t.meta.props,o=t.meta.defaultProps||cr;for(var s in a)if(a.hasOwnProperty(s)){var u=e[s];void 0===u&&(u=o[s]);var c=se(u,a[s],n.concat(s),r);i.value[s]=c.value,i.errors=i.errors.concat(c.errors)}if(r.hasOwnProperty("strict")?r.strict:t.meta.strict)for(var l in e)e.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&i.errors.push(lr.of(e[l],sr.Nil,n.concat(l),r.context));return i.errors.length||(i.value=new t(i.value)),i},dr.tuple=function(e,t,n,r){var i=t.meta.types,a=i.length;if(!sr.Array.is(e)||e.length>a)return{value:e,errors:[lr.of(e,t,n,r.context)]};for(var o={value:[],errors:[]},s=0;s<a;s++){var u=se(e[s],i[s],n.concat(s),r);o.value[s]=u.value,o.errors=o.errors.concat(u.errors)}return o},dr.dict=function(e,t,n,r){if(!sr.Object.is(e))return{value:e,errors:[lr.of(e,t,n,r.context)]};var i={value:{},errors:[]};for(var a in e)if(e.hasOwnProperty(a)){var o=n.concat(a),s=se(a,t.meta.domain,o,r),u=se(e[a],t.meta.codomain,o,r);i.value[a]=u.value,i.errors=i.errors.concat(s.errors,u.errors)}return i},dr.union=function(e,t,n,r){var i=t.dispatch(e);return sr.Function.is(i)?se(e,i,n.concat(t.meta.types.indexOf(i)),r):{value:e,errors:[lr.of(e,t,n,r.context)]}},dr.intersection=function(e,t,n,r){for(var i=t.meta.types,a=i.length,o={value:e,errors:[]},s=0,u=0;u<a;u++){"struct"===i[u].meta.kind&&s++;var c=se(e,i[u],n,r);o.errors=o.errors.concat(c.errors)}return s>1&&o.errors.push(lr.of(e,t,n,r.context)),o},dr.interface=function(e,t,n,r){if(!sr.Object.is(e))return{value:e,errors:[lr.of(e,t,n,r.context)]};var i={value:{},errors:[]},a=t.meta.props;for(var o in a){var s=se(e[o],a[o],n.concat(o),r);i.value[o]=s.value,i.errors=i.errors.concat(s.errors)}if(r.hasOwnProperty("strict")?r.strict:t.meta.strict)for(var u in e)a.hasOwnProperty(u)||sr.Nil.is(e[u])||i.errors.push(lr.of(e[u],sr.Nil,n.concat(u),r.context));return i},sr.mixin(sr,{ValidationError:lr,ValidationResult:fr,validate:oe});var pr=sr,hr=pr.Boolean,vr=pr.Function,mr=pr.Integer,yr=pr.Number,gr=pr.String,br=pr.enums,_r=pr.refinement,wr=pr.union,kr=pr.struct,xr=pr.validate,Sr=pr.list,Er="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},Cr=ue(function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),Pr=le,Or=fe;fe.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},fe.prototype.parse=function(e){return this._parser=e,this},fe.prototype.responseType=function(e){return this._responseType=e,this},fe.prototype.serialize=function(e){return this._serializer=e,this},fe.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},fe.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var Tr=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];fe.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~Tr.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},fe.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},fe.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,r){n?t(n):e(r)})})}return this._fullfilledPromise.then(e,t)},fe.prototype.catch=function(e){return this.then(void 0,e)},fe.prototype.use=function(e){return e(this),this},fe.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},fe.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},fe.prototype.get=function(e){return this._header[e.toLowerCase()]},fe.prototype.getHeader=fe.prototype.get,fe.prototype.set=function(e,t){if(Pr(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},fe.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},fe.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),Pr(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)this.field(e,t[r]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},fe.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},fe.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},fe.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},fe.prototype.redirects=function(e){return this._maxRedirects=e,this},fe.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},fe.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},fe.prototype.send=function(e){var t=Pr(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&Pr(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)},fe.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},fe.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},fe.prototype._appendQueryString=function(){console.trace("Unsupported")},fe.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},fe.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var Ar=function(e){return e.split(/ *; */).shift()},Mr=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})},Ir=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},Dr=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e},Rr={type:Ar,params:Mr,parseLinks:Ir,cleanHeader:Dr},jr=pe;pe.prototype.get=function(e){return this.header[e.toLowerCase()]},pe.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=Rr.type(t);var n=Rr.params(t);for(var r in n)this[r]=n[r];this.links={};try{e.link&&(this.links=Rr.parseLinks(e.link))}catch(e){}},pe.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){ve.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),ve.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})};var Nr,Lr=ve,Fr=ue(function(e,t){function n(){}function r(e){if(!Pr(e))return e;var t=[];for(var n in e)i(t,n,e[n]);return t.join("&")}function i(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){i(e,t,n)});else if(Pr(n))for(var r in n)i(e,t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function a(e){for(var t,n,r={},i=e.split("&"),a=0,o=i.length;a<o;++a)t=i[a],n=t.indexOf("="),-1==n?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function o(e){for(var t,n,r,i,a=e.split(/\r?\n/),o={},s=0,u=a.length;s<u;++s)n=a[s],-1!==(t=n.indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),i=p(n.slice(t+1)),o[r]=i);return o}function s(e){return/[\/+]json($|[^-\w])/.test(e)}function u(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=o(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function c(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new u(n)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",t);var r;try{n._isResponseOK(t)||(r=new Error(t.statusText||"Unsuccessful HTTP response"))}catch(e){r=e}r?(r.original=e,r.response=t,r.status=t.status,n.callback(r,t)):n.callback(null,t)})}function l(e,t,n){var r=d("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}var f;"undefined"!=typeof window?f=window:"undefined"!=typeof self?f=self:(console.warn("Using browser-only version of superagent in non-browser environment"),f=Er);var d=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=c,d.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var p="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};d.serializeObject=r,d.parseString=a,d.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},d.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},jr(u.prototype),u.prototype._parseBody=function(e){var t=d.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&s(this.type)&&(t=d.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},u.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},d.Response=u,Cr(c.prototype),Or(c.prototype),c.prototype.type=function(e){return this.set("Content-Type",d.types[e]||e),this},c.prototype.accept=function(e){return this.set("Accept",d.types[e]||e),this},c.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});var r=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,n,r)},c.prototype.query=function(e){return"string"!=typeof e&&(e=r(e)),e&&this._query.push(e),this},c.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},c.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},c.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},c.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},c.prototype.buffer=c.prototype.ca=c.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},c.prototype.pipe=c.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},c.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},c.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||n,this._finalizeQueryString(),this._end()},c.prototype._end=function(){var e=this,t=this.xhr=d.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var r;try{r=t.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=r.bind(null,"download"),t.upload&&(t.upload.onprogress=r.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],a=this._serializer||d.serialize[i?i.split(";")[0]:""];!a&&s(i)&&(a=d.serialize["application/json"]),a&&(n=a(n))}for(var o in this.header)null!=this.header[o]&&this.header.hasOwnProperty(o)&&t.setRequestHeader(o,this.header[o]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},d.agent=function(){return new Lr},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){Lr.prototype[e.toLowerCase()]=function(t,n){var r=new d.Request(e,t);return this._setDefaults(r),n&&r.end(n),r}}),Lr.prototype.del=Lr.prototype.delete,d.get=function(e,t,n){var r=d("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},d.head=function(e,t,n){var r=d("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},d.options=function(e,t,n){var r=d("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},d.del=l,d.delete=l,d.patch=function(e,t,n){var r=d("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},d.post=function(e,t,n){var r=d("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},d.put=function(e,t,n){var r=d("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}}),Ur=Fr.get,$r=Fr.post,Br=Fr.put,qr=Fr.delete,zr=Fr.head,Hr=Fr.Request,Vr=Object.freeze({default:Fr,__moduleExports:Fr,get:Ur,post:$r,put:Br,delete:qr,head:zr,Request:Hr}),Yr=function(e,t){return Vr[e](t).set("Filestack-Source","JS-1.8.2")},Wr=Vr,Gr=function(){function e(e,t,n,r){this.resolve=e,this.fn=t,this.self=n||null,this.args=r}return e}(),Kr=function(){function e(){this._s1=[],this._s2=[]}return e.prototype.push=function(e){this._s1.push(e)},e.prototype.shift=function(){var e=this._s2;if(0===e.length){var t=this._s1;if(0===t.length)return;this._s1=e,e=this._s2=t.reverse()}return e.pop()},e.prototype.isEmpty=function(){return!this._s1.length&&!this._s2.length},e}(),Qr=me,Jr=function(e,t){var n=e.urls.cdnUrl;if(t&&(0===t.indexOf("src:")||0===t.indexOf("http"))){if(!e.apikey)throw new Error("Api key is required when storage alias is provided");return n+"/"+e.apikey}return n},Xr=function(e,t,n){void 0===n&&(n={});var r=Object.keys(n),i=t.map(function(e){return e.name}),a=i.join(", ");return r.forEach(function(t){if(i.indexOf(t)<0)throw new Error(t+" is not a valid option for "+e+". Valid options are: "+a)}),t.forEach(function(e){var t=n[e.name];if("location"===e.name&&"string"==typeof t&&(t=t.toLowerCase()),void 0!==t){var r=xr(t,e.type);if(!r.isValid()){var i=r.firstError();if(i&&i.message)throw new Error(i.message)}}}),r},Zr=function(e){var t=nn({},e);return Object.keys(t).forEach(function(e){return!t[e]&&void 0!==t[e]&&delete t[e]}),t},ei=function(e,t,n){var r=!1,i=!1;return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];i=!!n&&!r;var s=this;if(r||(r=!0,setTimeout(function(){if(r=!1,!n)return e.apply(s,a)},t)),i)return i=!1,e.apply(this,arguments)}},ti=function(e,t,n){void 0===n&&(n=1);for(var r=[];e<t;e+=n)r.push(e);return r},ni=function(e,t,n,r){if(!t||"string"!=typeof t)throw new Error("A valid Filestack handle is required for remove");if(!(e.policy&&e.signature||r&&r.policy&&r.signature))throw new Error("Security policy and signature are required for remove");var i=e.urls.fileApiUrl,a=i+"/"+t,o={key:e.apikey,policy:r&&r.policy||e.policy,signature:r&&r.signature||e.signature};return n&&(o.skip_storage=!0),new Promise(function(e,t){Wr.delete(a).query(o).end(function(n,r){n?t(n):e(r)})})},ri=function(e,t,n,r){if(!t||"string"!=typeof t)throw new Error("A valid Filestack handle is required for metadata");Xr("metadata",[{name:"size",type:hr},{name:"mimetype",type:hr},{name:"filename",type:hr},{name:"width",type:hr},{name:"height",type:hr},{name:"uploaded",type:hr},{name:"writeable",type:hr},{name:"cloud",type:hr},{name:"sourceUrl",type:hr},{name:"md5",type:hr},{name:"sha1",type:hr},{name:"sha224",type:hr},{name:"sha256",type:hr},{name:"sha384",type:hr},{name:"sha512",type:hr},{name:"location",type:hr},{name:"path",type:hr},{name:"container",type:hr},{name:"exif",type:hr}],n);var i=nn({},n);i.source_url=i.sourceUrl,i.policy=r&&r.policy||e.policy,i.signature=r&&r.signature||e.signature;var a=e.urls.fileApiUrl+"/"+t+"/metadata";return new Promise(function(e,n){Wr.get(a).query(Zr(i)).end(function(r,i){if(r)return n(r);e(nn({},i.body,{handle:t}))})})};!function(e){e.get="get",e.head="head"}(Nr||(Nr={}));var ii;!function(e){e.blob="blob",e.json="json"}(ii||(ii={}));var ai=function(e,t,n,r){if(void 0===n&&(n={}),!t||0===t.length||"string"!=typeof t)throw new Error("File handle is required");Xr("retrieveOptions",[{name:"metadata",type:hr},{name:"head",type:hr},{name:"dl",type:hr},{name:"cache",type:hr},{name:"extension",type:gr}],n);var i=nn({},n);i.key=e.apikey,i.policy=r&&r.policy||e.policy,i.signature=r&&r.signature||e.signature;var a=Nr.get,o=ii.blob;i.head&&(a=Nr.head,o=ii.json,delete i.head);var s;i.extension&&i.extension.length&&(s=i.extension,delete i.extension);var u;if(i.metadata){if(a===Nr.head)throw new Error("Head and metadata options cannot be used together");o=ii.json,u=i.metadata,delete i.metadata}var c=e.urls.fileApiUrl+"/"+t+(s?"+"+s:"")+(u?"/metadata":"");return new Promise(function(e,t){Wr[a](c).query(i).responseType(o).end(function(n,r){return n?t(n):a===Nr.head?e(r.headers):void e(r.body)})})},oi={$id:"https://filestack.com/schemas/defs.json",$schema:"http://json-schema.org/draft-07/schema#",title:"Filestack Transformations",description:"Filestack transformations parameters",type:"object",additionalProperties:!1,definitions:{securityCallDef:{$id:"#securityCallDef",type:"string",enum:["pick","read","stat","write","writeUrl","store","convert","remove","exif","runWorkflow"]},regionsDef:{$id:"#regionsDef",type:"string",enum:["us-east-1","us-west-1","us-west-2","eu-west-1","eu-central-1","ap-northeast-1","ap-northeast-2","ap-southeast-1","ap-southeast-2","sa-east-1"]},locationsDef:{$id:"#locationsDef",type:"string",enum:["s3","rackspace","gcs","azure"," dropbox"]},colorDef:{$id:"#colorDef",oneOf:[{type:"string",pattern:"^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"},{type:"string",enum:["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fractal","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray0","gray1","gray2","gray3","gray4","gray5","gray6","gray7","gray8","gray9","gray10","gray11","gray12","gray13","gray14","gray15","gray16","gray17","gray18","gray19","gray20","gray21","gray22","gray23","gray24","gray25","gray26","gray27","gray28","gray29","gray30","gray31","gray32","gray33","gray34","gray35","gray36","gray37","gray38","gray39","gray40","gray41","gray42","gray43","gray44","gray45","gray46","gray47","gray48","gray49","gray50","gray51","gray52","gray53","gray54","gray55","gray56","gray57","gray58","gray59","gray60","gray61","gray62","gray63","gray64","gray65","gray66","gray67","gray68","gray69","gray70","gray71","gray72","gray73","gray74","gray75","gray76","gray77","gray78","gray79","gray80","gray81","gray82","gray83","gray84","gray85","gray86","gray87","gray88","gray89","gray90","gray91","gray92","gray93","gray94","gray95","gray96","gray97","gray98","gray99","gray100","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","none","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"]}]}}},si={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://filestack.com/schemas/transforms.json",title:"Filestack Transformations",description:"Filestack transformations parameters",type:"object",additionalProperties:!1,definitions:{facesDef:{$id:"#facesDef",oneOf:[{type:"string",enum:["all"]},{type:"integer",minimum:1,maximum:1e3},{type:"array",uniqueItems:!0,items:[{type:"integer",minimum:1,maximum:1e3}]}]},objectsDef:{$id:"#objectsDef",type:"array",minItems:1,maxItems:50,items:[{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:0,maximum:1e4},{type:"integer",minimum:1,maximum:1e4},{type:"integer",minimum:1,maximum:1e4}]}]},positionDef:{$id:"#positionDef",default:["middle","center"],oneOf:[{type:"string",enum:["top","middle","bottom","left","center","right"]},{type:"array",uniqueItems:!0,additionalItems:!1,minItems:2,default:["middle","center"],items:[{type:"string",enum:["top","middle","bottom"]},{type:"string",enum:["left","center","right"]}]}]}},properties:{flip:{type:"boolean",additionalProperties:!1},no_metadata:{type:"boolean",additionalProperties:!1},compress:{additionalProperties:!1,oneOf:[{type:"boolean"},{type:"object",properties:{metadata:{type:"boolean",default:!1}}}]},flop:{type:"boolean",additionalProperties:!1},enchance:{type:"boolean",additionalProperties:!1},redeye:{type:"boolean",additionalProperties:!1},monochrome:{type:"boolean",additionalProperties:!1},negative:{type:"boolean",additionalProperties:!1},tags:{type:"boolean",additionalProperties:!1},sfw:{type:"boolean",additionalProperties:!1},imagesize:{type:"boolean",additionalProperties:!1},metadata:{type:"object",params:{type:"array",items:{type:"string",enum:["filename","mimetype","size","width","height","writeable","path","container","cloud","exif","source_url","md5","sha256","sha1","sha512"]},minItems:0,uniqueItems:!0,additionalItems:!1},additionalProperties:!1},resize:{type:"object",properties:{width:{type:"number",minimum:0,maximum:1e4},height:{type:"number",minimum:0,maximum:1e4},fit:{type:"string",enum:["clip","crop","scale","max"],default:"clip"},align:{$ref:"#positionDef",default:"center"}},additionalProperties:!1,anyOf:[{required:["width"]},{required:["height"]}]},crop:{type:"object",properties:{dim:{type:"array",additionalItems:!1,minItems:4,items:[{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:0,maximum:1e5},{type:"integer",minimum:1,maximum:1e5},{type:"integer",minimum:1,maximum:1e5}]}},required:["dim"]},rotate:{type:"object",properties:{deg:{oneOf:[{type:"string",num:["exif"]},{type:"number",minimum:0,maximum:359}]},exif:{type:"boolean"},background:{$ref:"defs.json#/definitions/colorDef",default:"FFFFFFFF"}},additionalProperties:!1},detect_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},export:{type:"boolean"},color:{$ref:"defs.json#/definitions/colorDef",default:"000000FF"}},additionalProperties:!1}]},crop_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{default:1,$ref:"#facesDef"},width:{type:"number",minimum:1,maximum:1e4},height:{type:"number",minimum:1,maximum:1e4},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},mode:{type:"string",enum:["crop","thumb","fill"],default:"thumb"}},additionalProperties:!1}]},pixelate_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"#facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"integer",minimum:2,maximum:100,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},blur_faces:{oneOf:[{type:"boolean"},{type:"object",properties:{faces:{$ref:"#facesDef",default:"all"},maxsize:{type:"number",minimum:0,maximum:1e4,default:.35},minsize:{type:"number",minimum:0,maximum:1e4,default:.35},buffer:{type:"integer",minimum:0,maximum:1e4},amount:{type:"number",minimum:0,maximum:10,default:10},blur:{type:"number",minimum:0,maximum:20,default:4},type:{type:"string",enum:["rect","oval"],default:"rect"}},additionalProperties:!1}]},rounded_corners:{oneOf:[{type:"boolean"},{type:"object",properties:{radius:{oneOf:[{type:"integer",minimum:1,maximum:1e4},{type:"string",enum:["max"]}]},blur:{type:"number",minimum:0,maximum:20,default:.3},background:{$ref:"defs.json#/definitions/colorDef"}},additionalProperties:!1}]},vignette:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:100,default:20},blurmode:{type:"string",enum:["gaussian","linear"],default:"gaussian"},background:{$ref:"defs.json#/definitions/colorDef"}},additionalProperties:!1}]},polaroid:{oneOf:[{type:"boolean"},{type:"object",properties:{rotate:{type:"integer",minimum:0,maximum:359},color:{$ref:"defs.json#/definitions/colorDef",default:"snow"},background:{$ref:"defs.json#/definitions/colorDef"}},additionalProperties:!1}]},torn_edges:{oneOf:[{type:"boolean"},{type:"object",properties:{spread:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:1,maximum:1e4,default:1},{type:"integer",minimum:1,maximum:1e4,default:10}]},background:{$ref:"defs.json#/definitions/colorDef"}},additionalProperties:!1}]},shadow:{oneOf:[{type:"boolean"},{type:"object",properties:{blur:{type:"number",minimum:0,maximum:20,default:100},opacity:{type:"integer",minimum:0,maximum:100,default:60},vector:{type:"array",additionalItems:!1,minItems:2,items:[{type:"integer",minimum:-1e3,maximum:1e3,default:4},{type:"integer",minimum:-1e3,maximum:1e3,default:4}]},color:{$ref:"defs.json#/definitions/colorDef"},background:{$ref:"defs.json#/definitions/colorDef"}},additionalProperties:!1}]},circle:{oneOf:[{type:"boolean"},{type:"object",properties:{background:{$ref:"defs.json#/definitions/colorDef"}},additionalProperties:!1}]},border:{oneOf:[{type:"boolean"},{type:"object",properties:{color:{$ref:"defs.json#/definitions/colorDef"},background:{$ref:"defs.json#/definitions/colorDef"},width:{type:"integer",minimum:0,maximum:1e3}},additionalProperties:!1}]},sharpen:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blur:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blackwhite:{oneOf:[{type:"boolean"},{type:"object",properties:{threshold:{type:"integer",minimum:0,maximum:100,default:50}},additionalProperties:!1}]},sepia:{oneOf:[{type:"boolean"},{type:"object",properties:{tone:{type:"integer",minimum:0,maximum:100,default:80}},additionalProperties:!1}]},pixelate:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},oil_paint:{oneOf:[{type:"boolean"},{type:"object",properties:{amount:{type:"integer",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},modulate:{oneOf:[{type:"boolean"},{type:"object",properties:{brightness:{type:"integer",minimum:0,maximum:1e4,default:100},saturation:{type:"integer",minimum:0,maximum:1e4,default:100},hue:{type:"integer",minimum:0,maximum:359,default:0}},additionalProperties:!1}]},asci:{oneOf:[{type:"boolean"},{type:"object",properties:{foreground:{$ref:"defs.json#/definitions/colorDef",default:"000000FF"},background:{$ref:"defs.json#/definitions/colorDef",default:"FFFFFFFF"},colored:{type:"boolean",default:!1},size:{type:"integer",minimum:10,maximum:100,default:100},reverse:{type:"boolean",default:!1}},additionalProperties:!1}]},collage:{type:"object",properties:{files:{type:"array",additionalItems:!1,minItems:1,items:[{type:"string"}]},margin:{type:"integer",minimum:1,maximum:100,default:10},width:{type:"integer",minimum:0,maximum:1e4},height:{type:"integer",minimum:0,maximum:1e4},color:{$ref:"defs.json#/definitions/colorDef",default:"FFFFFFFF"},fit:{type:"string",enum:["auto","crop"]},autorotate:{type:"boolean",default:!1}},required:["width","height","files"],additionalProperties:!1},urlscreenshot:{oneOf:[{type:"boolean"},{type:"object",properties:{agent:{type:"string",enum:["desktop","mobile"],default:"desktop"},width:{type:"integer",minimum:1,maximum:1920,default:1024},height:{type:"integer",minimum:1,maximum:8e3,default:768},mode:{type:"string",enum:["all","window"],default:"all"},delay:{type:"integer",minimum:0,maximum:2e4,default:1e3},orientation:{type:"string",enum:["portrait","landscape"],default:"portrait"},device:{type:"string",default:""}},additionalProperties:!1}]},upscale:{oneOf:[{type:"boolean"},{type:"object",properties:{noise:{type:"string",enum:["none","low","medium","high"],default:"none"},upscale:{type:"boolean",default:!0},style:{type:"string",enum:["artwork","photo"],default:"photo"}},additionalProperties:!1}]},output:{type:"object",additionalProperties:!1,properties:{format:{type:"string",enum:["doc","docx","html","jpg","odp","ods","odt","pjpg","pdf","png","ppt","pptx","svg","txt","webp","xls","xlsx"]},page:{type:"integer",minimum:1,maximum:99999},density:{type:"integer",minimum:1,maximum:500},compress:{type:"boolean"},quality:{oneOf:[{type:"string",enum:["input"]},{type:"integer",minimum:1,maximum:100,default:95}]},secure:{type:"boolean",default:!1},docinfo:{type:"boolean",default:!1},strip:{type:"boolean",default:!1},colorspace:{type:"string",enum:["rgb","cmyk","input"],default:"rgb"},background:{$ref:"defs.json#/definitions/colorDef"},pageformat:{type:"string",enum:["a3","a4","a5","b4","b5","letter","legal","tabloid"]},pageorientation:{type:"string",enum:["landscape","portrait"]}}},pjpg:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{quality:{type:"integer",minimum:0,maximum:100},metadata:{type:"boolean",default:!1}}}]},quality:{type:"object",additionalProperties:!1,properties:{value:{type:"integer",minimum:1,maximum:100}}},cache:{oneOf:[{type:"boolean"},{type:"object",properties:{expiry:{type:"integer"}}}]},video_convert:{type:"object",additionalProperties:!1,properties:{width:{type:"integer",minimum:1,maximum:100},height:{type:"integer",minimum:1,maximum:100},preset:{type:"string"},force:{type:"boolean"},title:{type:"string"},extname:{type:"string"},upscale:{type:"boolean"},aspect_mode:{type:"string",enum:["letterbox","pad","crop","preserve","constrain"],default:"letterbox"},audio_sample_rate:{type:"integer",minimum:1,maximum:99999},two_pass:{type:"boolean"},video_bitrate:{type:"integer",minimum:1,maximum:5e3},fps:{type:"integer",minimum:1,maximum:300},keyframe_interval:{type:"integer",minimum:250,maximum:250},audio_bitrate:{type:"integer",minimum:1,maximum:999},audio_channels:{type:"integer",minimum:1,maximum:12},clip_length:{type:"string",pattern:"^([0-1]?d|2[0-3])(?::([0-5]?d))?(?::([0-5]?d))?$"},clip_offset:{type:"string",pattern:"^([0-1]?d|2[0-3])(?::([0-5]?d))?(?::([0-5]?d))?$"},watermark_url:{type:"string"},watermark_top:{type:"integer",minimum:0,maximum:9999},watermark_right:{type:"integer",minimum:0,maximum:9999},watermark_bottom:{type:"integer",minimum:0,maximum:9999},watermark_left:{type:"integer",minimum:0,maximum:9999},frame_count:{type:"integer",minimum:1,maximum:1,default:1},filename:{type:"string"},location:{$ref:"defs.json#/definitions/locationsDef"},path:{type:"string"},container:{type:"string"},access:{type:"string",enum:["public","private"],default:"public"}}},store:{oneOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{filename:{type:"string"},location:{$ref:"defs.json#/definitions/locationsDef"},path:{type:"string"},container:{type:"string"},region:{$ref:"defs.json#/definitions/regionsDef"},access:{type:"string",enum:["public","private"],default:"private"},base64decode:{type:"boolean"},workflows:{type:"array",additionalItems:!1,minItems:1,maxItems:20,items:[{type:"string"},{type:"object",additionalProperties:!1,properties:{id:{type:"string"}}}]}}}]},watermark:{type:"object",properties:{file:{type:"string"},size:{type:"number",minimum:0,maximum:500},position:{$ref:"#positionDef"}},required:["file"],additionalProperties:!1},partial_blur:{type:"object",properties:{objects:{$ref:"#objectsDef"},amount:{type:"number",minimum:0,maximum:20},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},partial_pixelate:{type:"object",properties:{objects:{$ref:"#objectsDef"},amount:{type:"number",minimum:2,maximum:100},blur:{type:"number",minimum:0,maximum:20},type:{type:"string",enum:["rect","oval"]}},required:["objects"]},security:{type:"object",additionalProperties:!1,properties:{policy:{type:"string"},signature:{type:"string"}},required:["policy","signature"]}}},ui=ue(function(e,t){/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e,n){!function(e){function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function a(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function o(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}function s(e){var r=t("[0-9]","[A-Fa-f]"),i=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=t("[\\:\\/\\?\\#\\[\\]\\@]",a),s=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",u=e?"[\\uE000-\\uF8FF]":"[]",c=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",s),l=(n("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),n(n(i+"|"+t(c,a,"[\\:]"))+"*"),n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?[0-9]")),f=n(l+"\\."+l+"\\."+l+"\\."+l),d=n(r+"{1,4}"),p=n(n(d+"\\:"+d)+"|"+f),h=n(n(d+"\\:")+"{6}"+p),v=n("\\:\\:"+n(d+"\\:")+"{5}"+p),m=n(n(d)+"?\\:\\:"+n(d+"\\:")+"{4}"+p),y=n(n(n(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+n(d+"\\:")+"{3}"+p),g=n(n(n(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+n(d+"\\:")+"{2}"+p),b=n(n(n(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+p),_=n(n(n(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+p),w=n(n(n(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),k=n(n(n(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),x=n([h,v,m,y,g,b,_,w,k].join("|")),S=n(n(c+"|"+i)+"+"),E=(n("[vV]"+r+"+\\."+t(c,a,"[\\:]")+"+"),n(n(i+"|"+t(c,a))+"*"),n(i+"|"+t(c,a,"[\\:\\@]")));n(n(i+"|"+t(c,a,"[\\@]"))+"+"),n(n(E+"|"+t("[\\/\\?]",u))+"*");return{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,a),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,o),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+x+")"+n(n("\\%25|\\%(?!"+r+"{2})")+"("+S+")")+"?\\]?$")}}function u(e){throw new RangeError(L[e])}function c(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}function l(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(N,"."),r+c(e.split("."),t).join(".")}function f(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}function d(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function p(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var a=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&a)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var o=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function h(e,t){function n(e){var n=p(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,d).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,d).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,d).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,d).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,d).replace(t.PCT_ENCODED,i)),e}function v(e){return e.replace(/^0*(.*)/,"$1")||"0"}function m(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=M(n,2),i=r[1];return i?i.split(".").map(v).join("."):e}function y(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=M(n,3),i=r[1],a=r[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),s=M(o,2),u=s[0],c=s[1],l=c?c.split(":").map(v):[],f=u.split(":").map(v),d=t.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,h=f.length-p,y=Array(p),g=0;g<p;++g)y[g]=l[g]||f[h+g]||"";d&&(y[p-1]=m(y[p-1],t));var b=y.reduce(function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e},[]),_=b.sort(function(e,t){return t.length-e.length})[0],w=void 0;if(_&&_.length>1){var k=y.slice(0,_.index),x=y.slice(_.index+_.length);w=k.join(":")+"::"+x.join(":")}else w=y.join(":");return a&&(w+="%"+a),w}return e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?A:T;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(Q);if(i){J?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=y(m(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var a=K[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)h(n,r);else{if(n.host&&(t.domainHost||a&&a.domainHost))try{n.host=G.toASCII(n.host.replace(r.PCT_ENCODED,p).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}h(n,T)}a&&a.parse&&a.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function b(e,t){var n=!1!==t.iri?A:T,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(y(m(String(e.host),n),n).replace(n.IPV6ADDRESS,function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"})),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}function _(e){for(var t=[];e.length;)if(e.match(X))e=e.replace(X,"");else if(e.match(Z))e=e.replace(Z,"/");else if(e.match(ee))e=e.replace(ee,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(te);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?A:T,r=[],i=K[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?G.toUnicode(e.host):G.toASCII(e.host.replace(n.PCT_ENCODED,p).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}h(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var a=b(e,t);if(void 0!==a&&("suffix"!==t.reference&&r.push("//"),r.push(a),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var o=e.path;t.absolutePath||i&&i.absolutePath||(o=_(o)),void 0===a&&(o=o.replace(/^\/\//,"/%2F")),r.push(o)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i={};return r||(e=g(w(e,n),n),t=g(w(t,n),n)),n=n||{},!n.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=_(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=_(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=_(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=_(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function x(e,t,n){var r=o({scheme:"null"},n);return w(k(g(e,r),g(t,r),r,!0),r)}function S(e,t){return"string"==typeof e?e=w(g(e,t),t):"object"===r(e)&&(e=g(w(e,t),t)),e}function E(e,t,n){return"string"==typeof e?e=w(g(e,n),n):"object"===r(e)&&(e=w(e,n)),"string"==typeof t?t=w(g(t,n),n):"object"===r(t)&&(t=w(t,n)),e===t}function C(e,t){return e&&e.toString().replace(t&&t.iri?A.ESCAPE:T.ESCAPE,d)}function P(e,t){return e&&e.toString().replace(t&&t.iri?A.PCT_ENCODED:T.PCT_ENCODED,p)}function O(e){var t=p(e);return t.match(ce)?t:e}var T=s(!1),A=s(!0),M=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},D=2147483647,R=/^xn--/,j=/[^\0-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=Math.floor,U=String.fromCharCode,$=function(e){return String.fromCodePoint.apply(String,I(e))},B=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:36},q=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},z=function(e,t,n){var r=0;for(e=n?F(e/700):e>>1,e+=F(e/t);e>455;r+=36)e=F(e/35);return F(r+36*e/(e+38))},H=function(e){var t=[],n=e.length,r=0,i=128,a=72,o=e.lastIndexOf("-");o<0&&(o=0);for(var s=0;s<o;++s)e.charCodeAt(s)>=128&&u("not-basic"),t.push(e.charCodeAt(s));for(var c=o>0?o+1:0;c<n;){for(var l=r,f=1,d=36;;d+=36){c>=n&&u("invalid-input");var p=B(e.charCodeAt(c++));(p>=36||p>F((D-r)/f))&&u("overflow"),r+=p*f;var h=d<=a?1:d>=a+26?26:d-a;if(p<h)break;var v=36-h;f>F(D/v)&&u("overflow"),f*=v}var m=t.length+1;a=z(r-l,m,0==l),F(r/m)>D-i&&u("overflow"),i+=F(r/m),r%=m,t.splice(r++,0,i)}return String.fromCodePoint.apply(String,t)},V=function(e){var t=[];e=f(e);var n=e.length,r=128,i=0,a=72,o=!0,s=!1,c=void 0;try{for(var l,d=e[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var p=l.value;p<128&&t.push(U(p))}}catch(e){s=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw c}}var h=t.length,v=h;for(h&&t.push("-");v<n;){var m=D,y=!0,g=!1,b=void 0;try{for(var _,w=e[Symbol.iterator]();!(y=(_=w.next()).done);y=!0){var k=_.value;k>=r&&k<m&&(m=k)}}catch(e){g=!0,b=e}finally{try{!y&&w.return&&w.return()}finally{if(g)throw b}}var x=v+1;m-r>F((D-i)/x)&&u("overflow"),i+=(m-r)*x,r=m;var S=!0,E=!1,C=void 0;try{for(var P,O=e[Symbol.iterator]();!(S=(P=O.next()).done);S=!0){var T=P.value;if(T<r&&++i>D&&u("overflow"),T==r){for(var A=i,M=36;;M+=36){var I=M<=a?1:M>=a+26?26:M-a;if(A<I)break;var R=A-I,j=36-I;t.push(U(q(I+R%j,0))),A=F(R/j)}t.push(U(q(A,0))),a=z(i,x,v==h),i=0,++v}}}catch(e){E=!0,C=e}finally{try{!S&&O.return&&O.return()}finally{if(E)throw C}}++i,++r}return t.join("")},Y=function(e){return l(e,function(e){return R.test(e)?H(e.slice(4).toLowerCase()):e})},W=function(e){return l(e,function(e){return j.test(e)?"xn--"+V(e):e})},G={version:"2.1.0",ucs2:{decode:f,encode:$},decode:H,encode:V,toASCII:W,toUnicode:Y},K={},Q=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,J=void 0==="".match(/(){0}/)[1],X=/^\.\.?\//,Z=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/,ne={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},re={scheme:"https",domainHost:ne.domainHost,parse:ne.parse,serialize:ne.serialize},ie={},ae="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",oe="[0-9A-Fa-f]",se=n(n("%[EFef][0-9A-Fa-f]%"+oe+oe+"%"+oe+oe)+"|"+n("%[89A-Fa-f][0-9A-Fa-f]%"+oe+oe)+"|"+n("%"+oe+oe)),ue=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ce=new RegExp(ae,"g"),le=new RegExp(se,"g"),fe=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ue),"g"),de=new RegExp(t("[^]",ae,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),pe=de,he={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,a={},o=n.query.split("&"),s=0,u=o.length;s<u;++s){var c=o[s].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),f=0,d=l.length;f<d;++f)r.push(l[f]);break;case"subject":n.subject=P(c[1],t);break;case"body":n.body=P(c[1],t);break;default:i=!0,a[P(c[0],t)]=P(c[1],t)}}i&&(n.headers=a)}n.query=void 0;for(var p=0,h=r.length;p<h;++p){var v=r[p].split("@");if(v[0]=P(v[0]),t.unicodeSupport)v[1]=P(v[1],t).toLowerCase();else try{v[1]=G.toASCII(P(v[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[p]=v.join("@")}return n},serialize:function(e,t){var n=e,r=a(e.to);if(r){for(var o=0,s=r.length;o<s;++o){var u=String(r[o]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(le,O).replace(le,i).replace(fe,d),f=u.slice(c+1);try{f=t.iri?G.toUnicode(f):G.toASCII(P(f,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}r[o]=l+"@"+f}n.path=r.join(",")}var p=e.headers=e.headers||{};e.subject&&(p.subject=e.subject),e.body&&(p.body=e.body);var h=[];for(var v in p)p[v]!==ie[v]&&h.push(v.replace(le,O).replace(le,i).replace(de,d)+"="+p[v].replace(le,O).replace(le,i).replace(pe,d));return h.length&&(n.query=h.join("&")),n}},ve=/^([^\:]+)\:(.*)/,me={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(ve),r=e;if(n){var i=t.scheme||r.scheme||"urn",a=n[1].toLowerCase(),o=n[2],s=i+":"+(t.nid||a),u=K[s];r.nid=a,r.nss=o,r.path=void 0,u&&(r=u.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),a=K[i];a&&(e=a.serialize(e,t));var o=e,s=e.nss;return o.path=(r||t.nid)+":"+s,o}},ye=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ge={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ye)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};K[ne.scheme]=ne,K[re.scheme]=re,K[he.scheme]=he,K[me.scheme]=me,K[ge.scheme]=ge,e.SCHEMES=K,e.pctEncChar=d,e.pctDecChars=p,e.parse=g,e.removeDotSegments=_,e.serialize=w,e.resolveComponents=k,e.resolve=x,e.normalize=S,e.equal=E,e.escapeComponent=C,e.unescapeComponent=P,Object.defineProperty(e,"__esModule",{value:!0})}(t)}()});!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(ui);var ci=Array.isArray,li=Object.keys,fi=Object.prototype.hasOwnProperty,di=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var r,i,a,o=ci(t),s=ci(n);if(o&&s){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(o!=s)return!1;var u=t instanceof Date,c=n instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==n.getTime();var l=t instanceof RegExp,f=n instanceof RegExp;if(l!=f)return!1;if(l&&f)return t.toString()==n.toString();var d=li(t);if((i=d.length)!==li(n).length)return!1;for(r=i;0!=r--;)if(!fi.call(n,d[r]))return!1;for(r=i;0!=r--;)if(a=d[r],!e(t[a],n[a]))return!1;return!0}return t!==t&&n!==n},pi=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n},hi={copy:ye,checkDataType:ge,checkDataTypes:be,coerceToTypes:_e,toHash:we,getProperty:ke,escapeQuotes:xe,equal:di,ucs2length:pi,varOccurences:Se,varReplace:Ee,cleanUpCode:Ce,finalCleanUpCode:Pe,schemaHasRules:Oe,schemaHasRulesExcept:Te,toQuotedString:Ae,getPathExpr:Me,getPath:Ie,getData:De,unescapeFragment:je,unescapeJsonPointer:Fe,escapeFragment:Ne,escapeJsonPointer:Le},vi=we(["string","number","integer","boolean","null"]),mi=/^[a-z$_][a-z$_0-9]*$/i,yi=/'|\\/g,gi=/else\s*{\s*}/g,bi=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,_i=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,wi=/[^v.]errors/g,ki=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,xi=/var errors = 0;|var vErrors = null;/g,Si="return errors === 0;",Ei="validate.errors = null; return true;",Ci=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,Pi="return data;",Oi=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,Ti=/if \(rootData === undefined\) rootData = data;/,Ai=/^\/(?:[^~]|~0|~1)*$/,Mi=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/,Ii=Ue,Di=ue(function(e){function t(e,i,a,o,s,u,c,l,f,d){if(o&&"object"==typeof o&&!Array.isArray(o)){i(o,s,u,c,l,f,d);for(var p in o){var h=o[p];if(Array.isArray(h)){if(p in r.arrayKeywords)for(var v=0;v<h.length;v++)t(e,i,a,h[v],s+"/"+p+"/"+v,u,s,p,o,v)}else if(p in r.propsKeywords){if(h&&"object"==typeof h)for(var m in h)t(e,i,a,h[m],s+"/"+p+"/"+n(m),u,s,p,o,m)}else(p in r.keywords||e.allKeys&&!(p in r.skipKeywords))&&t(e,i,a,h,s+"/"+p,u,s,p,o)}a(o,s,u,c,l,f,d)}}function n(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var r=e.exports=function(e,n,r){"function"==typeof n&&(r=n,n={}),r=n.cb||r,t(n,"function"==typeof r?r:r.pre||function(){},r.post||function(){},e,"",e)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}}),Ri=$e;$e.normalizeId=Ke,$e.fullPath=We,$e.url=Qe,$e.ids=Je,$e.inlineRef=He,$e.schema=Be;var ji=hi.toHash(["properties","patternProperties","enum","dependencies","definitions"]),Ni=hi.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),Li=/#\/?$/,Fi={Validation:et(Xe),MissingRef:et(Ze)};Ze.message=function(e,t){return"can't resolve reference "+t+" from id "+e};var Ui=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},a={key:r,value:t[r]};return e(i,a)}}}(t.cmp),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var a,o;if(Array.isArray(t)){for(o="[",a=0;a<t.length;a++)a&&(o+=","),o+=e(t[a])||"null";return o+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,u=Object.keys(t).sort(r&&r(t));for(o="",a=0;a<u.length;a++){var c=u[a],l=e(t[c]);l&&(o&&(o+=","),o+=JSON.stringify(c)+":"+l)}return i.splice(s,1),"{"+o+"}"}}(e)},$i=function(e,t,n){function r(e){for(var t=e.rules,n=0;n<t.length;n++)if(i(t[n]))return!0}function i(t){return void 0!==e.schema[t.keyword]||t.implements&&a(t)}function a(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}var o="",s=!0===e.schema.$async,u=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),c=e.self._getId(e.schema);if(e.isTop&&(o+=" var validate = ",s&&(e.async=!0,o+="async "),o+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",c&&(e.opts.sourceCode||e.opts.processCode)&&(o+=" /*# sourceURL="+c+" */ ")),"boolean"==typeof e.schema||!u&&!e.schema.$ref){var l,f=e.level,d=e.dataLevel,p=e.schema["false schema"],h=e.schemaPath+e.util.getProperty("false schema"),v=e.errSchemaPath+"/false schema",m=!e.opts.allErrors,y="data"+(d||""),g="valid"+f;if(!1===e.schema){e.isTop?m=!0:o+=" var "+g+" = false; ";var b=b||[];b.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(l||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: 'boolean schema is false' "),e.opts.verbose&&(o+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),o+=" } "):o+=" {} ";var _=o;o=b.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+_+"]); ":o+=" validate.errors = ["+_+"]; return false; ":o+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?o+=s?" return data; ":" validate.errors = null; return true; ":o+=" var "+g+" = true; ";return e.isTop&&(o+=" }; return validate; "),o}if(e.isTop){var w=e.isTop,f=e.level=0,d=e.dataLevel=0,y="data";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],o+=" var vErrors = null; ",o+=" var errors = 0;     ",o+=" if (rootData === undefined) rootData = data; "}else{var f=e.level,d=e.dataLevel,y="data"+(d||"");if(c&&(e.baseId=e.resolve.url(e.baseId,c)),s&&!e.async)throw new Error("async schema in sync schema");o+=" var errs_"+f+" = errors;"}var l,g="valid"+f,m=!e.opts.allErrors,k="",x="",S=e.schema.type,E=Array.isArray(S);if(E&&1==S.length&&(S=S[0],E=!1),e.schema.$ref&&u){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(u=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(o+=" "+e.RULES.all.$comment.code(e,"$comment")),S){if(e.opts.coerceTypes)var C=e.util.coerceToTypes(e.opts.coerceTypes,S);var P=e.RULES.types[S];if(C||E||!0===P||P&&!r(P)){var h=e.schemaPath+".type",v=e.errSchemaPath+"/type",h=e.schemaPath+".type",v=e.errSchemaPath+"/type",O=E?"checkDataTypes":"checkDataType";if(o+=" if ("+e.util[O](S,y,!0)+") { ",C){var T="dataType"+f,A="coerced"+f;o+=" var "+T+" = typeof "+y+"; ","array"==e.opts.coerceTypes&&(o+=" if ("+T+" == 'object' && Array.isArray("+y+")) "+T+" = 'array'; "),o+=" var "+A+" = undefined; ";var M="",I=C;if(I)for(var D,R=-1,j=I.length-1;R<j;)D=I[R+=1],R&&(o+=" if ("+A+" === undefined) { ",M+="}"),"array"==e.opts.coerceTypes&&"array"!=D&&(o+=" if ("+T+" == 'array' && "+y+".length == 1) { "+A+" = "+y+" = "+y+"[0]; "+T+" = typeof "+y+";  } "),"string"==D?o+=" if ("+T+" == 'number' || "+T+" == 'boolean') "+A+" = '' + "+y+"; else if ("+y+" === null) "+A+" = ''; ":"number"==D||"integer"==D?(o+=" if ("+T+" == 'boolean' || "+y+" === null || ("+T+" == 'string' && "+y+" && "+y+" == +"+y+" ","integer"==D&&(o+=" && !("+y+" % 1)"),o+=")) "+A+" = +"+y+"; "):"boolean"==D?o+=" if ("+y+" === 'false' || "+y+" === 0 || "+y+" === null) "+A+" = false; else if ("+y+" === 'true' || "+y+" === 1) "+A+" = true; ":"null"==D?o+=" if ("+y+" === '' || "+y+" === 0 || "+y+" === false) "+A+" = null; ":"array"==e.opts.coerceTypes&&"array"==D&&(o+=" if ("+T+" == 'string' || "+T+" == 'number' || "+T+" == 'boolean' || "+y+" == null) "+A+" = ["+y+"]; ");o+=" "+M+" if ("+A+" === undefined) {   ";var b=b||[];b.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(l||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",o+=E?""+S.join(","):""+S,o+="' } ",!1!==e.opts.messages&&(o+=" , message: 'should be ",o+=E?""+S.join(","):""+S,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),o+=" } "):o+=" {} ";var _=o;o=b.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+_+"]); ":o+=" validate.errors = ["+_+"]; return false; ":o+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else {  ";var N=d?"data"+(d-1||""):"parentData",L=d?e.dataPathArr[d]:"parentDataProperty";o+=" "+y+" = "+A+"; ",d||(o+="if ("+N+" !== undefined)"),o+=" "+N+"["+L+"] = "+A+"; } "}else{var b=b||[];b.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(l||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",o+=E?""+S.join(","):""+S,o+="' } ",!1!==e.opts.messages&&(o+=" , message: 'should be ",o+=E?""+S.join(","):""+S,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),o+=" } "):o+=" {} ";var _=o;o=b.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+_+"]); ":o+=" validate.errors = ["+_+"]; return false; ":o+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}o+=" } "}}if(e.schema.$ref&&!u)o+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",m&&(o+=" } if (errors === ",o+=w?"0":"errs_"+f,o+=") { ",x+="}");else{var F=e.RULES;if(F)for(var P,U=-1,$=F.length-1;U<$;)if(P=F[U+=1],r(P)){if(P.type&&(o+=" if ("+e.util.checkDataType(P.type,y)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==P.type&&e.schema.properties){var p=e.schema.properties,B=Object.keys(p),q=B;if(q)for(var z,H=-1,V=q.length-1;H<V;){z=q[H+=1];var Y=p[z];if(void 0!==Y.default){var W=y+e.util.getProperty(z);o+="  if ("+W+" === undefined) "+W+" = ","shared"==e.opts.useDefaults?o+=" "+e.useDefault(Y.default)+" ":o+=" "+JSON.stringify(Y.default)+" ",o+="; "}}}else if("array"==P.type&&Array.isArray(e.schema.items)){var G=e.schema.items;if(G)for(var Y,R=-1,K=G.length-1;R<K;)if(Y=G[R+=1],void 0!==Y.default){var W=y+"["+R+"]";o+="  if ("+W+" === undefined) "+W+" = ","shared"==e.opts.useDefaults?o+=" "+e.useDefault(Y.default)+" ":o+=" "+JSON.stringify(Y.default)+" ",o+="; "}}var Q=P.rules;if(Q)for(var J,X=-1,Z=Q.length-1;X<Z;)if(J=Q[X+=1],i(J)){var ee=J.code(e,J.keyword,P.type);ee&&(o+=" "+ee+" ",m&&(k+="}"))}if(m&&(o+=" "+k+" ",k=""),P.type&&(o+=" } ",S&&S===P.type&&!C)){o+=" else { ";var h=e.schemaPath+".type",v=e.errSchemaPath+"/type",b=b||[];b.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(l||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { type: '",o+=E?""+S.join(","):""+S,o+="' } ",!1!==e.opts.messages&&(o+=" , message: 'should be ",o+=E?""+S.join(","):""+S,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),o+=" } "):o+=" {} ";var _=o;o=b.pop(),!e.compositeRule&&m?e.async?o+=" throw new ValidationError(["+_+"]); ":o+=" validate.errors = ["+_+"]; return false; ":o+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } "}m&&(o+=" if (errors === ",o+=w?"0":"errs_"+f,o+=") { ",x+="}")}}return m&&(o+=" "+x+" "),w?(s?(o+=" if (errors === 0) return data;           ",o+=" else throw new ValidationError(vErrors); "):(o+=" validate.errors = vErrors; ",o+=" return errors === 0;       "),o+=" }; return validate;"):o+=" var "+g+" = errors === errs_"+f+";",o=e.util.cleanUpCode(o),w&&(o=e.util.finalCleanUpCode(o,s)),o},Bi=hi.ucs2length,qi=Fi.Validation,zi=tt,Hi=ue(function(e){var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}}),Vi=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Yi=[0,31,28,31,30,31,30,31,31,30,31,30,31],Wi=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,Gi=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,Ki=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,Qi=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,Ji=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Xi=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Zi=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,ea=/^(?:\/(?:[^~\/]|~0|~1)*)*$/,ta=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,na=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/,ra=lt;lt.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Ji,url:Xi,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Gi,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:yt,uuid:Zi,"json-pointer":ea,"json-pointer-uri-fragment":ta,"relative-json-pointer":na},lt.full={date:dt,time:pt,"date-time":ht,uri:mt,"uri-reference":Qi,"uri-template":Ji,url:Xi,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:vt,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:yt,uuid:Zi,"json-pointer":ea,"json-pointer-uri-fragment":ta,"relative-json-pointer":na};var ia=/t|\s/i,aa=/\/|:/,oa=/[^\\]\\Z/,sa=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(s||""),d="valid"+o;if("#"==u||"#/"==u)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===p){var h=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(h);var v=v||[];v.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",!1!==e.opts.messages&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var m=a;a=v.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(a+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,h);e.logger.warn(h),l&&(a+=" if (true) { ")}}else if(p.inline){var y=e.util.copy(e);y.level++;var g="valid"+y.level;y.schema=p.schema,y.schemaPath="",y.errSchemaPath=u;var b=e.validate(y).replace(/validate\.schema/g,p.code);a+=" "+b+" ",l&&(a+=" if ("+g+") { ")}else r=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){var v=v||[];v.push(a),a="",e.opts.passContext?a+=" "+i+".call(this, ":a+=" "+i+"( ",a+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);a+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";var _=a;if(a=v.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(a+=" var "+d+"; "),a+=" try { await "+_+"; ",l&&(a+=" "+d+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(a+=" "+d+" = false; "),a+=" } ",l&&(a+=" if ("+d+") { ")}else a+=" if (!"+_+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(a+=" else { ")}return a},ua=function(e,t,n){var r=" ",i=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var l="valid"+u.level,f=u.baseId,d=!0,p=i;if(p)for(var h,v=-1,m=p.length-1;v<m;)h=p[v+=1],e.util.schemaHasRules(h,e.RULES.all)&&(d=!1,u.schema=h,u.schemaPath=a+"["+v+"]",u.errSchemaPath=o+"/"+v,r+="  "+e.validate(u)+" ",u.baseId=f,s&&(r+=" if ("+l+") { ",c+="}"));return s&&(r+=d?" if (true) { ":" "+c.slice(0,-1)+" "),r=e.util.cleanUpCode(r)},ca=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var v="valid"+p.level;if(o.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)})){var m=p.baseId;r+=" var "+d+" = errors; var "+f+" = false;  ";var y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var g=o;if(g)for(var b,_=-1,w=g.length-1;_<w;)b=g[_+=1],p.schema=b,p.schemaPath=s+"["+_+"]",p.errSchemaPath=u+"/"+_,r+="  "+e.validate(p)+" ",p.baseId=m,r+=" "+f+" = "+f+" || "+v+"; if (!"+f+") { ",h+="}";e.compositeRule=p.compositeRule=y,r+=" "+h+" if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else c&&(r+=" if (true) { ");return r},la=function(e,t,n){var r=" ",i=e.schema[t],a=e.errSchemaPath+"/"+t,o=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?r+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+o+", "+e.util.toQuotedString(a)+", validate.root.schema);"),r},fa=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d=e.opts.$data&&o&&o.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; "),d||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+f+" = equal("+l+", schema"+i+"); if (!"+f+") {   ";var p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var h=r;return r=p.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+h+"]); ":r+=" validate.errors = ["+h+"]; return false; ":r+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r},da=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e);p.level++;var h="valid"+p.level,v="i"+i,m=p.dataLevel=e.dataLevel+1,y="data"+m,g=e.baseId,b=e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+d+" = errors;var "+f+";",b){var _=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=s,p.errSchemaPath=u,r+=" var "+h+" = false; for (var "+v+" = 0; "+v+" < "+l+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var w=l+"["+v+"]";p.dataPathArr[m]=v;var k=e.validate(p);p.baseId=g,e.util.varOccurences(k,y)<2?r+=" "+e.util.varReplace(k,y,w)+" ":r+=" var "+y+" = "+w+"; "+k+" ",r+=" if ("+h+") break; }  ",e.compositeRule=p.compositeRule=_,r+="  if (!"+h+") {"}else r+=" if ("+l+".length == 0) {";var x=x||[];x.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var S=r;return r=x.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",b&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)},pa=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level,v={},m={},y=e.opts.ownProperties;for(w in o){var g=o[w],b=Array.isArray(g)?m:v;b[w]=g}r+="var "+f+" = errors;";var _=e.errorPath;r+="var missing"+i+";";for(var w in m)if(b=m[w],b.length){if(r+=" if ( "+l+e.util.getProperty(w)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),c){r+=" && ( ";var k=b;if(k)for(var x,S=-1,E=k.length-1;S<E;){x=k[S+=1],S&&(r+=" || ");var C=e.util.getProperty(x),P=l+C;r+=" ( ( "+P+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(x)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?x:C)+") ) "}r+=")) {  ";var O="missing"+i,T="' + "+O+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,O,!0):_+" + "+O);var A=A||[];A.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+T+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var M=r;r=A.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+M+"]); ":r+=" validate.errors = ["+M+"]; return false; ":r+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var I=b;if(I)for(var x,D=-1,R=I.length-1;D<R;){x=I[D+=1];var C=e.util.getProperty(x),T=e.util.escapeQuotes(x),P=l+C;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,x,e.opts.jsonPointers)),r+=" if ( "+P+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(x)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+T+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",c&&(p+="}",r+=" else { ")}e.errorPath=_;var j=d.baseId;for(var w in v){var g=v[w];e.util.schemaHasRules(g,e.RULES.all)&&(r+=" "+h+" = true; if ( "+l+e.util.getProperty(w)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),r+=") { ",d.schema=g,d.schemaPath=s+e.util.getProperty(w),d.errSchemaPath=u+"/"+e.util.escapeFragment(w),r+="  "+e.validate(d)+" ",d.baseId=j,r+=" }  ",c&&(r+=" if ("+h+") { ",p+="}"))}return c&&(r+="   "+p+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)},ha=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d=e.opts.$data&&o&&o.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="i"+i,h="schema"+i;d||(r+=" var "+h+" = validate.schema"+s+";"),r+="var "+f+";",d&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=f+" = false;for (var "+p+"=0; "+p+"<"+h+".length; "+p+"++) if (equal("+l+", "+h+"["+p+"])) { "+f+" = true; break; }",d&&(r+="  }  "),r+=" if (!"+f+") {   ";var v=v||[];v.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var m=r;return r=v.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r},va=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||"");if(!1===e.opts.format)return c&&(r+=" if (true) { "),r;var f,d=e.opts.$data&&o&&o.$data;d?(r+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",f="schema"+i):f=o;var p=e.opts.unknownFormats,h=Array.isArray(p);if(d){var v="format"+i,m="isObject"+i,y="formatType"+i;r+=" var "+v+" = formats["+f+"]; var "+m+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+y+" = "+m+" && "+v+".type || 'string'; if ("+m+") { ",e.async&&(r+=" var async"+i+" = "+v+".async; "),r+=" "+v+" = "+v+".validate; } if (  ",d&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (","ignore"!=p&&(r+=" ("+f+" && !"+v+" ",h&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+v+" && "+y+" == '"+n+"' && !(typeof "+v+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+v+"("+l+") : "+v+"("+l+")) ":r+=" "+v+"("+l+") ",r+=" : "+v+".test("+l+"))))) {"}else{var v=e.formats[o];if(!v){if("ignore"==p)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(r+=" if (true) { "),r;if(h&&p.indexOf(o)>=0)return c&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var m="object"==typeof v&&!(v instanceof RegExp)&&v.validate,y=m&&v.type||"string";if(m){var g=!0===v.async;v=v.validate}if(y!=n)return c&&(r+=" if (true) { "),r;if(g){if(!e.async)throw new Error("async format in sync schema");var b="formats"+e.util.getProperty(o)+".validate";r+=" if (!(await "+b+"("+l+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(o);m&&(b+=".validate"),r+="function"==typeof v?" "+b+"("+l+") ":" "+b+".test("+l+") ",r+=") { "}}var _=_||[];_.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",r+=d?""+f:""+e.util.toQuotedString(o),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=d?"' + "+f+" + '":""+e.util.escapeQuotes(o),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+s:""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var w=r;return r=_.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c&&(r+=" else { "),r},ma=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e);p.level++;var h="valid"+p.level,v=e.schema.then,m=e.schema.else,y=void 0!==v&&e.util.schemaHasRules(v,e.RULES.all),g=void 0!==m&&e.util.schemaHasRules(m,e.RULES.all),b=p.baseId;if(y||g){var _;p.createErrors=!1,p.schema=o,p.schemaPath=s,p.errSchemaPath=u,r+=" var "+d+" = errors; var "+f+" = true;  ";var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,r+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=w,y?(r+=" if ("+h+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+f+" = "+h+"; ",y&&g?(_="ifClause"+i,r+=" var "+_+" = 'then'; "):_="'then'",r+=" } ",g&&(r+=" else { ")):r+=" if (!"+h+") { ",g&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+f+" = "+h+"; ",y&&g?(_="ifClause"+i,r+=" var "+_+" = 'else'; "):_="'else'",r+=" } "),r+=" if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",c&&(r+=" else { "),r=e.util.cleanUpCode(r)}else c&&(r+=" if (true) { ");return r},ya=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var v="valid"+p.level,m="i"+i,y=p.dataLevel=e.dataLevel+1,g="data"+y,b=e.baseId;if(r+="var "+d+" = errors;var "+f+";",Array.isArray(o)){var _=e.schema.additionalItems;if(!1===_){r+=" "+f+" = "+l+".length <= "+o.length+"; ";var w=u;u=e.errSchemaPath+"/additionalItems",r+="  if (!"+f+") {   ";var k=k||[];k.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var x=r;r=k.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u=w,c&&(h+="}",r+=" else { ")}var S=o;if(S)for(var E,C=-1,P=S.length-1;C<P;)if(E=S[C+=1],e.util.schemaHasRules(E,e.RULES.all)){r+=" "+v+" = true; if ("+l+".length > "+C+") { ";var O=l+"["+C+"]";p.schema=E,p.schemaPath=s+"["+C+"]",p.errSchemaPath=u+"/"+C,p.errorPath=e.util.getPathExpr(e.errorPath,C,e.opts.jsonPointers,!0),p.dataPathArr[y]=C;var T=e.validate(p);p.baseId=b,e.util.varOccurences(T,g)<2?r+=" "+e.util.varReplace(T,g,O)+" ":r+=" var "+g+" = "+O+"; "+T+" ",r+=" }  ",c&&(r+=" if ("+v+") { ",h+="}")}if("object"==typeof _&&e.util.schemaHasRules(_,e.RULES.all)){p.schema=_,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+v+" = true; if ("+l+".length > "+o.length+") {  for (var "+m+" = "+o.length+"; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var O=l+"["+m+"]";p.dataPathArr[y]=m;var T=e.validate(p);p.baseId=b,e.util.varOccurences(T,g)<2?r+=" "+e.util.varReplace(T,g,O)+" ":r+=" var "+g+" = "+O+"; "+T+" ",c&&(r+=" if (!"+v+") break; "),r+=" } }  ",c&&(r+=" if ("+v+") { ",h+="}")}}else if(e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=s,p.errSchemaPath=u,r+="  for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var O=l+"["+m+"]";p.dataPathArr[y]=m;var T=e.validate(p);p.baseId=b,e.util.varOccurences(T,g)<2?r+=" "+e.util.varReplace(T,g,O)+" ":r+=" var "+g+" = "+O+"; "+T+" ",c&&(r+=" if (!"+v+") break; "),r+=" }"}return c&&(r+=" "+h+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)},ga=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&u&&u.$data;p?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var h="maximum"==t,v=h?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[v],y=e.opts.$data&&m&&m.$data,g=h?"<":">",b=h?">":"<",r=void 0;if(y){var _=e.util.getData(m.$data,s,e.dataPathArr),w="exclusive"+o,k="exclType"+o,x="exclIsNumber"+o,S="op"+o,E="' + "+S+" + '";a+=" var schemaExcl"+o+" = "+_+"; ",_="schemaExcl"+o,a+=" var "+w+"; var "+k+" = typeof "+_+"; if ("+k+" != 'boolean' && "+k+" != 'undefined' && "+k+" != 'number') { ";var r=v,C=C||[];C.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(r||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: '"+v+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var P=a;a=C.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+k+" == 'number' ? ( ("+w+" = "+i+" === undefined || "+_+" "+g+"= "+i+") ? "+d+" "+b+"= "+_+" : "+d+" "+b+" "+i+" ) : ( ("+w+" = "+_+" === true) ? "+d+" "+b+"= "+i+" : "+d+" "+b+" "+i+" ) || "+d+" !== "+d+") { var op"+o+" = "+w+" ? '"+g+"' : '"+g+"='; ",void 0===u&&(r=v,l=e.errSchemaPath+"/"+v,i=_,p=y)}else{var x="number"==typeof m,E=g;if(x&&p){var S="'"+E+"'";a+=" if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" ( "+i+" === undefined || "+m+" "+g+"= "+i+" ? "+d+" "+b+"= "+m+" : "+d+" "+b+" "+i+" ) || "+d+" !== "+d+") { "}else{x&&void 0===u?(w=!0,r=v,l=e.errSchemaPath+"/"+v,i=m,b+="="):(x&&(i=Math[h?"min":"max"](m,u)),m===(!x||i)?(w=!0,r=v,l=e.errSchemaPath+"/"+v,b+="="):(w=!1,E+="="));var S="'"+E+"'";a+=" if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+d+" "+b+" "+i+" || "+d+" !== "+d+") { "}}r=r||t;var C=C||[];C.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(r||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+S+", limit: "+i+", exclusive: "+w+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be "+E+" ",a+=p?"' + "+i:i+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+c:""+u,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var P=a;return a=C.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",f&&(a+=" else { "),a},ba=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&u&&u.$data;p?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var h="maxItems"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+d+".length "+h+" "+i+") { ";var r=t,v=v||[];v.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(r||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxItems"==t?"more":"fewer",a+=" than ",a+=p?"' + "+i+" + '":""+u,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+c:""+u,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var m=a;return a=v.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a},_a=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&u&&u.$data;p?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var h="maxLength"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),!1===e.opts.unicode?a+=" "+d+".length ":a+=" ucs2length("+d+") ",a+=" "+h+" "+i+") { ";var r=t,v=v||[];v.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(r||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be ",a+="maxLength"==t?"longer":"shorter",a+=" than ",a+=p?"' + "+i+" + '":""+u,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+c:""+u,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var m=a;return a=v.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a},wa=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&u&&u.$data;p?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var h="maxProperties"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" Object.keys("+d+").length "+h+" "+i+") { ";var r=t,v=v||[];v.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(r||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxProperties"==t?"more":"fewer",a+=" than ",a+=p?"' + "+i+" + '":""+u,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+c:""+u,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var m=a;return a=v.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a},ka=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,i+="var division"+a+";if (",d&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+a+" = "+f+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+a+" !== parseInt(division"+a+") ",i+=" ) ",d&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=d?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var h=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+h+"]); ":i+=" validate.errors = ["+h+"]; return false; ":i+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},xa=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=u,r+=" var "+f+" = errors;  ";var h=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var v;d.opts.allErrors&&(v=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,v&&(d.opts.allErrors=v),e.compositeRule=d.compositeRule=h,r+=" if ("+p+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var y=r;r=m.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ");return r},Sa=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var v="valid"+p.level,m=p.baseId,y="prevValid"+i,g="passingSchemas"+i;r+="var "+d+" = errors , "+y+" = false , "+f+" = false , "+g+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var _=o;if(_)for(var w,k=-1,x=_.length-1;k<x;)w=_[k+=1],e.util.schemaHasRules(w,e.RULES.all)?(p.schema=w,p.schemaPath=s+"["+k+"]",p.errSchemaPath=u+"/"+k,r+="  "+e.validate(p)+" ",p.baseId=m):r+=" var "+v+" = true; ",k&&(r+=" if ("+v+" && "+y+") { "+f+" = false; "+g+" = ["+g+", "+k+"]; } else { ",h+="}"),r+=" if ("+v+") { "+f+" = "+y+" = true; "+g+" = "+k+"; }";return e.compositeRule=p.compositeRule=b,r+=h+"if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+g+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},Ea=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var p=d?"(new RegExp("+r+"))":e.usePattern(s);i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+p+".test("+f+") ) {   ";var h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=d?""+r:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=d?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var v=i;return i=h.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},Ca=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level,v="key"+i,m="idx"+i,y=d.dataLevel=e.dataLevel+1,g="data"+y,b="dataProperties"+i,_=Object.keys(o||{}),w=e.schema.patternProperties||{},k=Object.keys(w),x=e.schema.additionalProperties,S=_.length||k.length,E=!1===x,C="object"==typeof x&&Object.keys(x).length,P=e.opts.removeAdditional,O=E||C||P,T=e.opts.ownProperties,A=e.baseId,M=e.schema.required;if(M&&(!e.opts.$data||!M.$data)&&M.length<e.opts.loopRequired)var I=e.util.toHash(M);if(r+="var "+f+" = errors;var "+h+" = true;",T&&(r+=" var "+b+" = undefined;"),O){if(r+=T?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+v+" = "+b+"["+m+"]; ":" for (var "+v+" in "+l+") { ",S){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+v+") ";else{var D=_;if(D)for(var R,j=-1,N=D.length-1;j<N;)R=D[j+=1],r+=" || "+v+" == "+e.util.toQuotedString(R)+" "}if(k.length){var L=k;if(L)for(var F,U=-1,$=L.length-1;U<$;)F=L[U+=1],r+=" || "+e.usePattern(F)+".test("+v+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==P)r+=" delete "+l+"["+v+"]; ";else{var B=e.errorPath,q="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),E)if(P)r+=" delete "+l+"["+v+"]; ";else{r+=" "+h+" = false; ";var z=u;u=e.errSchemaPath+"/additionalProperties";var H=H||[];H.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+q+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var V=r;r=H.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+V+"]); ":r+=" validate.errors = ["+V+"]; return false; ":r+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=z,c&&(r+=" break; ")}else if(C)if("failing"==P){r+=" var "+f+" = errors;  ";var Y=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=x,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var W=l+"["+v+"]";d.dataPathArr[y]=v;var G=e.validate(d);d.baseId=A,e.util.varOccurences(G,g)<2?r+=" "+e.util.varReplace(G,g,W)+" ":r+=" var "+g+" = "+W+"; "+G+" ",r+=" if (!"+h+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+v+"]; }  ",e.compositeRule=d.compositeRule=Y}else{d.schema=x,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var W=l+"["+v+"]";d.dataPathArr[y]=v;var G=e.validate(d);d.baseId=A,e.util.varOccurences(G,g)<2?r+=" "+e.util.varReplace(G,g,W)+" ":r+=" var "+g+" = "+W+"; "+G+" ",c&&(r+=" if (!"+h+") break; ")}e.errorPath=B}S&&(r+=" } "),r+=" }  ",c&&(r+=" if ("+h+") { ",p+="}")}var K=e.opts.useDefaults&&!e.compositeRule;if(_.length){var Q=_;if(Q)for(var R,J=-1,X=Q.length-1;J<X;){R=Q[J+=1];var Z=o[R];if(e.util.schemaHasRules(Z,e.RULES.all)){var ee=e.util.getProperty(R),W=l+ee,te=K&&void 0!==Z.default;d.schema=Z,d.schemaPath=s+ee,d.errSchemaPath=u+"/"+e.util.escapeFragment(R),d.errorPath=e.util.getPath(e.errorPath,R,e.opts.jsonPointers),d.dataPathArr[y]=e.util.toQuotedString(R);var G=e.validate(d);if(d.baseId=A,e.util.varOccurences(G,g)<2){G=e.util.varReplace(G,g,W);var ne=W}else{var ne=g;r+=" var "+g+" = "+W+"; "}if(te)r+=" "+G+" ";else{if(I&&I[R]){r+=" if ( "+ne+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(R)+"') "),r+=") { "+h+" = false; ";var B=e.errorPath,z=u,re=e.util.escapeQuotes(R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(B,R,e.opts.jsonPointers)),u=e.errSchemaPath+"/required";var H=H||[];H.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+re+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var V=r;r=H.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+V+"]); ":r+=" validate.errors = ["+V+"]; return false; ":r+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=z,e.errorPath=B,r+=" } else { "}else c?(r+=" if ( "+ne+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(R)+"') "),r+=") { "+h+" = true; } else { "):(r+=" if ("+ne+" !== undefined ",T&&(r+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(R)+"') "),r+=" ) { ");r+=" "+G+" } "}}c&&(r+=" if ("+h+") { ",p+="}")}}if(k.length){var ie=k;if(ie)for(var F,ae=-1,oe=ie.length-1;ae<oe;){F=ie[ae+=1];var Z=w[F];if(e.util.schemaHasRules(Z,e.RULES.all)){d.schema=Z,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(F),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(F),r+=T?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+v+" = "+b+"["+m+"]; ":" for (var "+v+" in "+l+") { ",r+=" if ("+e.usePattern(F)+".test("+v+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var W=l+"["+v+"]";d.dataPathArr[y]=v;var G=e.validate(d);d.baseId=A,e.util.varOccurences(G,g)<2?r+=" "+e.util.varReplace(G,g,W)+" ":r+=" var "+g+" = "+W+"; "+G+" ",c&&(r+=" if (!"+h+") break; "),r+=" } ",c&&(r+=" else "+h+" = true; "),r+=" }  ",c&&(r+=" if ("+h+") { ",p+="}")}}}return c&&(r+=" "+p+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)},Pa=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(r+="var "+f+" = errors;",e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=u;var h="key"+i,v="idx"+i,m="i"+i,y="' + "+h+" + '",g=d.dataLevel=e.dataLevel+1,b="data"+g,_="dataProperties"+i,w=e.opts.ownProperties,k=e.baseId;w&&(r+=" var "+_+" = undefined; "),r+=w?" "+_+" = "+_+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+_+".length; "+v+"++) { var "+h+" = "+_+"["+v+"]; ":" for (var "+h+" in "+l+") { ",r+=" var startErrs"+i+" = errors; ";var x=h,S=e.compositeRule;e.compositeRule=d.compositeRule=!0;var E=e.validate(d);d.baseId=k,e.util.varOccurences(E,b)<2?r+=" "+e.util.varReplace(E,b,x)+" ":r+=" var "+b+" = "+x+"; "+E+" ",e.compositeRule=d.compositeRule=S,r+=" if (!"+p+") { for (var "+m+"=startErrs"+i+"; "+m+"<errors; "+m+"++) { vErrors["+m+"].propertyName = "+h+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+y+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+y+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),c&&(r+=" break; "),r+=" } }"}return c&&(r+="  if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)},Oa=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,d=e.opts.$data&&o&&o.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="schema"+i;if(!d)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var h=[],v=o;if(v)for(var m,y=-1,g=v.length-1;y<g;){m=v[y+=1];var b=e.schema.properties[m];b&&e.util.schemaHasRules(b,e.RULES.all)||(h[h.length]=m)}}else var h=o;if(d||h.length){var _=e.errorPath,w=d||h.length>=e.opts.loopRequired,k=e.opts.ownProperties;if(c)if(r+=" var missing"+i+"; ",w){d||(r+=" var "+p+" = validate.schema"+s+"; ");var x="i"+i,S="schema"+i+"["+x+"]",E="' + "+S+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,S,e.opts.jsonPointers)),r+=" var "+f+" = true; ",d&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=" for (var "+x+" = 0; "+x+" < "+p+".length; "+x+"++) { "+f+" = "+l+"["+p+"["+x+"]] !== undefined ",k&&(r+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+p+"["+x+"]) "),r+="; if (!"+f+") break; } ",d&&(r+="  }  "),r+="  if (!"+f+") {   ";var C=C||[];C.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var P=r;r=C.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+P+"]); ":r+=" validate.errors = ["+P+"]; return false; ":r+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var O=h;if(O)for(var T,x=-1,A=O.length-1;x<A;){T=O[x+=1],x&&(r+=" || ");var M=e.util.getProperty(T),I=l+M;r+=" ( ( "+I+" === undefined ",k&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:M)+") ) "}r+=") {  ";var S="missing"+i,E="' + "+S+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,S,!0):_+" + "+S);var C=C||[];C.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var P=r;r=C.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+P+"]); ":r+=" validate.errors = ["+P+"]; return false; ":r+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(w){d||(r+=" var "+p+" = validate.schema"+s+"; ");var x="i"+i,S="schema"+i+"["+x+"]",E="' + "+S+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,S,e.opts.jsonPointers)),d&&(r+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),r+=" for (var "+x+" = 0; "+x+" < "+p+".length; "+x+"++) { if ("+l+"["+p+"["+x+"]] === undefined ",k&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+p+"["+x+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(r+="  }  ")}else{var D=h;if(D)for(var T,R=-1,j=D.length-1;R<j;){T=D[R+=1];var M=e.util.getProperty(T),E=e.util.escapeQuotes(T),I=l+M;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,T,e.opts.jsonPointers)),r+=" if ( "+I+" === undefined ",k&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else c&&(r+=" if (true) {");return r},Ta=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,(s||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),i+=" var i = "+f+".length , "+d+" = true , j; if (i > 1) { ";var h=e.schema.items&&e.schema.items.type,v=Array.isArray(h);if(!h||"object"==h||"array"==h||v&&(h.indexOf("object")>=0||h.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+d+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var m="checkDataType"+(v?"s":"");i+=" if ("+e.util[m](h,"item",!0)+") continue; ",v&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+d+") {   ";var y=y||[];y.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var g=i;i=y.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i},Aa={$ref:sa,allOf:ua,anyOf:ca,$comment:la,const:fa,contains:da,dependencies:pa,enum:ha,format:va,if:ma,items:ya,maximum:ga,minimum:ga,maxItems:ba,minItems:ba,maxLength:_a,minLength:_a,maxProperties:wa,minProperties:wa,multipleOf:ka,not:xa,oneOf:Sa,pattern:Ea,properties:Ca,propertyNames:Pa,required:Oa,uniqueItems:Ta,validate:$i},Ma=hi.toHash,Ia=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],n=["$schema","$id","id","$data","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=Ma(t),e.types=Ma(r),e.forEach(function(n){n.rules=n.rules.map(function(n){var r;if("object"==typeof n){var i=Object.keys(n)[0];r=n[i],n=i,r.forEach(function(n){t.push(n),e.all[n]=!0})}return t.push(n),e.all[n]={keyword:n,code:Aa[n],implements:r}}),e.all.$comment={keyword:"$comment",code:Aa.$comment},n.type&&(e.types[n.type]=n)}),e.keywords=Ma(t.concat(n)),e.custom={},e},Da=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],Ra=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var r,i=t[n].split("/"),a=e;for(r=1;r<i.length;r++)a=a[i[r]];for(r=0;r<Da.length;r++){var o=Da[r],s=a[o];s&&(a[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e},ja=Fi.MissingRef,Na=gt,La=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p="valid"+o,h="errs__"+o,v=e.opts.$data&&u&&u.$data;v?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var m,y,g,b,_,w=this,k="definition"+o,x=w.definition,S="";if(v&&x.$data){_="keywordValidate"+o;var E=x.validateSchema;a+=" var "+k+" = RULES.custom['"+t+"'].definition; var "+_+" = "+k+".validate;"}else{if(!(b=e.useCustomRule(w,u,e.schema,e)))return;i="validate.schema"+c,_=b.code,m=x.compile,y=x.inline,g=x.macro}var C=_+".errors",P="i"+o,O="ruleErr"+o,T=x.async;if(T&&!e.async)throw new Error("async keyword in sync schema");if(y||g||(a+=C+" = null;"),a+="var "+h+" = errors;var "+p+";",v&&x.$data&&(S+="}",a+=" if ("+i+" === undefined) { "+p+" = true; } else { ",E&&(S+="}",a+=" "+p+" = "+k+".validateSchema("+i+"); if ("+p+") { ")),y)x.statements?a+=" "+b.validate+" ":a+=" "+p+" = "+b.validate+"; ";else if(g){var A=e.util.copy(e),S="";A.level++;var M="valid"+A.level;A.schema=b.validate,A.schemaPath="";var I=e.compositeRule;e.compositeRule=A.compositeRule=!0;var D=e.validate(A).replace(/validate\.schema/g,_);e.compositeRule=A.compositeRule=I,a+=" "+D}else{var R=R||[];R.push(a),a="",a+="  "+_+".call( ",e.opts.passContext?a+="this":a+="self",m||!1===x.schema?a+=" , "+d+" ":a+=" , "+i+" , "+d+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var j=s?"data"+(s-1||""):"parentData",N=s?e.dataPathArr[s]:"parentDataProperty";a+=" , "+j+" , "+N+" , rootData )  ";var L=a;a=R.pop(),!1===x.errors?(a+=" "+p+" = ",T&&(a+="await "),a+=L+"; "):T?(C="customErrors"+o,a+=" var "+C+" = null; try { "+p+" = await "+L+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+C+" = e.errors; else throw e; } "):a+=" "+C+" = null; "+p+" = "+L+"; "}if(x.modifying&&(a+=" if ("+j+") "+d+" = "+j+"["+N+"];"),a+=""+S,x.valid)f&&(a+=" if (true) { ");else{a+=" if ( ",void 0===x.valid?(a+=" !",a+=g?""+M:""+p):a+=" "+!x.valid+" ",a+=") { ",r=w.keyword;var R=R||[];R.push(a),a="";var R=R||[];R.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var F=a;a=R.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+F+"]); ":a+=" validate.errors = ["+F+"]; return false; ":a+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var U=a;a=R.pop(),y?x.errors?"full"!=x.errors&&(a+="  for (var "+P+"="+h+"; "+P+"<errors; "+P+"++) { var "+O+" = vErrors["+P+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(a+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),a+=" } "):!1===x.errors?a+=" "+U+" ":(a+=" if ("+h+" == errors) { "+U+" } else {  for (var "+P+"="+h+"; "+P+"<errors; "+P+"++) { var "+O+" = vErrors["+P+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(a+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),a+=" } } "):g?(a+="   var err =   ",!1!==e.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):!1===x.errors?a+=" "+U+" ":(a+=" if (Array.isArray("+C+")) { if (vErrors === null) vErrors = "+C+"; else vErrors = vErrors.concat("+C+"); errors = vErrors.length;  for (var "+P+"="+h+"; "+P+"<errors; "+P+"++) { var "+O+" = vErrors["+P+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+";  "+O+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(a+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),a+=" } } else { "+U+" } "),a+=" } ",f&&(a+=" else { ")}return a},Fa=/^[a-z_$][a-z0-9_$-]*$/i,Ua={add:bt,get:_t,remove:wt};const $a="http://json-schema.org/draft-07/schema#",Ba="https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",qa="Meta-schema for $data reference (JSON Schema extension proposal)",za=["$data"],Ha={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}};var Va={$schema:$a,$id:Ba,description:qa,type:"object",required:za,properties:Ha,additionalProperties:!1},Ya=Object.freeze({$schema:$a,$id:Ba,description:qa,type:"object",required:za,properties:Ha,additionalProperties:!1,default:Va});const Wa="http://json-schema.org/draft-07/schema#",Ga="http://json-schema.org/draft-07/schema#",Ka="Core schema meta-schema",Qa={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ja=["object","boolean"],Xa={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var Za={$schema:Wa,$id:Ga,title:Ka,definitions:Qa,type:Ja,properties:Xa,default:!0},eo=Object.freeze({$schema:Wa,$id:Ga,title:Ka,definitions:Qa,type:Ja,properties:Xa,default:Za}),to=ce(Ya),no=ce(eo),ro=kt;kt.prototype.validate=xt,kt.prototype.compile=St,kt.prototype.addSchema=Et,kt.prototype.addMetaSchema=Ct,kt.prototype.validateSchema=Pt,kt.prototype.getSchema=Tt,kt.prototype.removeSchema=It,kt.prototype.addFormat=Bt,kt.prototype.errorsText=$t,kt.prototype._addSchema=Rt,kt.prototype._compile=jt,kt.prototype.compileAsync=Na,kt.prototype.addKeyword=Ua.add,kt.prototype.getKeyword=Ua.get,kt.prototype.removeKeyword=Ua.remove,kt.ValidationError=Fi.Validation,kt.MissingRefError=Fi.MissingRef,kt.$dataMetaSchema=Ra;var io="http://json-schema.org/draft-07/schema",ao=["removeAdditional","useDefaults","coerceTypes"],oo=["/properties"],so=ro.Ajv,uo=Object.freeze({default:ro,__moduleExports:ro,Ajv:so}),co=uo;ro&&(co=ro);var lo=new co;lo.addSchema(oi);var fo,po=function(e){return lo.compile(e)},ho=function(e){if("string"==typeof e)return e.toLowerCase();if(Array.isArray(e))return e.map(function(e){return ho(e)});if(e===Object(e)){for(var t in e)e[t]=ho(e[t]);return e}return e},vo=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.stack=(new Error).stack,r.details=n,r}return r(t,e),t}(Error),mo=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r].split(/(?=[A-Z])/).join("_").toLowerCase();"object"!=typeof e[n[r]]||Array.isArray(e[n[r]])?t[i]=e[n[r]]:t[i]=mo(e[n[r]])}return t};!function(e){e.left="left",e.right="right",e.center="center",e.bottom="bottom",e.top="top"}(fo||(fo={}));var yo;!function(e){e.left="left",e.right="right",e.center="center",e.bottom="bottom",e.top="top",e.faces="faces"}(yo||(yo={}));var go;!function(e){e.clip="clip",e.crop="crop",e.scale="scale",e.max="max"}(go||(go={}));var bo;!function(e){e.linear="linear",e.gaussian="gaussian"}(bo||(bo={}));var _o;!function(e){e.oval="oval",e.rect="rect"}(_o||(_o={}));var wo;!function(e){e.none="none",e.low="low",e.medium="medium",e.high="high"}(wo||(wo={}));var ko;!function(e){e.artwork="artwork",e.photo="photo"}(ko||(ko={}));var xo;!function(e){e.RGB="RGB",e.CMYK="CMYK",e.Input="Input"}(xo||(xo={}));var So;!function(e){e.thumb="thumb",e.crop="crop",e.fill="fill"}(So||(So={}));var Eo;!function(e){e.h264="h264",e.h264_hi="h264.hi",e.webm="webm",e["webm-hi"]="webm.hi",e.ogg="ogg",e["ogg-hi"]="ogg.hi",e["hls-variant"]="hls.variant",e.mp3="mp3",e.oga="oga",e.m4a="m4a",e.aac="aac",e.hls="hls.variant.audio"}(Eo||(Eo={}));var Co;!function(e){e.s3="s3",e.azure="azure",e.gcs="gcs",e.rackspace="rackspace",e.dropbox="dropbox"}(Co||(Co={}));var Po;!function(e){e.private="private",e.public="public"}(Po||(Po={}));var Oo;!function(e){e.preserve="preserve",e.constrain="constrain",e.letterbox="letterbox",e.pad="pad",e.crop="crop"}(Oo||(Oo={}));var To,Ao=function(e){return"["+e.map(function(e){return Array.isArray(e)?Ao(e):Io(e)})+"]"},Mo=function(e,t){var n=[];return void 0===t?e:"object"!=typeof t||Object.keys(t).length?"boolean"==typeof t?t||"cache"!==e?t?e:"":e+"=false":(Object.keys(t).forEach(function(e){if(Array.isArray(t[e]))return void n.push(e+":"+Ao(t[e]));n.push(e+":"+Io(t[e]))}),e+"="+n.join(",")):""},Io=function(e){return"string"!=typeof e?e:e.indexOf("http:")>-1||e.indexOf("https:")>-1||e.indexOf("src:")>-1||e.indexOf("/")>-1?'"'+e+'"':e},Do=function(e,t,n){void 0===n&&(n={}),n=mo(ho(n));var r=po(si);if(!r(n))throw new vo("Validation error",r.errors);var i=[];e.policy&&e.signature&&(n.security={policy:e.policy,signature:e.signature}),Object.keys(n).forEach(function(e){i.push(Mo(e,n[e]))}),i=i.filter(function(e){return e.length});var a=Jr(e,t);return i.length?a+"/"+i.join("/")+"/"+Io(t):a+"/"+t},Ro=function(e,t,n,r,i){if(!t||"string"!=typeof t)throw new Error("url is required for storeURL");e.policy=i&&i.policy||e.policy,e.signature=i&&i.signature||e.signature,n&&n.filename&&n.filename.indexOf(":")>-1&&(n.filename=n.filename.replace(/:/g,"_")),n&&n.filename&&n.filename.indexOf(",")>-1&&(n.filename=n.filename.replace(/,/g,"_"));var a=Do(e,t,{store:n});return new Promise(function(e,t){var n=Wr.get(a);return r&&(r.cancel=function(){n.abort(),t(new Error("Upload cancelled"))}),n.then(function(t){if(t.body&&t.body.url){var n=t.body.url.split("/").pop(),r=nn({},t.body,{handle:n,mimetype:t.body.type});return e(r)}return e(t.body)}).catch(function(e){t(e)})})},jo=Kt,No=Jt,Lo={atob:jo,btoa:No},Fo=Lo.atob,Uo=Lo.btoa,$o=ue(function(e,t){!function(t){e.exports=function(e){function t(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n+=(r&i|~r&a)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,a+=(n&r|~n&i)+t[1]-389564586|0,a=(a<<12|a>>>20)+n|0,i+=(a&n|~a&r)+t[2]+606105819|0,i=(i<<17|i>>>15)+a|0,r+=(i&a|~i&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&a)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,a+=(n&r|~n&i)+t[5]+1200080426|0,a=(a<<12|a>>>20)+n|0,i+=(a&n|~a&r)+t[6]-1473231341|0,i=(i<<17|i>>>15)+a|0,r+=(i&a|~i&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&a)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,a+=(n&r|~n&i)+t[9]-1958414417|0,a=(a<<12|a>>>20)+n|0,i+=(a&n|~a&r)+t[10]-42063|0,i=(i<<17|i>>>15)+a|0,r+=(i&a|~i&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+i|0,n+=(r&i|~r&a)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,a+=(n&r|~n&i)+t[13]-40341101|0,a=(a<<12|a>>>20)+n|0,i+=(a&n|~a&r)+t[14]-1502002290|0,i=(i<<17|i>>>15)+a|0,r+=(i&a|~i&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+i|0,n+=(r&a|i&~a)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,a+=(n&i|r&~i)+t[6]-1069501632|0,a=(a<<9|a>>>23)+n|0,i+=(a&r|n&~r)+t[11]+643717713|0,i=(i<<14|i>>>18)+a|0,r+=(i&n|a&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+i|0,n+=(r&a|i&~a)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,a+=(n&i|r&~i)+t[10]+38016083|0,a=(a<<9|a>>>23)+n|0,i+=(a&r|n&~r)+t[15]-660478335|0,i=(i<<14|i>>>18)+a|0,r+=(i&n|a&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+i|0,n+=(r&a|i&~a)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,a+=(n&i|r&~i)+t[14]-1019803690|0,a=(a<<9|a>>>23)+n|0,i+=(a&r|n&~r)+t[3]-187363961|0,i=(i<<14|i>>>18)+a|0,r+=(i&n|a&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+i|0,n+=(r&a|i&~a)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,a+=(n&i|r&~i)+t[2]-51403784|0,a=(a<<9|a>>>23)+n|0,i+=(a&r|n&~r)+t[7]+1735328473|0,i=(i<<14|i>>>18)+a|0,r+=(i&n|a&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+i|0,n+=(r^i^a)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,a+=(n^r^i)+t[8]-2022574463|0,a=(a<<11|a>>>21)+n|0,i+=(a^n^r)+t[11]+1839030562|0,i=(i<<16|i>>>16)+a|0,r+=(i^a^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^a)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,a+=(n^r^i)+t[4]+1272893353|0,a=(a<<11|a>>>21)+n|0,i+=(a^n^r)+t[7]-155497632|0,i=(i<<16|i>>>16)+a|0,r+=(i^a^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^a)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,a+=(n^r^i)+t[0]-358537222|0,a=(a<<11|a>>>21)+n|0,i+=(a^n^r)+t[3]-722521979|0,i=(i<<16|i>>>16)+a|0,r+=(i^a^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+i|0,n+=(r^i^a)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,a+=(n^r^i)+t[12]-421815835|0,a=(a<<11|a>>>21)+n|0,i+=(a^n^r)+t[15]+530742520|0,i=(i<<16|i>>>16)+a|0,r+=(i^a^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+i|0,n+=(i^(r|~a))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,a+=(r^(n|~i))+t[7]+1126891415|0,a=(a<<10|a>>>22)+n|0,i+=(n^(a|~r))+t[14]-1416354905|0,i=(i<<15|i>>>17)+a|0,r+=(a^(i|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~a))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,a+=(r^(n|~i))+t[3]-1894986606|0,a=(a<<10|a>>>22)+n|0,i+=(n^(a|~r))+t[10]-1051523|0,i=(i<<15|i>>>17)+a|0,r+=(a^(i|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~a))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,a+=(r^(n|~i))+t[15]-30611744|0,a=(a<<10|a>>>22)+n|0,i+=(n^(a|~r))+t[6]-1560198380|0,i=(i<<15|i>>>17)+a|0,r+=(a^(i|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~a))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,a+=(r^(n|~i))+t[11]-1120210379|0,a=(a<<10|a>>>22)+n|0,i+=(n^(a|~r))+t[2]+718787259|0,i=(i<<15|i>>>17)+a|0,r+=(a^(i|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=a+e[3]|0}function n(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var r,i,a,o,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)t(l,n(e.substring(r-64,r)));for(e=e.substring(r-64),i=e.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<i;r+=1)a[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(a[r>>2]|=128<<(r%4<<3),r>55)for(t(l,a),r=0;r<16;r+=1)a[r]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),u=parseInt(o[1],16)||0,a[14]=s,a[15]=u,t(l,a),l}function a(e){var n,i,a,o,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(l,r(e.subarray(n-64,n)));for(e=n-64<c?e.subarray(n-64):new Uint8Array(0),i=e.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<i;n+=1)a[n>>2]|=e[n]<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),n>55)for(t(l,a),n=0;n<16;n+=1)a[n]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),u=parseInt(o[1],16)||0,a[14]=s,a[15]=u,t(l,a),l}function o(e){var t,n="";for(t=0;t<4;t+=1)n+=h[e>>8*t+4&15]+h[e>>8*t&15];return n}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,r=e.length,i=new ArrayBuffer(r),a=new Uint8Array(i);for(n=0;n<r;n+=1)a[n]=e.charCodeAt(n);return t?a:i}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function f(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function d(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}var h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return s(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,a,o,s,u=this.byteLength,c=t(n,u),l=u;return r!==e&&(l=t(r,u)),c>l?new ArrayBuffer(0):(i=l-c,a=new ArrayBuffer(i),o=new Uint8Array(a),s=new Uint8Array(this,c,i),o.set(s),a)}}(),p.prototype.append=function(e){return this.appendBinary(u(e)),this},p.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var r,i=this._buff.length;for(r=64;r<=i;r+=64)t(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},p.prototype.end=function(e){var t,n,r=this._buff,i=r.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)a[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(a,i),n=s(this._hash),e&&(n=d(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},p.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(e,n){var r,i,a,o=n;if(e[o>>2]|=128<<(o%4<<3),o>55)for(t(this._hash,e),o=0;o<16;o+=1)e[o]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),a=parseInt(r[1],16)||0,e[14]=i,e[15]=a,t(this._hash,e)},p.hash=function(e,t){return p.hashBinary(u(e),t)},p.hashBinary=function(e,t){var n=i(e),r=s(n);return t?d(r):r},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(e){var n,i=f(this._buff.buffer,e,!0),a=i.length;for(this._length+=e.byteLength,n=64;n<=a;n+=64)t(this._hash,r(i.subarray(n-64,n)));return this._buff=n-64<a?new Uint8Array(i.buffer.slice(n-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)a[t>>2]|=r[t]<<(t%4<<3);return this._finish(a,i),n=s(this._hash),e&&(n=d(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var e=p.prototype.getState.call(this);return e.buff=l(e.buff),e},p.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),p.prototype.setState.call(this,e)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(e,t){var n=a(new Uint8Array(e)),r=s(n);return t?d(r):r},p}()}()}),Bo=$o.ArrayBuffer,qo=function(e){return Uo(Bo.hash(e,!0))},zo=function(e){return"[object File]"===e.toString()},Ho=function(e){return zo(e)||"[object Blob]"===e.toString()},Vo=function(e,t){void 0===t&&(t=512);var n,r="";e.split(",")[0].indexOf("base64")>=0&&(n=e.split(",")[1]),void 0!==n&&(r=e.split(",")[0].split(":")[1].split(";")[0],e=decodeURI(n));for(var i=Fo(e),a=[],o=0;o<i.length;o+=t){for(var s=i.slice(o,o+t),u=new Array(s.length),c=0;c<s.length;c+=1)u[c]=s.charCodeAt(c);var l=new Uint8Array(u);a.push(l)}return new Blob(a,{type:r})},Yo=function(e,t){var n=e.config,r=e.file,i=t*n.partSize;return{start:i,end:Math.min(i+n.partSize,r.size)}},Wo=function(e,t){var n=Yo(e,t),r=n.start,i=n.end;return e.file.slice(r,i)},Go=function(e){return new Promise(function(t,n){var r;File&&FileReader&&Blob?(r=new FileReader,r.onloadend=t,r.onerror=n,r.readAsArrayBuffer(e)):n(new Error("The File APIs are not fully supported by your browser"))})},Ko=function(e,t){return Go(Wo(t,e.number)).then(function(t){var n=t.target.result;return nn({},e,{buffer:n,size:n.byteLength,md5:qo(n)})})},Qo=function(e){var t=e;return"string"==typeof e&&(t=Vo(t)),t&&Ho(t)?Promise.resolve(t):Promise.reject(new TypeError("File argument is not a valid Blob"))},Jo=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))},Xo=function(e,t){return t.customName||e.name},Zo=function(e){return e&&"https://"+e},es=function(e,t){var n=t.store,r={};return Object.keys(e).forEach(function(t){"object"==typeof e[t]&&(e[t]=JSON.stringify(e[t])),e[t]&&(r[t]=e[t])}),Object.keys(n).forEach(function(e){"object"==typeof n[e]&&(n[e]=JSON.stringify(n[e])),n[e]&&(r[e]=n[e])}),r},ts=function(e){var t=e.config,n=e.file,r={apikey:t.apikey,filename:Xo(n,t),mimetype:t.mimetype||n.type||"application/octet-stream",size:n.size};t.policy&&t.signature&&(r.policy=t.policy,r.signature=t.signature),t.intelligent&&(r.multipart=!0);var i=es(r,t);return Yr("post",t.host+"/multipart/start").timeout(t.timeout).field(i)},ns=function(e,t){var n=t.config,r=t.params,i=(n.host,Zo(r.location_url)),a=r.location_region,o=nn({apikey:n.apikey,part:e.number+1,size:e.size,md5:e.md5},r);void 0!==e.offset&&(o.multipart=!0,o.offset=0===e.offset?"0":e.offset);var s=es(o,n),u=Yr("post",i+"/multipart/upload");return a&&u.set("Filestack-Upload-Region",a),u.timeout(n.timeout),u.field(s),new Promise(function(e,t){u.end(function(n,r){return n?t(n):e(r)})})},rs=function(e,t,n,r){var i=(r.host,t.url),a=r.timeout||e.byteLength/100,o=Wr.put(i).set(t.headers).timeout(a).send(e);return n?o.on("progress",n):o},is=function(e){return e.map(function(e,t){return t+1+":"+e}).join(";")},as=function(e,t){var n=t.config,r=t.file,i=t.params,a=(n.host,Zo(i.location_url)),o=i.location_region,s=nn({apikey:n.apikey,size:r.size,filename:Xo(r,n),mimetype:n.mimetype||r.type||"application/octet-stream",parts:is(e)},i);n.intelligent&&(s.multipart=!0,delete s.parts),n.policy&&n.signature&&(s.policy=n.policy,s.signature=n.signature);var u=es(s,n),c=Yr("post",a+"/multipart/complete");return o&&c.set("Filestack-Upload-Region",o),c.timeout(n.timeout),c.field(u)},os=function(e,t){for(var n=0,r=[];n<e.size;){var i=Math.min(n+t,e.size),a=e.buffer.slice(n,i),o={buffer:a,offset:n,size:a.byteLength,number:e.number,md5:qo(a)};r.push(o),n+=t}return r},ss=function(e,t){return i(void 0,void 0,void 0,function(){var n,r;return a(this,function(i){switch(i.label){case 0:return[4,ns(e,t)];case 1:return n=i.sent().body,t.config.onProgress&&(r=ei(function(t){t.loaded>e.loaded&&(e.loaded=t.loaded)},t.config.progressInterval)),e.request=rs(e.buffer,n,r,t.config),[4,e.request];case 2:return i.sent(),e.loaded=e.size,[2,e.request]}})})},us=function(e,t){var n=t.config,r=(n.host,Zo(t.params.location_url)),i=nn({apikey:n.apikey,part:e.number+1,size:t.file.size},t.params),a=es(i,n);return Yr("post",r+"/multipart/commit").timeout(n.timeout).field(a)},cs={INIT:"init",RUNNING:"running",DONE:"done",FAILED:"failed",PAUSED:"paused"},ls=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.state.status===cs.FAILED?Promise.resolve():new Promise(function(r){var i=function(){e.state.status===cs.PAUSED?setTimeout(function(){return i()},100):r(t.apply(void 0,n))};i()})}},fs=function(e,t){return{buffer:null,chunks:[],chunkSize:t.config.intelligentChunkSize?t.config.intelligentChunkSize:Jo()?1048576:8388608,intelligentOverride:!1,loaded:0,number:e,request:null,size:0}},ds=function(e,t){return i(void 0,void 0,void 0,function(){var n,r,i,o;return a(this,function(a){switch(a.label){case 0:return n=t.config,!0===n.intelligent||e.intelligentOverride?(r=ls(t,function(e){return ss(e,t)}),e.chunks=os(e,e.chunkSize),[4,Promise.all(e.chunks.map(Qr(n.concurrency,r)))]):[3,2];case 1:return a.sent(),[2,us(e,t)];case 2:return[4,ns(e,t)];case 3:return i=a.sent().body,n.onProgress&&(o=ei(function(t){t.loaded>e.loaded&&(e.loaded=t.loaded)},n.progressInterval)),e.request=rs(e.buffer,i,o,n),[2,e.request]}})})},ps=function(e){e.buffer=void 0,e.request=void 0,e.chunks&&e.chunks.length&&e.chunks.forEach(ps)},hs=function(e){return e.reduce(function(e,t){return e+t},0)},vs=function(e,t){return Math.round(e/t.size*100)},ms=function(e){var t=e.config,n=e.state,r=e.file,i=Object.keys(n.parts).map(function(e){return n.parts[e]}),a=i.map(function(e){return e.loaded}),o=i.map(function(e){return e.chunks}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return e.loaded}).filter(function(e){return e}),s=a;if(!0===t.intelligent&&(s=o),"fallback"===t.intelligent){s=i.filter(function(e){return!e.intelligentOverride}).map(function(e){return e.loaded}).concat(o)}var u=hs(s),c=vs(u,r),l={totalBytes:u,totalPercent:c},f=n.previousPayload||{};return c<f.totalPercent&&(l.totalBytes=f.totalBytes,l.totalPercent=f.totalPercent),n.previousPayload=l,l},ys=function(e,t){return i(void 0,void 0,void 0,function(){var n,r,o,s,u,c,l,f,d,p,h,v,m,y,g,b,_,w=this;return a(this,function(k){switch(k.label){case 0:return n=e.file,r=e.state,o=e.config,s=function(t){t&&(r.progressTick=setInterval(function(){var n=ms(e);100===n.totalPercent&&clearInterval(r.progressTick),t(n)},o.progressInterval))},u=function(e){e&&(e({totalBytes:n.size,totalPercent:100}),clearInterval(r.progressTick))},t.pause=function(){r.status===cs.RUNNING&&(r.status=cs.PAUSED,clearInterval(r.progressTick))},t.resume=function(){r.status===cs.PAUSED&&(r.status=cs.RUNNING,s(o.onProgress))},c=function(){Object.keys(r.parts).map(function(e){return r.parts[e]}).forEach(function(e){e.request&&e.request.abort(),e.chunks.forEach(function(e){e.request&&e.request.abort()}),ps(e)})},l=function(){c(),clearInterval(r.progressTick),r.status=cs.FAILED,n.buffer&&(n.buffer=null)},f=new Promise(function(e,n){t.cancel=function(){r.status!==cs.RUNNING&&r.status!==cs.PAUSED||(l(),n(new Error("Upload cancelled")))}}),d=function(e){return Promise.race([f,e])},p=function(e,t,i,a){var s=r.retries[e]||0,u=Math.min(o.retryMaxTime,1e3*Math.pow(o.retryFactor,s)),c=new Promise(function(c,f){if(s===o.retry||400===i.status&&"PUT"!==i.method||401===i.status||403===i.status||404===i.status||a&&a.chunkSize<=32768)return l(),f(i);var d=function(){return setTimeout(function(){return c(t())},u)};return a&&(o.intelligent||a.intelligentOverride)&&("PUT"===i.method&&(i.crossDomain||400===i.status)||"ECONNABORTED"===i.code&&i.timeout||"ECONNRESET"===i.code||"ETIMEDOUT"===i.code)?(a.chunkSize/=2,o.onRetry&&o.onRetry({location:e,parts:r.parts,filename:Xo(n,o),chunkSize:a.chunkSize,attempt:void 0}),"fallback"===o.intelligent&&(a.intelligentOverride=!0),d()):(s+=1,r.retries[e]=s,o.onRetry&&o.onRetry({location:e,parts:r.parts,filename:Xo(n,o),attempt:s}),d())});return d(c)},r.status=cs.RUNNING,[4,d(ts(e))];case 1:return h=k.sent().body,e.params=h,v=ls(e,function(t){return i(w,void 0,void 0,function(){var n,i,s,u,c,l,f;return a(this,function(a){switch(a.label){case 0:return[4,Ko(t,e)];case 1:if(n=a.sent(),0===n.size)return[2,Promise.reject(new Error("Upload aborted due to empty chunk."))];i="upload part "+(n.number+1),r.parts[n.number]=n,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,ds(n,e)];case 3:return s=a.sent(),(u=s.headers.etag,c=s.status,206===c)?(l=new Error("Intelligent part failed to commit"),[2,p(i,function(){return v(n)},l,n)]):(n.loaded=n.size,ps(n),o.intelligent||u?[2,u]:[2,Promise.reject(new Error("Response from S3 is missing ETag header."))]);case 4:return f=a.sent(),[2,p(i,function(){return v(n)},f,n)];case 5:return[2]}})})}),m=Math.ceil(n.size/o.partSize),y=ti(0,m).map(function(t){return fs(t,e)}),g=Promise.all(y.map(Qr(o.concurrency,v))),s(o.onProgress),[4,d(g)];case 2:return b=k.sent(),_=ls(e,function(){return i(w,void 0,void 0,function(){var t,i;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,as(b,e)];case 1:return t=a.sent(),202===t.status?[2,new Promise(function(e){setTimeout(function(){return e(_())},1e3)})]:(r.status=cs.DONE,u(o.onProgress),n.buffer&&(n.buffer=null),t.body&&t.body.error&&t.body.error.text?[2,Promise.reject(new Error("File upload error: "+t.body.error.text))]:[2,t.body]);case 2:return i=a.sent(),[2,p("complete",_,i)];case 3:return[2]}})})}),[2,d(_())]}})})},gs=function(e,t,n,r,i,a){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i={}),Qo(t).then(function(t){if(void 0!==t.size&&0===t.size||0===t.length)return Promise.reject(new Error("file has a size of 0."));var o=[{name:"host",type:gr},{name:"path",type:hr},{name:"mimetype",type:gr},{name:"partSize",type:yr},{name:"concurrency",type:_r(mr,function(e){return e>0})},{name:"onProgress",type:vr},{name:"progressInterval",type:mr},{name:"onRetry",type:vr},{name:"retry",type:mr},{name:"retryFactor",type:mr},{name:"retryMaxTime",type:mr},{name:"timeout",type:mr},{name:"intelligent",type:wr([hr,br.of("fallback")])},{name:"intelligentChunkSize",type:yr}],s=gr,u=kr({id:gr}),c=wr([s,u]);c.dispatch=function(e){return e.id?u:s};var l=[{name:"location",type:br.of("s3 gcs rackspace azure dropbox")},{name:"region",type:gr},{name:"path",type:gr},{name:"container",type:gr},{name:"filename",type:gr},{name:"access",type:br.of("public private")},{name:"workflows",type:Sr(c)}];Xr("upload (options)",o,n),Xr("upload (storeOptions)",l,r);var f,d=nn({},r),p=nn({},n);if(d.filename)f=d.filename;else if(void 0===t.name)if(t.type){var h=t.type.split("/").pop();f="untitled."+h}else f="untitled";void 0===d.location&&(d.location="s3"),p.intelligent&&(p.partSize=8388608);var v=a&&a.policy||e.policy,m=a&&a.signature||e.signature,y=nn({host:e.urls.uploadApiUrl,apikey:e.apikey,policy:v,signature:m,partSize:6291456,concurrency:3,progressInterval:1e3,retry:10,retryFactor:2,retryMaxTime:15e3,customName:f,mimetype:n.mimetype,store:{workflows:d.workflows,store_location:d.location,store_region:d.region,store_container:d.container,store_path:d.path,store_access:d.access},timeout:12e4},p);return ys({file:t,config:y,state:{parts:{},progressTick:null,previousPayload:null,retries:{},status:cs.INIT}},i)})},bs=function(e,t,n,r){var i=nn({},n),a=r&&r.policy||e.policy,o=r&&r.signature||e.signature,s=o&&a,u=[e.urls.cdnUrl],c=i.css&&encodeURIComponent('"'+i.css+'"'),l=c?"preview=css:"+c:"preview";return-1!==t.indexOf("src:")?u.push(e.apikey+"/"+l):u.push(l),s&&u.push("security=policy:"+a+",signature:"+o),u.push(t),u.join("/")},_s=function(e,t,n){if(!t||"string"!=typeof t)throw new Error("A valid Filestack handle or storage alias is required for preview");Xr("preview",[{name:"id",type:gr},{name:"css",type:gr}],n);var r=Zr(n),i=bs(e,t,r);if(r.id){var a=r.id,o=document.createElement("iframe"),s=document.getElementById(a);if(o.src=i,o.width="100%",o.height="100%",!s)throw new Error('DOM Element with id "'+a+'" not found.');return s.appendChild(o)}return window.open(i,t)},ws=function(){function e(e,t){this.cache=!1,this.session=e,this.cloudApiUrl=e.urls.cloudApiUrl,t&&t.sessionCache&&(this.cache=t.sessionCache)}return Object.defineProperty(e.prototype,"token",{get:function(){if(this.cache){var e=localStorage.getItem("__fs_picker_token");if(e)return e}return this._token},set:function(e){this.cache&&localStorage.setItem("__fs_picker_token",e),this._token=e},enumerable:!0,configurable:!0}),e.prototype.prefetch=function(){var e={apikey:this.session.apikey};return Yr("get",this.cloudApiUrl+"/prefetch").query(e).then(function(e){return e.body})},e.prototype.list=function(e,t){var n=this;void 0===t&&(t={});var r={apikey:this.session.apikey,clouds:e,flow:"web",token:this.token};return this.session.policy&&this.session.signature&&(r.policy=this.session.policy,r.signature=this.session.signature),new Promise(function(e,i){var a=Yr("post",n.cloudApiUrl+"/folder/list").send(r).end(function(t,r){t?i(t):(r.body&&r.body.token&&(n.token=r.body.token),e(r.body))});t.cancel=function(){a.abort(),i(new Error("Cancelled"))}})},e.prototype.store=function(e,t,n,r,i){var a=this;void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i={});var o;void 0===n.location&&(n.location="s3");var s={apikey:this.session.apikey,token:this.token,flow:"web",clouds:(o={},o[e]={path:t,store:Zr(n)},o)};return"customsource"===e&&r.customSourcePath&&(s.clouds.customsource.customSourcePath=r.customSourcePath),"customsource"===e&&r.customSourceContainer&&(s.clouds.customsource.customSourceContainer=r.customSourceContainer),this.session.policy&&this.session.signature&&(s.policy=this.session.policy,s.signature=this.session.signature),new Promise(function(t,n){var r=Yr("post",a.cloudApiUrl+"/store/").send(s).end(function(r,i){r?n(r):(i.body&&i.body.token&&(a.token=i.body.token),t(i.body&&i.body[e]?i.body[e]:i.body))});i.cancel=function(){r.abort(),n(new Error("Cancelled"))}})},e.prototype.link=function(e,t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r={});var a,o={apikey:this.session.apikey,token:this.token,flow:"web",clouds:(a={},a[e]={path:t},a)};return"customsource"===e&&n.customSourcePath&&(o.clouds.customsource.customSourcePath=n.customSourcePath),"customsource"===e&&n.customSourceContainer&&(o.clouds.customsource.customSourceContainer=n.customSourceContainer),this.session.policy&&this.session.signature&&(o.policy=this.session.policy,o.signature=this.session.signature),new Promise(function(t,n){var a=Yr("post",i.cloudApiUrl+"/link/").send(o).end(function(r,a){r?n(r):(a.body&&a.body.token&&(i.token=a.body.token),t(a.body[e]?a.body[e]:a.body))});r.cancel=function(){a.abort(),n(new Error("Cancelled"))}})},e.prototype.logout=function(e){var t,n=this,r={apikey:this.session.apikey,flow:"web",token:this.token};return e?r.clouds=(t={},t[e]={},t):this.cache&&localStorage.removeItem("__fs_picker_token"),new Promise(function(e,t){Yr("post",n.cloudApiUrl+"/auth/logout/").send(r).end(function(r,i){r?t(r):(i.body&&i.body.token&&(n.token=i.body.token),e(i.body))})})},e.prototype.metadata=function(e){var t=this,n={apikey:this.session.apikey,url:e};return this.session.policy&&this.session.signature&&(n.policy=this.session.policy,n.signature=this.session.signature),new Promise(function(e,r){Yr("post",t.cloudApiUrl+"/metadata").send(n).end(function(t,n){t?r(t):e(n.body)})})},e.prototype.tokInit=function(e){var t=this;if("video"!==e&&"audio"!==e)throw new Error("Type must be one of video or audio.");return new Promise(function(n,r){return Yr("post",t.cloudApiUrl+"/recording/"+e+"/init").end(function(e,t){e?r(e):n(t)})})},e.prototype.tokStart=function(e,t,n){var r=this;if("video"!==e&&"audio"!==e)throw new Error("Type must be one of video or audio.");var i={apikey:t,session_id:n};return new Promise(function(t,n){return Yr("post",r.cloudApiUrl+"/recording/"+e+"/start").send(i).end(function(e,r){e?n(e):t(r)})})},e.prototype.tokStop=function(e,t,n,r){var i=this;if("video"!==e&&"audio"!==e)throw new Error("Type must be one of video or audio.");var a={apikey:t,session_id:n,archive_id:r};return new Promise(function(t,n){return Yr("post",i.cloudApiUrl+"/recording/"+e+"/stop").send(a).end(function(e,r){e?n(e):t(r)})})},e}(),ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs=function(){var e=void 0;return"object"===("undefined"==typeof window?"undefined":ks(window))&&(e=window.filestackInternals,e||(e={},window.filestackInternals=e),e.loader||(e.loader={modules:{}})),e}(),Ss=xs&&xs.loader.modules,Es=function(e,t){var n=Ss[e];if(n||(Ss[e]={},n=Ss[e]),n.instance)return Promise.resolve(n.instance);if(n.promise)return n.promise;var r=new Promise(function(r,i){var a=function(){n.resolvePromise=r;var a=document.createElement("script");a.src=e,a.onerror=i,t&&(a.id=t),document.body.appendChild(a)};!function e(){"complete"===document.readyState?a():setTimeout(e,50)}()});return n.promise=r,r},Cs={picker:"__filestack-picker-module"};!function(e){e.cw="CW",e.ccw="CCW"}(To||(To={}));var Ps;!function(e){e.inline="inline",e.overlay="overlay",e.dropPane="dropPane"}(Ps||(Ps={}));var Os=function(){function e(e,t){this._initialized=this.loadModule(e,t)}return e.prototype.open=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this._initialized];case 1:return e=t.sent(),[4,e.open()];case 2:return t.sent(),[2]}})})},e.prototype.crop=function(e){return i(this,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return[4,this._initialized];case 1:return t=n.sent(),[4,t.crop(e)];case 2:return n.sent(),[2]}})})},e.prototype.close=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this._initialized];case 1:return e=t.sent(),[4,e.close()];case 2:return t.sent(),[2]}})})},e.prototype.cancel=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this._initialized];case 1:return e=t.sent(),[4,e.cancel()];case 2:return t.sent(),[2]}})})},e.prototype.loadModule=function(e,t){return i(this,void 0,void 0,function(){var n,r;return a(this,function(i){switch(i.label){case 0:return n=e.session.urls.pickerUrl,[4,Es(n,Cs.picker)];case 1:return r=i.sent(),[2,new r(e,t)]}})})},e}(),Ts=function(e,t){return new Os(e,t)},As=function(){function e(e,t){var n=this;if(!e||"string"!=typeof e||0===e.length)throw new Error("An apikey is required to initialize the Filestack client");var r=Zt.urls;if(this.session={apikey:e,urls:r},t){var i=t.cname,a=t.security;if(a&&(!a.policy||!a.signature))throw new Error("Both policy and signature are required for client security");if(a&&a.policy&&a.signature&&(this.session.policy=a.policy,this.session.signature=a.signature),i){var o=/filestackapi.com|filestackcontent.com/i;this.session.cname=i,Object.keys(r).forEach(function(e){n.session.urls[e]=r[e].replace(o,i)})}}this.cloud=new ws(this.session,t)}return e.prototype.logout=function(e){return this.cloud.logout(e)},e.prototype.metadata=function(e,t,n){return ri(this.session,e,t,n)},e.prototype.picker=function(e){return Ts(this,e)},e.prototype.preview=function(e,t){return _s(this.session,e,t)},e.prototype.remove=function(e,t){return ni(this.session,e,!1,t)},e.prototype.removeMetadata=function(e,t){return ni(this.session,e,!0,t)},e.prototype.storeURL=function(e,t,n,r){return Ro(this.session,e,t,n,r)},e.prototype.retrieve=function(e,t,n){return ai(this.session,e,t,n)},e.prototype.transform=function(e,t){return Do(this.session,e,t)},e.prototype.upload=function(e,t,n,r,i){return gs(this.session,e,t,n,r,i)},e}(),Ms=function(e,t){return new As(e,t)},Is="1.8.2"}.call(t,n(46))},function(e,t,n){"use strict";var r=n(577);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(18),a=r(i),o=n(227),s=r(o),u=n(19),c=r(u),l=n(25),f=r(l),d=n(42),p=r(d),h=n(6),v=r(h),m=n(43),y=r(m),g=n(44),b=r(g),_=n(5),w=r(_);Object.defineProperty(t,"__esModule",{value:!0});var k=n(11),x=n(31),S=n(620),E=n(249);t.User=E.User;var C=n(626),P=n(645),O=n(261),T=n(652),A=n(56),M=n(267),I=n(685),D=n(698),R=n(707),j=n(714),N=n(721),L=n(724),F=n(725),U=n(726),$=n(727);t.PushNotification=$.PushNotification;var B=n(45),q=x.Logger.scope("Client"),z=n(280).version,H="A valid Twilio token should be provided",V=function e(){(0,w.default)(this,e)},Y=function(e){function t(e,n){(0,w.default)(this,t);var r=(0,y.default)(this,(t.__proto__||(0,p.default)(t)).call(this));r.connectionState="connecting",r.sessionPromise=null,r.channelsPromise=null,r.version=z,r.parsePushNotification=t.parsePushNotification,r.options=n||{},r.options.disableDeepClone||(r.options=B.deepClone(r.options)),r.options.logLevel=r.options.logLevel||"silent",q.setLevel(r.options.logLevel);var i=r.options.productId="ip_messaging";if(r.options.Sync=r.options.Sync||{},void 0===r.options.Sync.enableSessionStorage&&(r.options.Sync.enableSessionStorage=!0),r.options.region&&(r.options.Sync.region=r.options.region),!e)throw new Error(H);return r.services=new V,r.config=new S.Configuration(r.options),r.options.twilsockClient=r.options.twilsockClient||new A.Twilsock(e,i,r.options),r.options.transport=r.options.transport||r.options.twilsockClient,r.options.notificationsClient=r.options.notificationsClient||new M.Notifications(e,r.options),r.options.syncClient=r.options.syncClient||new I.SyncClient(e,r.options),r.services.syncClient=r.options.syncClient,r.services.transport=r.options.transport,r.services.twilsockClient=r.options.twilsockClient,r.services.notificationClient=r.options.notificationsClient,r.services.session=new R.Session(r.services,r.config),r.sessionPromise=r.services.session.initialize(),r.services.network=new P.Network(r.config,r.services),r.services.users=new N.Users({session:r.services.session,network:r.services.network,syncClient:r.services.syncClient}),r.services.users.on("userSubscribed",r.emit.bind(r,"userSubscribed")),r.services.users.on("userUpdated",function(e){return r.emit("userUpdated",e)}),r.services.users.on("userUnsubscribed",r.emit.bind(r,"userUnsubscribed")),r.services.twilsockClient.on("tokenAboutToExpire",function(e){return r.emit("tokenAboutToExpire",e)}),r.services.twilsockClient.on("tokenExpired",function(){return r.emit("tokenExpired")}),r.services.twilsockClient.on("connectionError",function(e){return r.emit("connectionError",e)}),r.services.consumptionHorizon=new F.ConsumptionHorizon(r.services),r.services.typingIndicator=new L.TypingIndicator(r.config,{transport:r.services.twilsockClient,notificationClient:r.services.notificationClient},r.getChannelBySid.bind(r)),r.services.syncList=new T.SyncList(r.services),r.channels=new j.Channels(r.services),r.channelsPromise=r.sessionPromise.then(function(){return r.channels.on("channelAdded",r.emit.bind(r,"channelAdded")),r.channels.on("channelRemoved",r.emit.bind(r,"channelRemoved")),r.channels.on("channelInvited",r.emit.bind(r,"channelInvited")),r.channels.on("channelJoined",r.emit.bind(r,"channelJoined")),r.channels.on("channelLeft",r.emit.bind(r,"channelLeft")),r.channels.on("channelUpdated",function(e){return r.emit("channelUpdated",e)}),r.channels.on("memberJoined",r.emit.bind(r,"memberJoined")),r.channels.on("memberLeft",r.emit.bind(r,"memberLeft")),r.channels.on("memberUpdated",function(e){return r.emit("memberUpdated",e)}),r.channels.on("messageAdded",r.emit.bind(r,"messageAdded")),r.channels.on("messageUpdated",function(e){return r.emit("messageUpdated",e)}),r.channels.on("messageRemoved",r.emit.bind(r,"messageRemoved")),r.channels.on("typingStarted",r.emit.bind(r,"typingStarted")),r.channels.on("typingEnded",r.emit.bind(r,"typingEnded")),r.channels.fetchChannels()}).then(function(){return r.channels}),r.services.notificationClient.on("connectionStateChanged",function(e){var t=null;switch(e){case"connected":t="connected";break;case"denied":t="denied";break;case"disconnecting":t="disconnecting";break;case"disconnected":t="disconnected";break;default:t="connecting"}t!==r.connectionState&&(r.connectionState=t,r.emit("connectionStateChanged",r.connectionState))}),r.fpaToken=e,r}return(0,b.default)(t,e),(0,v.default)(t,[{key:"subscribeToPushNotifications",value:function(e){var t=this,n=[];return[O.NotificationTypes.NEW_MESSAGE,O.NotificationTypes.ADDED_TO_CHANNEL,O.NotificationTypes.INVITED_TO_CHANNEL,O.NotificationTypes.REMOVED_FROM_CHANNEL,O.NotificationTypes.TYPING_INDICATOR,O.NotificationTypes.CONSUMPTION_UPDATE].forEach(function(r){n.push(t.services.notificationClient.subscribe(r,e))}),f.default.all(n)}},{key:"unsubscribeFromPushNotifications",value:function(e){var t=this,n=[];return[O.NotificationTypes.NEW_MESSAGE,O.NotificationTypes.ADDED_TO_CHANNEL,O.NotificationTypes.INVITED_TO_CHANNEL,O.NotificationTypes.REMOVED_FROM_CHANNEL,O.NotificationTypes.TYPING_INDICATOR,O.NotificationTypes.CONSUMPTION_UPDATE].forEach(function(r){n.push(t.services.notificationClient.unsubscribe(r,e))}),f.default.all(n)}},{key:"initialize",value:function(){function e(){return n.apply(this,arguments)}var n=(0,c.default)(a.default.mark(function e(){var n,r,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionPromise;case 2:return t.supportedPushChannels.forEach(function(e){return i.subscribeToPushNotifications(e)}),e.next=5,this.services.session.getSessionLinks();case 5:return n=e.sent,this.services.publicChannels=new C.PublicChannels(this,this.services,n.publicChannelsUrl),this.services.userChannels=new U.UserChannels(this,this.services,n.myChannelsUrl),r=(0,s.default)(this.options),r.transport=null,this.services.mcsClient=new D.McsClient(this.fpaToken,n.mediaServiceUrl,r),e.next=13,this.services.typingIndicator.initialize();case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"shutdown",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.twilsockClient.disconnect();case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateToken",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(t){var n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(q.info("updateToken"),t){e.next=3;break}throw new Error(H);case 3:if(this.fpaToken!==t){e.next=5;break}return e.abrupt("return",this);case 5:return e.next=7,this.services.twilsockClient.updateToken(t).then(function(){return n.fpaToken=t}).then(function(){return n.services.mcsClient.updateToken(t)}).then(function(){return n.sessionPromise});case 7:return e.abrupt("return",this);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"getChannelBySid",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(t){var n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Client.getChannelBySid requires a <String>channelSid parameter");case 2:return e.abrupt("return",this.channels.syncListRead.promise.then(function(){return n.channels.getChannel(t).then(function(e){return e||n.services.publicChannels.getChannelBySid(t).then(function(e){return n.channels.pushChannel(e)})})}));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getChannelByUniqueName",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(t){var n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"==typeof t){e.next=2;break}throw new Error("Client.getChannelByUniqueName requires a <String>uniqueName parameter");case 2:return e.abrupt("return",this.channels.syncListRead.promise.then(function(){return n.services.publicChannels.getChannelByUniqueName(t).then(function(e){return n.channels.pushChannel(e)})}));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getSubscribedChannels",value:function(e){return this.channelsPromise.then(function(t){return t.getChannels(e)})}},{key:"getLocalChannels",value:function(e){return this.channelsPromise.then(function(n){var r=[];n.channels.forEach(function(e){r.push(e)});var i="ascending";if(e&&e.order)if("descending"===e.order)i="descending";else if("ascending"!==e.order)throw new Error("Sorting order should be `ascending` or `descending`");if(e&&e.criteria)if("lastMessage"===e.criteria)r.sort(function(e,n){return t.compareChannelsByLastMessage(e,n,i)});else if("uniqueName"===e.criteria)r.sort(function(e,n){return t.compareChannelsByStringProperty(e.uniqueName,n.uniqueName,i)});else{if("friendlyName"!==e.criteria)throw new Error("Sorting criteria should be one of `lastMessage`, `uniqueName` or `friendlyName`");r.sort(function(e,n){return t.compareChannelsByStringProperty(e.friendlyName,n.friendlyName,i)})}return r})}},{key:"getPublicChannelDescriptors",value:function(){return this.services.publicChannels.getChannels()}},{key:"getUserChannelDescriptors",value:function(){return this.services.userChannels.getChannels()}},{key:"createChannel",value:function(e){return e=e||{},this.channelsPromise.then(function(t){return t.addChannel(e)})}},{key:"setPushRegistrationId",value:function(){function e(e,t){return n.apply(this,arguments)}var n=(0,c.default)(a.default.mark(function e(n,r){var i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==t.supportedPushChannels.indexOf(n)){e.next=2;break}throw new Error("Invalid or unsupported channelType: "+n);case 2:return e.next=4,this.subscribeToPushNotifications(n).then(function(){return i.services.notificationClient.setPushRegistrationId(r,n)});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"unsetPushRegistrationId",value:function(){function e(e){return n.apply(this,arguments)}var n=(0,c.default)(a.default.mark(function e(n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==t.supportedPushChannels.indexOf(n)){e.next=2;break}throw new Error("Invalid or unsupported channelType: "+n);case 2:return e.next=4,this.unsubscribeFromPushNotifications(n);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"handlePushNotification",value:function(){function e(e){return n.apply(this,arguments)}var n=(0,c.default)(a.default.mark(function e(n){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:q.debug("handlePushNotification, notificationPayload=",n),this.emit("pushNotification",t.parsePushNotification(n));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"getUser",value:function(e){return this.services.users.getUser(e)}},{key:"getUserDescriptor",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.users.getUserDescriptor(t));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"getSubscribedUsers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.users.getSubscribedUsers());case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"user",get:function(){return this.services.users.myself}},{key:"reachabilityEnabled",get:function(){return this.services.session.reachabilityEnabled}},{key:"token",get:function(){return this.fpaToken}}],[{key:"create",value:function(){function e(e,t){return n.apply(this,arguments)}var n=(0,c.default)(a.default.mark(function e(n,r){var i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new t(n,r),e.next=3,i.initialize();case 3:return e.abrupt("return",i);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"compareChannelsByLastMessage",value:function(e,t,n){if(e.lastMessage&&t.lastMessage){if(e.lastMessage.timestamp&&t.lastMessage.timestamp)return e.lastMessage.timestamp.getTime()<t.lastMessage.timestamp.getTime()?"ascending"===n?-1:1:"ascending"===n?1:-1;if(e.lastMessage.timestamp)return-1;if(t.lastMessage.timestamp)return 1}return e.lastMessage?-1:t.lastMessage?1:0}},{key:"compareChannelsByStringProperty",value:function(e,t,n){return e&&t?"ascending"===n?e.localeCompare(t):-1*e.localeCompare(t):e?-1:t?1:0}},{key:"parsePushNotificationChatData",value:function(e){var n={};for(var r in t.supportedPushDataFields)void 0!==e[r]&&null!==e[r]&&("message_index"===r?null!==B.parseToNumber(e[r])&&(n[t.supportedPushDataFields[r]]=Number(e[r])):n[t.supportedPushDataFields[r]]=e[r]);return n}},{key:"parsePushNotification",value:function(e){if(q.debug("parsePushNotification, notificationPayload=",e),void 0===e||null===e)throw new Error("Push notification payload should be provided");if(void 0!==e.aps){if(!e.twi_message_type)throw new Error("Provided push notification payload does not contain Programmable Chat push notification type");var n=t.parsePushNotificationChatData(e),r=e.aps,i=null,a=null;return"string"==typeof r.alert?i=r.alert||null:(i=r.alert.body||null,a=r.alert.title||null),new $.PushNotification({title:a,body:i,sound:r.sound||null,badge:r.badge||null,action:r.category||null,type:e.twi_message_type,data:n})}if(void 0!==e.data){var o=e.data;if(!o.twi_message_type)throw new Error("Provided push notification payload does not contain Programmable Chat push notification type");var s=t.parsePushNotificationChatData(e.data);return new $.PushNotification({title:o.twi_title||null,body:o.twi_body||null,sound:o.twi_sound||null,badge:null,action:o.twi_action||null,type:o.twi_message_type,data:s})}throw new Error("Provided push notification payload is not Programmable Chat notification")}}]),t}(k.EventEmitter);t.Client=Y,Y.version=z,Y.supportedPushChannels=["fcm","apn","gcm"],Y.supportedPushDataFields={channel_sid:"channelSid",message_sid:"messageSid",message_index:"messageIndex"},t.default=Y},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(579),i)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,r){var a=t&&t.prototype instanceof i?t:i,o=Object.create(a.prototype),s=new p(r||[]);return o._invoke=c(e,n,s),o}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function a(){}function o(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(n,i,a,o){var s=r(e[n],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)}):Promise.resolve(c).then(function(e){u.value=e,a(u)},o)}o(s.arg)}function n(e,n){function r(){return new Promise(function(r,i){t(e,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function c(e,t,n){var i=E;return function(a,o){if(i===P)throw new Error("Generator is already running");if(i===O){if("throw"===a)throw o;return v()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===T)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===E)throw i=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=P;var c=r(e,t,n);if("normal"===c.type){if(i=n.done?O:C,c.arg===T)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=O,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,l(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,T;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,T):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return r.next=r}}return{next:v}}function v(){return{value:m,done:!0}}var m,y=Object.prototype,g=y.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",k=b.toStringTag||"@@toStringTag",x="object"==typeof e,S=t.regeneratorRuntime;if(S)return void(x&&(e.exports=S));S=t.regeneratorRuntime=x?e.exports:{},S.wrap=n;var E="suspendedStart",C="suspendedYield",P="executing",O="completed",T={},A={};A[_]=function(){return this};var M=Object.getPrototypeOf,I=M&&M(M(h([])));I&&I!==y&&g.call(I,_)&&(A=I);var D=o.prototype=i.prototype=Object.create(A);a.prototype=D.constructor=o,o.constructor=a,o[k]=a.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(D),e},S.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[w]=function(){return this},S.AsyncIterator=u,S.async=function(e,t,r,i){var a=new u(n(e,t,r,i));return S.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},s(D),D[k]="Generator",D[_]=function(){return this},D.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,T):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;d(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),T}}}(function(){return this}()||Function("return this")())},function(e,t,n){n(581),e.exports=n(8).Object.assign},function(e,t,n){var r=n(15);r(r.S+r.F,"Object",{assign:n(582)})},function(e,t,n){"use strict";var r=n(119),i=n(163),a=n(122),o=n(95),s=n(157),u=Object.assign;e.exports=!u||n(54)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=o(e),u=arguments.length,c=1,l=i.f,f=a.f;u>c;)for(var d,p=s(arguments[c++]),h=l?r(p).concat(l(p)):r(p),v=h.length,m=0;v>m;)f.call(p,d=h[m++])&&(n[d]=p[d]);return n}:u},function(e,t,n){var r=n(83),i=n(120),a=n(584);e.exports=function(e){return function(t,n,o){var s,u=r(t),c=i(u.length),l=a(o,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(159),i=Math.max,a=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):a(e,t)}},function(e,t,n){n(123),n(72),n(85),n(591),n(594),n(595),e.exports=n(8).Promise},function(e,t,n){var r=n(159),i=n(158);e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(96),i=n(92),a=n(97),o={};n(53)(o,n(20)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(33),i=n(34),a=n(119);e.exports=n(41)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,u=0;s>u;)r.f(e,n=o[u++],t[n]);return e}},function(e,t,n){"use strict";var r=n(590),i=n(232),a=n(84),o=n(83);e.exports=n(164)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r,i,a,o,s=n(94),u=n(17),c=n(50),l=n(124),f=n(15),d=n(22),p=n(69),h=n(165),v=n(98),m=n(235),y=n(236).set,g=n(592)(),b=n(167),_=n(238),w=n(593),k=n(239),x=u.TypeError,S=u.process,E=S&&S.versions,C=E&&E.v8||"",P=u.Promise,O="process"==l(S),T=function(){},A=i=b.f,M=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(20)("species")]=function(e){e(T,T)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,i=1==e._s,a=0;n.length>a;)!function(t){var n,a,o,s=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(i||(2==e._h&&N(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),o=!0)),n===t.promise?c(x("Promise-chain cycle")):(a=I(n))?a.call(n,u,c):u(n)):c(r)}catch(e){l&&!o&&l.exit(),c(e)}}(n[a++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){y.call(u,function(){var t,n,r,i=e._v,a=j(e);if(a&&(t=_(function(){O?S.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=O||j(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){y.call(u,function(){var t;O?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=I(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,c(F,r,1),c(L,r,1))}catch(e){L.call(r,e)}}):(n._v=e,n._s=1,D(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};M||(P=function(e){h(this,P,"Promise","_h"),p(e),r.call(this);try{e(c(F,this,1),c(L,this,1))}catch(e){L.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(168)(P.prototype,{then:function(e,t){var n=A(m(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(L,e,1)},b.f=A=function(e){return e===P||e===o?new a(e):i(e)}),f(f.G+f.W+f.F*!M,{Promise:P}),n(97)(P,"Promise"),n(240)("Promise"),o=n(8).Promise,f(f.S+f.F*!M,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!M),"Promise",{resolve:function(e){return k(s&&this===o?P:this,e)}}),f(f.S+f.F*!(M&&n(241)(function(e){P.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=A(t),r=n.resolve,i=n.reject,a=_(function(){var n=[],a=0,o=1;v(e,!1,function(e){var s=a++,u=!1;n.push(void 0),o++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--o||r(n))},i)}),--o||r(n)});return a.e&&i(a.v),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(17),i=n(236).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,u="process"==n(93)(o);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=o.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){o.nextTick(c)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,d=document.createTextNode("");new a(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(17),i=r.navigator;e.exports=i&&i.userAgent||""},function(e,t,n){"use strict";var r=n(15),i=n(8),a=n(17),o=n(235),s=n(239);r(r.P+r.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(15),i=n(167),a=n(238);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){n(597),e.exports=n(8).Object.getPrototypeOf},function(e,t,n){var r=n(95),i=n(231);n(598)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(15),i=n(8),a=n(54);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},function(e,t,n){e.exports={default:n(600),__esModule:!0}},function(e,t,n){n(601);var r=n(8).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(15);r(r.S+r.F*!n(41),"Object",{defineProperty:n(33).f})},function(e,t,n){e.exports={default:n(603),__esModule:!0}},function(e,t,n){n(72),n(85),e.exports=n(169).f("iterator")},function(e,t,n){e.exports={default:n(605),__esModule:!0}},function(e,t,n){n(606),n(123),n(609),n(610),e.exports=n(8).Symbol},function(e,t,n){"use strict";var r=n(17),i=n(70),a=n(41),o=n(15),s=n(229),u=n(170).KEY,c=n(54),l=n(161),f=n(97),d=n(121),p=n(20),h=n(169),v=n(171),m=n(607),y=n(243),g=n(34),b=n(22),_=n(83),w=n(153),k=n(92),x=n(96),S=n(608),E=n(245),C=n(33),P=n(119),O=E.f,T=C.f,A=S.f,M=r.Symbol,I=r.JSON,D=I&&I.stringify,R=p("_hidden"),j=p("toPrimitive"),N={}.propertyIsEnumerable,L=l("symbol-registry"),F=l("symbols"),U=l("op-symbols"),$=Object.prototype,B="function"==typeof M,q=r.QObject,z=!q||!q.prototype||!q.prototype.findChild,H=a&&c(function(){return 7!=x(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O($,t);r&&delete $[t],T(e,t,n),r&&e!==$&&T($,t,r)}:T,V=function(e){var t=F[e]=x(M.prototype);return t._k=e,t},Y=B&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},W=function(e,t,n){return e===$&&W(U,t,n),g(e),t=w(t,!0),g(n),i(F,t)?(n.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),n=x(n,{enumerable:k(0,!1)})):(i(e,R)||T(e,R,k(1,{})),e[R][t]=!0),H(e,t,n)):T(e,t,n)},G=function(e,t){g(e);for(var n,r=m(t=_(t)),i=0,a=r.length;a>i;)W(e,n=r[i++],t[n]);return e},K=function(e,t){return void 0===t?x(e):G(x(e),t)},Q=function(e){var t=N.call(this,e=w(e,!0));return!(this===$&&i(F,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,R)&&this[R][e])||t)},J=function(e,t){if(e=_(e),t=w(t,!0),e!==$||!i(F,t)||i(U,t)){var n=O(e,t);return!n||!i(F,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=A(_(e)),r=[],a=0;n.length>a;)i(F,t=n[a++])||t==R||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===$,r=A(n?U:_(e)),a=[],o=0;r.length>o;)!i(F,t=r[o++])||n&&!i($,t)||a.push(F[t]);return a};B||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===$&&t.call(U,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),H(this,e,k(1,n))};return a&&z&&H($,e,{configurable:!0,set:t}),V(e)},s(M.prototype,"toString",function(){return this._k}),E.f=J,C.f=W,n(244).f=S.f=X,n(122).f=Q,n(163).f=Z,a&&!n(94)&&s($,"propertyIsEnumerable",Q,!0),h.f=function(e){return V(p(e))}),o(o.G+o.W+o.F*!B,{Symbol:M});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=P(p.store),re=0;ne.length>re;)v(ne[re++]);o(o.S+o.F*!B,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=M(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!B,"Object",{create:K,defineProperty:W,defineProperties:G,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),I&&o(o.S+o.F*(!B||c(function(){var e=M();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,D.apply(I,r)}}),M.prototype[j]||n(53)(M.prototype,j,M.prototype.valueOf),f(M,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(119),i=n(163),a=n(122);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),u=a.f,c=0;s.length>c;)u.call(e,o=s[c++])&&t.push(o);return t}},function(e,t,n){var r=n(83),i=n(244).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):i(r(e))}},function(e,t,n){n(171)("asyncIterator")},function(e,t,n){n(171)("observable")},function(e,t,n){n(612),e.exports=n(8).Object.setPrototypeOf},function(e,t,n){var r=n(15);r(r.S,"Object",{setPrototypeOf:n(613).set})},function(e,t,n){var r=n(22),i=n(34),a=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(50)(Function.call,n(245).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},function(e,t,n){n(615);var r=n(8).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(15);r(r.S,"Object",{create:n(96)})},function(e,t,n){n(72),n(617),e.exports=n(8).Array.from},function(e,t,n){"use strict";var r=n(50),i=n(15),a=n(95),o=n(233),s=n(234),u=n(120),c=n(618),l=n(166);i(i.S+i.F*!n(241)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=a(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,y=0,g=l(d);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==g||p==Array&&s(g))for(t=u(d.length),n=new p(t);t>y;y++)c(n,y,m?v(d[y],y):d[y]);else for(f=g.call(d),n=new p;!(i=f.next()).done;y++)c(n,y,m?o(f,v,[i.value,y],!0):i.value);return n.length=y,n}})},function(e,t,n){"use strict";var r=n(33),i=n(92);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r,i;!function(a,o){"use strict";r=o,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}(0,function(){"use strict";function e(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function t(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function n(n){return"debug"===n&&(n="log"),typeof console!==u&&("trace"===n&&c?t:void 0!==console[n]?e(console,n):void 0!==console.log?e(console,"log"):s)}function r(e,t){for(var n=0;n<l.length;n++){var r=l[n];this[r]=n<e?s:this.methodFactory(r,e,t)}this.log=this.debug}function i(e,t,n){return function(){typeof console!==u&&(r.call(this,t,n),this[e].apply(this,arguments))}}function a(e,t,r){return n(e)||i.apply(this,arguments)}function o(e,t,n){function i(e){var t=(l[e]||"silent").toUpperCase();if(typeof window!==u){try{return void(window.localStorage[f]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(e){}}}function o(){var e;if(typeof window!==u){try{e=window.localStorage[f]}catch(e){}if(typeof e===u)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(f)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}var s,c=this,f="loglevel";e&&(f+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=n||a,c.getLevel=function(){return s},c.setLevel=function(t,n){if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(s=t,!1!==n&&i(t),r.call(c,t,e),typeof console===u&&t<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){o()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var d=o();null==d&&(d=null==t?"WARN":t),c.setLevel(d,!1)}var s=function(){},u="undefined",c=typeof window!==u&&typeof window.navigator!==u&&/Trident\/|MSIE /.test(window.navigator.userAgent),l=["trace","debug","info","warn","error"],f=new o,d={};f.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new o(e,f.getLevel(),f.methodFactory)),t};var p=typeof window!==u?window.log:void 0;return f.noConflict=function(){return typeof window!==u&&window.log===f&&(window.log=p),f},f.getLoggers=function(){return d},f})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(5),a=r(i),o=n(6),s=r(o);Object.defineProperty(t,"__esModule",{value:!0});var u="/v1/typing",c=function(){function e(t){(0,a.default)(this,e),t=t||{};var n=t.Chat||t.IPMessaging||t||{};this.region=n.region||t.region,this.baseUrl=n.apiUri||n.typingUri||(this.region&&"us1"!==this.region?"https://aim."+this.region+".twilio.com":"https://aim.twilio.com"),this.typingIndicatorUri=this.baseUrl+u,this.typingIndicatorTimeoutOverride=n.typingIndicatorTimeoutOverride,this.httpCacheIntervalOverride=n.httpCacheIntervalOverride,this.consumptionReportIntervalOverride=n.consumptionReportIntervalOverride,this.userInfosToSubscribeOverride=n.userInfosToSubscribeOverride,this.retryWhenThrottledOverride=n.retryWhenThrottledOverride,this.backoffConfigOverride=n.backoffConfigOverride}return(0,s.default)(e,[{key:"typingIndicatorTimeoutDefault",get:function(){return 5e3}},{key:"httpCacheIntervalDefault",get:function(){return"PT5S"}},{key:"consumptionReportIntervalDefault",get:function(){return"PT5S"}},{key:"userInfosToSubscribeDefault",get:function(){return 100}},{key:"retryWhenThrottledDefault",get:function(){return!0}},{key:"backoffConfigDefault",get:function(){return{min:1e3,max:4e3,maxAttemptsCount:3}}}]),e}();t.Configuration=c},function(e,t,n){var r=n(8),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){"use strict";function r(e,t){return t.map(function(t){return c.apply(e,t)})}function i(e){function t(n,r,i){var a=e(n,r,i);return Array.isArray(a)?a:l.diffAny(n,r,i,t)}return t}function a(e,t,n){var r=new u.Pointer;return(n?i(n):l.diffAny)(e,t,r)}function o(e,t){var n=u.Pointer.fromJSON(t).evaluate(e);if(void 0!==n)return{op:"test",path:t,value:n.value}}function s(e,t){var n=new Array;return t.filter(l.isDestructive).forEach(function(t){var r=o(e,t.path);if(r&&n.push(r),"from"in t){var i=o(e,t.from);i&&n.push(i)}}),n}Object.defineProperty(t,"__esModule",{value:!0});var u=n(250),c=n(623),l=n(625);t.applyPatch=r,t.createPatch=a,t.createTests=s},function(e,t,n){"use strict";function r(e,t,n){if(Array.isArray(e))if("-"==t)e.push(n);else{var r=parseInt(t,10);e.splice(r,0,n)}else e[t]=n}function i(e,t){if(Array.isArray(e)){var n=parseInt(t,10);e.splice(n,1)}else delete e[t]}function a(e,t){var n=p.Pointer.fromJSON(t.path).evaluate(e);return void 0===n.parent?new m(t.path):(r(n.parent,n.key,h.clone(t.value)),null)}function o(e,t){var n=p.Pointer.fromJSON(t.path).evaluate(e);return void 0===n.value?new m(t.path):(i(n.parent,n.key),null)}function s(e,t){var n=p.Pointer.fromJSON(t.path).evaluate(e);if(null===n.parent)return new m(t.path);if(Array.isArray(n.parent)){if(parseInt(n.key,10)>=n.parent.length)return new m(t.path)}else if(void 0===n.value)return new m(t.path);return n.parent[n.key]=t.value,null}function u(e,t){var n=p.Pointer.fromJSON(t.from).evaluate(e);if(void 0===n.value)return new m(t.from);var a=p.Pointer.fromJSON(t.path).evaluate(e);return void 0===a.parent?new m(t.path):(i(n.parent,n.key),r(a.parent,a.key,n.value),null)}function c(e,t){var n=p.Pointer.fromJSON(t.from).evaluate(e);if(void 0===n.value)return new m(t.from);var i=p.Pointer.fromJSON(t.path).evaluate(e);return void 0===i.parent?new m(t.path):(r(i.parent,i.key,h.clone(n.value)),null)}function l(e,t){var n=p.Pointer.fromJSON(t.path).evaluate(e);return v.compare(n.value,t.value)?null:new y(n.value,t.value)}function f(e,t){switch(t.op){case"add":return a(e,t);case"remove":return o(e,t);case"replace":return s(e,t);case"move":return u(e,t);case"copy":return c(e,t);case"test":return l(e,t)}return new g(t)}var d=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var p=n(250),h=n(624),v=n(251),m=function(e){function t(t){var n=e.call(this,"Value required at path: "+t)||this;return n.path=t,n.name="MissingError",n}return d(t,e),t}(Error);t.MissingError=m;var y=function(e){function t(t,n){var r=e.call(this,"Test failed: "+t+" != "+n)||this;return r.actual=t,r.expected=n,r.name="TestError",r.actual=t,r.expected=n,r}return d(t,e),t}(Error);t.TestError=y,t.add=a,t.remove=o,t.replace=s,t.move=u,t.copy=c,t.test=l;var g=function(e){function t(t){var n=e.call(this,"Invalid operation: "+t.op)||this;return n.operation=t,n.name="InvalidOperationError",n}return d(t,e),t}(Error);t.InvalidOperationError=g,t.apply=f},function(e,t,n){"use strict";function r(e){if(null==e||"object"!=typeof e)return e;if(e.constructor==Array){for(var t=e.length,n=new Array(t),a=0;a<t;a++)n[a]=r(e[a]);return n}var o={};for(var s in e)i.call(e,s)&&(o[s]=r(e[s]));return o}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.prototype.hasOwnProperty;t.clone=r},function(e,t,n){"use strict";function r(e){var t=e.op;return"remove"===t||"replace"===t||"copy"===t||"move"===t}function i(e,t){var n={};for(var r in e)h.call(e,r)&&void 0!==e[r]&&(n[r]=1);for(var i in t)h.call(t,i)&&void 0!==t[i]&&delete n[i];return Object.keys(n)}function a(e){for(var t=e.length,n={},r=0;r<t;r++){var i=e[r];for(var a in i)h.call(i,a)&&void 0!==i[a]&&(n[a]=(n[a]||0)+1)}for(var a in n)n[a]<t&&delete n[a];return Object.keys(n)}function o(e){return"add"===e.op}function s(e){return"remove"===e.op}function u(e,t){return{operations:e.operations.concat(t),cost:e.cost+1}}function c(e,t,n,r){function i(n,r){var o=n+","+r,s=a[o];if(void 0===s){if(n>0&&r>0&&p.compare(e[n-1],t[r-1]))s=i(n-1,r-1);else{var c=[];if(n>0){var l=i(n-1,r),f={op:"remove",index:n-1};c.push(u(l,f))}if(r>0){var d=i(n,r-1),h={op:"add",index:n-1,value:t[r-1]};c.push(u(d,h))}if(n>0&&r>0){var v=i(n-1,r-1),m={op:"replace",index:n-1,original:e[n-1],value:t[r-1]};c.push(u(v,m))}s=c.sort(function(e,t){return e.cost-t.cost})[0]}a[o]=s}return s}void 0===r&&(r=d);var a={"0,0":{operations:[],cost:0}},c=isNaN(e.length)||e.length<=0?0:e.length,l=isNaN(t.length)||t.length<=0?0:t.length;return i(c,l).operations.reduce(function(e,t){var i=e[0],a=e[1];if(o(t)){var u=t.index+1+a,l=u<c+a?String(u):"-",f={op:t.op,path:n.add(l).toString(),value:t.value};return[i.concat(f),a+1]}if(s(t)){var f={op:t.op,path:n.add(String(t.index+a)).toString()};return[i.concat(f),a-1]}var d=n.add(String(t.index+a)),p=r(t.original,t.value,d);return[i.concat.apply(i,p),a]},[[],0])[0]}function l(e,t,n,r){void 0===r&&(r=d);var o=[];return i(e,t).forEach(function(e){o.push({op:"remove",path:n.add(e).toString()})}),i(t,e).forEach(function(e){o.push({op:"add",path:n.add(e).toString(),value:t[e]})}),a([e,t]).forEach(function(i){o.push.apply(o,r(e[i],t[i],n.add(i)))}),o}function f(e,t,n){return p.compare(e,t)?[]:[{op:"replace",path:n.toString(),value:t}]}function d(e,t,n,r){void 0===r&&(r=d);var i=p.objectType(e),a=p.objectType(t);return"array"==i&&"array"==a?c(e,t,n,r):"object"==i&&"object"==a?l(e,t,n,r):f(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var p=n(251),h=Object.prototype.hasOwnProperty;t.isDestructive=r,t.subtract=i,t.intersection=a,t.diffArrays=c,t.diffObjects=l,t.diffValues=f,t.diffAny=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(18),a=r(i),o=n(19),s=r(o),u=n(5),c=r(u),l=n(6),f=r(l);Object.defineProperty(t,"__esModule",{value:!0});var d=n(45),p=n(125),h=n(252),v=function(){function e(t,n,r){(0,c.default)(this,e),this.client=t,this.services=n,this.url=r}return(0,f.default)(e,[{key:"getChannels",value:function(){function e(){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(){var t,n,r=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.UriBuilder(this.url).arg("PageToken",i.pageToken).build(),e.next=3,this.services.network.get(t);case 3:return n=e.sent,e.abrupt("return",new p.RestPaginator(n.body.channels.map(function(e){return new h.ChannelDescriptor(r.client,e)}),function(e){return r.getChannels({pageToken:e})},n.body.meta.previous_token,n.body.meta.next_token));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"getChannelBySid",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new d.UriBuilder(this.url).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",new h.ChannelDescriptor(this.client,r.body));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"getChannelByUniqueName",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new d.UriBuilder(this.url).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",new h.ChannelDescriptor(this.client,r.body));case 5:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.PublicChannels=v},function(e,t,n){n(85),n(72),e.exports=n(628)},function(e,t,n){var r=n(34),i=n(166);e.exports=n(8).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){n(123),n(72),n(85),n(630),n(634),n(636),n(637),e.exports=n(8).Map},function(e,t,n){"use strict";var r=n(254),i=n(173);e.exports=n(255)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(50),i=n(157),a=n(95),o=n(120),s=n(632);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var v,m,y=a(t),g=i(y),b=r(s,h,3),_=o(g.length),w=0,k=n?p(t,_):u?p(t,0):void 0;_>w;w++)if((d||w in g)&&(v=g[w],m=b(v,w,y),e))if(n)k[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:k.push(v)}else if(l)return!1;return f?-1:c||l?l:k}}},function(e,t,n){var r=n(633);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(22),i=n(243),a=n(20)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(15);r(r.P+r.R,"Map",{toJSON:n(256)("Map")})},function(e,t,n){var r=n(98);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(257)("Map")},function(e,t,n){n(258)("Map")},function(e,t,n){n(639),e.exports=n(8).Number.isInteger},function(e,t,n){var r=n(15);r(r.S,"Number",{isInteger:n(640)})},function(e,t,n){var r=n(22),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(25),a=r(i),o=n(18),s=r(o),u=n(19),c=r(u),l=n(42),f=r(l),d=n(5),p=r(d),h=n(6),v=r(h),m=n(43),y=r(m),g=n(44),b=r(g);Object.defineProperty(t,"__esModule",{value:!0});var _=n(11),w=n(260),k=n(31),x=k.Logger.scope("Members"),S=function(e){function t(e,n,r){(0,p.default)(this,t);var i=(0,y.default)(this,(t.__proto__||(0,f.default)(t)).call(this));return i.services=n,i.channel=e,i.members=r,i}return(0,b.default)(t,e),(0,v.default)(t,[{key:"unsubscribe",value:function(){function e(){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rosterEntityPromise){e.next=6;break}return e.next=3,this.rosterEntityPromise;case 3:t=e.sent,t.close(),this.rosterEntityPromise=null;case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"subscribe",value:function(e){var t=this;return this.rosterEntityPromise=this.rosterEntityPromise||this.services.syncClient.map({id:e,mode:"open_existing"}).then(function(e){e.on("itemAdded",function(e){x.debug(t.channel.sid+" itemAdded: "+e.item.key),t.upsertMember(e.item.key,e.item.value).then(function(e){t.emit("memberJoined",e)})}),e.on("itemRemoved",function(e){x.debug(t.channel.sid+" itemRemoved: "+e.key);var n=e.key;if(t.members.has(n)){var r=t.members.get(n);t.members.delete(n),t.emit("memberLeft",r)}}),e.on("itemUpdated",function(e){x.debug(t.channel.sid+" itemUpdated: "+e.item.key),t.upsertMember(e.item.key,e.item.value)});var n=[],r=t,i=function e(t){return t.items.forEach(function(e){n.push(r.upsertMember(e.key,e.value))}),t.hasNextPage?t.nextPage().then(e):null};return e.getItems().then(i).then(function(){return a.default.all(n)}).then(function(){return e})}).catch(function(e){throw t.rosterEntityPromise=null,"disconnected"!=t.services.syncClient.connectionState&&x.error("Failed to get roster object for channel",t.channel.sid,e),x.debug("ERROR: Failed to get roster object for channel",t.channel.sid,e),e})}},{key:"upsertMember",value:function(){function e(e,n){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(t,n){var r,i=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.members.get(t))){e.next=3;break}return e.abrupt("return",r._update(n));case 3:return r=new w.Member(this.services,this.channel,n,t),this.members.set(t,r),r.on("updated",function(e){return i.emit("memberUpdated",e)}),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMembers",value:function(){var e=this;return this.rosterEntityPromise.then(function(){var t=[];return e.members.forEach(function(e){return t.push(e)}),t})}},{key:"getMemberBySid",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(t){var n=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.rosterEntityPromise.then(function(){var e=n.members.get(t);if(!e)throw new Error("Member with SID "+t+" was not found");return e}));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMemberByIdentity",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,c.default)(s.default.mark(function e(t){var n,r=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.abrupt("return",this.rosterEntityPromise.then(function(){if(r.members.forEach(function(e){e.identity===t&&(n=e)}),!n)throw new Error("Member with identity "+t+" was not found");return n}));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"add",value:function(e){return this.services.session.addCommand("addMemberV2",{channelSid:this.channel.sid,username:e})}},{key:"invite",value:function(e){return this.services.session.addCommand("inviteMember",{channelSid:this.channel.sid,username:e})}},{key:"removeByIdentity",value:function(e){return this.services.session.addCommand("removeMember",{channelSid:this.channel.sid,username:e})}},{key:"removeBySid",value:function(e){return this.services.session.addCommand("removeMember",{channelSid:this.channel.sid,memberSid:e})}}]),t}(_.EventEmitter);t.Members=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(25),a=r(i),o=n(73),s=r(o),u=n(18),c=r(u),l=n(19),f=r(l),d=n(55),p=r(d),h=n(42),v=r(h),m=n(5),y=r(m),g=n(6),b=r(g),_=n(43),w=r(_),k=n(44),x=r(k);Object.defineProperty(t,"__esModule",{value:!0});var S=n(11),E=n(31),C=n(643),P=E.Logger.scope("Messages"),O=function(e){function t(e,n){(0,y.default)(this,t);var r=(0,w.default)(this,(t.__proto__||(0,v.default)(t)).call(this));return r.channel=e,r.services=n,r.messagesByIndex=new p.default,r.messagesListPromise=null,r}return(0,x.default)(t,e),(0,b.default)(t,[{key:"subscribe",value:function(e){var t=this;return this.messagesListPromise=this.messagesListPromise||this.services.syncClient.list({id:e,mode:"open_existing"}).then(function(e){return e.on("itemAdded",function(e){P.debug(t.channel.sid+" itemAdded: "+e.item.index);var n=new C.Message(t.channel,t.services,e.item.index,e.item.value);if(t.messagesByIndex.has(n.index))return void P.debug("Message arrived, but already known and ignored",t.channel.sid,n.index);t.messagesByIndex.set(n.index,n),n.on("updated",function(e){return t.emit("messageUpdated",e)}),t.emit("messageAdded",n)}),e.on("itemRemoved",function(e){P.debug(t.channel.sid+" itemRemoved: "+e.index);var n=e.index;if(t.messagesByIndex.has(n)){var r=t.messagesByIndex.get(n);t.messagesByIndex.delete(r.index),r.removeAllListeners("updated"),t.emit("messageRemoved",r)}}),e.on("itemUpdated",function(e){P.debug(t.channel.sid+" itemUpdated: "+e.item.index);var n=t.messagesByIndex.get(e.item.index);n&&n._update(e.item.value)}),e}).catch(function(e){throw t.messagesListPromise=null,"disconnected"!=t.services.syncClient.connectionState&&P.error("Failed to get messages object for channel",t.channel.sid,e),P.debug("ERROR: Failed to get messages object for channel",t.channel.sid,e),e})}},{key:"unsubscribe",value:function(){function e(){return t.apply(this,arguments)}var t=(0,f.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.messagesListPromise){e.next=6;break}return e.next=3,this.messagesListPromise;case 3:t=e.sent,t.close(),this.messagesListPromise=null;case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"send",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(c.default.mark(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P.debug("Sending text message",t,n),null!==n){e.next=3;break}throw new Error("Attributes can't be null");case 3:if(n.constructor===Object){e.next=5;break}throw new Error("Attributes must be a valid JSON object");case 5:return e.abrupt("return",this.services.session.addCommand("sendMessage",{channelSid:this.channel.sid,text:t,attributes:(0,s.default)(n)}));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"sendMedia",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(c.default.mark(function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P.debug("Sending media message",t,i),i.constructor===Object){e.next=3;break}throw new Error("Attributes must be a valid JSON object");case 3:if(n=void 0,!("undefined"!=typeof FormData&&t instanceof FormData)){e.next=11;break}return P.debug("Sending media message as FormData",t,i),e.next=8,this.services.mcsClient.postFormData(t);case 8:n=e.sent,e.next=18;break;case 11:if(P.debug("Sending media message as SendMediaOptions",t,i),r=t,r.contentType&&r.media){e.next=15;break}throw new Error("Media content <Channel#SendMediaOptions> must contain non-empty contentType and media");case 15:return e.next=17,this.services.mcsClient.post(r.contentType,r.media);case 17:n=e.sent;case 18:return e.abrupt("return",this.services.session.addCommand("sendMediaMessage",{channelSid:this.channel.sid,mediaSid:n.sid,attributes:(0,s.default)(i)}));case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMessages",value:function(e,t,n){return t=void 0!==t?t:"end",n=n||"backwards",this._getMessages(e,t,n)}},{key:"wrapPaginator",value:function(e,t,n){var r=this,i="desc"===e,a=function(){return t.nextPage().then(function(t){return r.wrapPaginator(e,t,n)})},o=function(){return t.prevPage().then(function(t){return r.wrapPaginator(e,t,n)})};return n(t.items).then(function(e){return{items:e.sort(function(e,t){return e.index-t.index}),hasPrevPage:i?t.hasNextPage:t.hasPrevPage,hasNextPage:i?t.hasPrevPage:t.hasNextPage,prevPage:i?a:o,nextPage:i?o:a}})}},{key:"_upsertMessage",value:function(e,t){var n=this,r=this.messagesByIndex.get(e);if(r)return r;var i=new C.Message(this.channel,this.services,e,t);return this.messagesByIndex.set(i.index,i),i.on("updated",function(e){return n.emit("messageUpdated",e)}),i}},{key:"_getMessages",value:function(e,t,n){var r=this;t=void 0!==t?t:"end",e=e||30;var i="backwards"===n?"desc":"asc";return this.messagesListPromise.then(function(n){return n.getItems({from:"end"!==t?t:void 0,pageSize:e,order:i})}).then(function(e){return r.wrapPaginator(i,e,function(e){return a.default.all(e.map(function(e){return r._upsertMessage(e.index,e.value)}))})})}}]),t}(S.EventEmitter);t.Messages=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){try{return t?JSON.parse(t):{}}catch(t){return E.warn("Got malformed attributes for the message",e),{}}}var a=n(73),o=r(a),s=n(18),u=r(s),c=n(19),l=r(c),f=n(42),d=r(f),p=n(5),h=r(p),v=n(6),m=r(v),y=n(43),g=r(y),b=n(44),_=r(b);Object.defineProperty(t,"__esModule",{value:!0});var w=n(11),k=n(45),x=n(31),S=n(644),E=x.Logger.scope("Message"),C=function(e){function t(e,n,r,a){(0,h.default)(this,t);var o=(0,g.default)(this,(t.__proto__||(0,d.default)(t)).call(this));return o.channel=e,o.services=n,o.state={sid:a.sid,index:r,author:null==a.author?null:a.author,body:a.text,timestamp:a.timestamp?new Date(a.timestamp):null,dateUpdated:a.dateUpdated?new Date(a.dateUpdated):null,lastUpdatedBy:a.lastUpdatedBy?a.lastUpdatedBy:null,attributes:i(a.sid,a.attributes),type:a.type?a.type:"text",media:a.type&&"media"===a.type&&a.media?new S.Media(a.media,o.services):null,memberSid:null==a.memberSid?null:a.memberSid},o}return(0,_.default)(t,e),(0,m.default)(t,[{key:"_update",value:function(e){var t=[];!e.text&&"string"!=typeof e.text||e.text===this.state.body||(this.state.body=e.text,t.push("body")),e.lastUpdatedBy&&e.lastUpdatedBy!==this.state.lastUpdatedBy&&(this.state.lastUpdatedBy=e.lastUpdatedBy,t.push("lastUpdatedBy")),e.author&&e.author!==this.state.author&&(this.state.author=e.author,t.push("author")),e.dateUpdated&&new Date(e.dateUpdated).getTime()!==(this.state.dateUpdated&&this.state.dateUpdated.getTime())&&(this.state.dateUpdated=new Date(e.dateUpdated),t.push("dateUpdated")),e.timestamp&&new Date(e.timestamp).getTime()!==(this.state.timestamp&&this.state.timestamp.getTime())&&(this.state.timestamp=new Date(e.timestamp),t.push("timestamp"));var n=i(this.sid,e.attributes);k.isDeepEqual(this.state.attributes,n)||(this.state.attributes=n,t.push("attributes")),t.length>0&&this.emit("updated",{message:this,updateReasons:t})}},{key:"getMember",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(){var t,n,r=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!this.state.memberSid){e.next=5;break}return e.next=4,this.channel.getMemberBySid(this.memberSid).catch(function(){return E.debug('Member with sid "'+r.memberSid+'" not found for message '+r.sid),null});case 4:t=e.sent;case 5:if(t||!this.state.author){e.next=9;break}return e.next=8,this.channel.getMemberByIdentity(this.state.author).catch(function(){return E.debug('Member with identity "'+r.author+'" not found for message '+r.sid),null});case 8:t=e.sent;case 9:if(!t){e.next=11;break}return e.abrupt("return",t);case 11:throw n="Member with ",this.state.memberSid&&(n+="SID '"+this.state.memberSid+"' "),this.state.author&&(this.state.memberSid&&(n+="or "),n+="identity '"+this.state.author+"' "),"Member with "===n&&(n="Member "),n+="was not found",new Error(n);case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"remove",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.addCommand("deleteMessage",{channelSid:this.channel.sid,messageIdx:this.index.toString()});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateBody",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new Error("Body <String> is a required parameter for updateBody");case 2:return e.next=4,this.services.session.addCommand("editMessage",{channelSid:this.channel.sid,messageIdx:this.index.toString(),text:t});case 4:return e.abrupt("return",this);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateAttributes",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=4;break}throw new Error("Attributes is required parameter");case 4:if(null!==t){e.next=8;break}throw new Error("Attributes can't be null");case 8:if(t.constructor===Object){e.next=10;break}throw new Error("Attributes must be a valid JSON object");case 10:return e.next=12,this.services.session.addCommand("editMessageAttributes",{channelSid:this.channel.sid,messageIdx:this.index,attributes:(0,o.default)(t)});case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"sid",get:function(){return this.state.sid}},{key:"author",get:function(){return this.state.author}},{key:"body",get:function(){return"media"===this.type?null:this.state.body}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"index",get:function(){return this.state.index}},{key:"lastUpdatedBy",get:function(){return this.state.lastUpdatedBy}},{key:"timestamp",get:function(){return this.state.timestamp}},{key:"attributes",get:function(){return this.state.attributes}},{key:"type",get:function(){return this.state.type}},{key:"media",get:function(){return this.state.media}},{key:"memberSid",get:function(){return this.state.memberSid}}]),t}(w.EventEmitter);t.Message=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(18),a=r(i),o=n(19),s=r(o),u=n(5),c=r(u),l=n(6),f=r(l);Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(t,n){(0,c.default)(this,e),this.mcsMedia=null,this.services=n,this.state={sid:t.sid,filename:t.filename,contentType:t.contentType,size:t.size}}return(0,f.default)(e,[{key:"getContentUrl",value:function(){function e(){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mcsMedia){e.next=8;break}if(!this.services.mcsClient){e.next=7;break}return e.next=4,this.services.mcsClient.get(this.state.sid);case 4:this.mcsMedia=e.sent,e.next=8;break;case 7:throw new Error("Media Content Service is unavailable");case 8:return e.abrupt("return",this.mcsMedia.getContentUrl());case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"sid",get:function(){return this.state.sid}},{key:"filename",get:function(){return this.state.filename}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}}]),e}();t.Media=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(18),a=r(i),o=n(19),s=r(o),u=n(25),c=r(u),l=n(172),f=r(l),d=n(646),p=r(d),h=n(227),v=r(h),m=n(55),y=r(m),g=n(5),b=r(g),_=n(6),w=r(_);Object.defineProperty(t,"__esModule",{value:!0});var k=n(86),x=function(){function e(t,n){var r=this;(0,b.default)(this,e),this.config=t,this.services=n,this.cache=new y.default,this.cacheLifetime=0,this.services.session.getHttpCacheInterval().then(function(e){r.cacheLifetime=1e3*e,r.cleanupCache()})}return(0,w.default)(e,[{key:"backoffConfig",value:function(){return(0,v.default)(this.config.backoffConfigDefault,this.config.backoffConfigOverride)}},{key:"retryWhenThrottled",value:function(){return void 0!==this.config.retryWhenThrottledOverride?this.config.retryWhenThrottledOverride:void 0!==this.config.retryWhenThrottledDefault&&this.config.retryWhenThrottledDefault}},{key:"isExpired",value:function(e){return!this.cacheLifetime||Date.now()-e>this.cacheLifetime}},{key:"cleanupCache",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,f.default)(this.cache);!(e=(r=i.next()).done);e=!0){var a=r.value,o=(0,p.default)(a,2),s=o[0],u=o[1];this.isExpired(u.timestamp)&&this.cache.delete(s)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}0===this.cache.size&&clearInterval(this.timer)}},{key:"pokeTimer",value:function(){var e=this;this.timer=this.timer||setInterval(function(){return e.cleanupCache()},2*this.cacheLifetime)}},{key:"executeWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new c.default(function(r,i){var a=[502,503,504];n&&a.push(429);var o=new k.Retrier(t.backoffConfig());o.on("attempt",function(){e().then(function(e){return o.succeeded(e)}).catch(function(e){a.indexOf(e.status)>-1?o.failed(e):"Twilsock disconnected"===e.message?o.failed(e):(o.removeAllListeners(),o.cancel(),i(e))})}),o.on("succeeded",function(e){r(e)}),o.on("cancelled",function(e){return i(e)}),o.on("failed",function(e){return i(e)}),o.start()})}},{key:"get",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(t){var n,r,i,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.cache.get(t))||this.isExpired(n.timestamp)){e.next=3;break}return e.abrupt("return",n.response);case 3:return r={},e.next=6,this.executeWithRetry(function(){return o.services.transport.get(t,r)},this.retryWhenThrottled());case 6:return i=e.sent,this.cache.set(t,{response:i,timestamp:Date.now()}),this.pokeTimer(),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.Network=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(647),a=r(i),o=n(172),s=r(o);t.default=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=(0,s.default)(e);!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,a.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(648),__esModule:!0}},function(e,t,n){n(85),n(72),e.exports=n(649)},function(e,t,n){var r=n(124),i=n(20)("iterator"),a=n(84);e.exports=n(8).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||a.hasOwnProperty(r(t))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),u=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.minDelay=e.min,n.maxDelay=e.max,n.initialDelay=e.initial||0,n.maxAttemptsCount=e.maxAttemptsCount||0,n.maxAttemptsTime=e.maxAttemptsTime||0,n.randomness=e.randomness||0,n.inProgress=!1,n.attemptNum=0,n.prevDelay=0,n.currDelay=0,n}return a(t,e),o(t,[{key:"attempt",value:function(){clearTimeout(this.timeout),this.attemptNum++,this.timeout=null,this.emit("attempt",this)}},{key:"nextDelay",value:function(e){if("number"==typeof e)return this.prevDelay=0,this.currDelay=e,e;if(0==this.attemptNum)return this.initialDelay;if(1==this.attemptNum)return this.currDelay=this.minDelay,this.currDelay;this.prevDelay=this.currDelay;var t=this.currDelay+this.prevDelay;return this.maxDelay&&t>this.maxDelay&&(this.currDelay=this.maxDelay,t=this.maxDelay),this.currDelay=t,t}},{key:"randomize",value:function(e){var t=e*this.randomness,n=Math.round(Math.random()*t*2-t);return Math.max(0,e+n)}},{key:"scheduleAttempt",value:function(e){var t=this;if(this.maxAttemptsCount&&this.attemptNum>=this.maxAttemptsCount)return this.cleanup(),this.emit("failed",new Error("Maximum attempt count limit reached")),void this.reject(new Error("Maximum attempt count reached"));var n=this.nextDelay(e);if(n=this.randomize(n),this.maxAttemptsTime&&this.startTimestamp+this.maxAttemptsTime<Date.now()+n)return this.cleanup(),this.emit("failed",new Error("Maximum attempt time limit reached")),void this.reject(new Error("Maximum attempt time limit reached"));this.timeout=setTimeout(function(){return t.attempt()},n)}},{key:"cleanup",value:function(){clearTimeout(this.timeout),this.timeout=null,this.inProgress=!1,this.attemptNum=0,this.prevDelay=0,this.currDelay=0}},{key:"start",value:function(){var e=this;if(this.inProgress)throw new Error("Retrier is already in progress");return this.inProgress=!0,new Promise(function(t,n){e.resolve=t,e.reject=n,e.startTimestamp=Date.now(),e.scheduleAttempt(e.initialDelay)})}},{key:"cancel",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null,this.inProgress=!1,this.emit("cancelled"),this.reject(new Error("Cancelled")))}},{key:"succeeded",value:function(e){this.emit("succeeded",e),this.resolve(e)}},{key:"failed",value:function(e,t){if(this.timeout)throw new Error("Retrier attempt is already in progress");this.scheduleAttempt(t)}},{key:"run",value:function(e){var t=this;return this.on("attempt",function(){e().then(function(e){return t.succeeded(e)}).catch(function(e){return t.failed(e)})}),this.start()}}]),t}(s.EventEmitter);t.Retrier=u,t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return void 0!==e&&null!==e}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(11),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(e=e||{},o(e.initialDelay)&&e.initialDelay<1)throw new Error("The initial timeout must be equal to or greater than 1.");if(o(e.maxDelay)&&e.maxDelay<=1)throw new Error("The maximal timeout must be greater than 1.");if(o(e.randomisationFactor)&&(e.randomisationFactor<0||e.randomisationFactor>1))throw new Error("The randomisation factor must be between 0 and 1.");if(o(e.factor)&&e.factor<=1)throw new Error("Exponential factor should be greater than 1.");if(n.initialDelay=e.initialDelay||100,n.maxDelay=e.maxDelay||1e4,n.maxDelay<=n.initialDelay)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");return n.randomisationFactor=e.randomisationFactor||0,n.factor=e.factor||2,n.maxNumberOfRetry=-1,n.reset(),n}return a(t,e),s(t,[{key:"backoff",value:function(e){null==this.timeoutID&&(this.backoffNumber===this.maxNumberOfRetry?(this.emit("fail",e),this.reset()):(this.backoffDelay=this.next(),this.timeoutID=setTimeout(this.onBackoff.bind(this),this.backoffDelay),this.emit("backoff",this.backoffNumber,this.backoffDelay,e)))}},{key:"reset",value:function(){this.backoffDelay=0,this.nextBackoffDelay=this.initialDelay,this.backoffNumber=0,clearTimeout(this.timeoutID),this.timeoutID=null}},{key:"failAfter",value:function(e){if(e<=0)throw new Error("Expected a maximum number of retry greater than 0 but got "+e);this.maxNumberOfRetry=e}},{key:"next",value:function(){this.backoffDelay=Math.min(this.nextBackoffDelay,this.maxDelay),this.nextBackoffDelay=this.backoffDelay*this.factor;var e=1+Math.random()*this.randomisationFactor;return Math.min(this.maxDelay,Math.round(this.backoffDelay*e))}},{key:"onBackoff",value:function(){this.timeoutID=null,this.emit("ready",this.backoffNumber,this.backoffDelay),this.backoffNumber++}}],[{key:"exponential",value:function(e){return new t(e)}}]),t}(u.EventEmitter);t.Backoff=c,t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(18),a=r(i),o=n(19),s=r(o),u=n(5),c=r(u),l=n(6),f=r(l);Object.defineProperty(t,"__esModule",{value:!0});var d=n(45),p=n(125),h=n(653),v=function(){function e(t){(0,c.default)(this,e),this.services=t}return(0,f.default)(e,[{key:"getPage",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(t){var n,r,i,o=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},e.next=3,this.services.session.getSessionLinks();case 3:return n=e.sent,r=new d.UriBuilder(n.syncListUrl).arg("PageToken",t.pageToken).build(),e.next=7,this.services.network.get(r);case 7:return i=e.sent,e.abrupt("return",new p.RestPaginator(i.body.channels.map(function(e){return new h.SyncListDescriptor(e)}),function(e){return o.getPage({pageToken:e})},i.body.meta.previous_token,i.body.meta.next_token));case 9:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.SyncList=v},function(e,t,n){"use strict";var r=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){(0,i.default)(this,e),this.descriptor=t,this.channel_sid=t.channel_sid,this.status=t.status,this.channel=t.channel,this.messages=t.messages,this.roster=t.roster,this.lastConsumedMessageIndex=t.last_consumed_message_index,this.notificationLevel=t.notification_level,this.status=t.status};t.SyncListDescriptor=a},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)};Object.defineProperty(t,"__esModule",{value:!0});var c=n(11),l=n(74),f=n(656),d=n(657),p=n(668),h=n(670),v=n(672),m=n(673),y=n(675),g=n(56),b=n(676),_=n(677),w=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));o.offlineStorageDeferred=new y.Deferred,r.continuationToken=r.continuationToken?r.continuationToken:_.TokenStorage.getStoredToken(n);var s=o.config=new f.Configuration(e,n,r);l.log.setLevel(s.logLevel);var u=new h.WebSocketChannel(s.url),c=r.transport?r.transport:new p.PacketInterface(u,s);return o.channel=r.channel?r.channel:new d.TwilsockImpl(u,c,s),o.registrations=r.registrations?r.registrations:new v.Registrations(c),o.upstream=new m.Upstream(c,o.channel,s),o.registrations.on("registered",function(e){return o.emit("registered",e)}),o.channel.on("message",function(e,t){return setTimeout(function(){return o.emit("message",e,t)},0)}),o.channel.on("stateChanged",function(e){return setTimeout(function(){return o.emit("stateChanged",e)},0)}),o.channel.on("connectionError",function(e){return setTimeout(function(){return o.emit("connectionError",e)},0)}),o.channel.on("tokenAboutToExpire",function(){return setTimeout(function(){return o.emit("tokenAboutToExpire")},0)}),o.channel.on("tokenExpired",function(){return setTimeout(function(){return o.emit("tokenExpired")},0)}),o.channel.on("connected",function(){return o.registrations.updateRegistrations()}),o.channel.on("connected",function(){return o.upstream.sendPendingMessages()}),o.channel.on("connected",function(){return setTimeout(function(){return o.emit("connected")},0)}),o.channel.on("initialized",function(e){o.handleStorageId(n,e),_.TokenStorage.storeToken(e.continuationToken,n),setTimeout(function(){return o.emit("initialized",e)},0)}),o.channel.on("disconnected",function(){return setTimeout(function(){return o.emit("disconnected")},0)}),o.channel.on("disconnected",function(){return o.upstream.rejectPendingMessages()}),o.channel.on("disconnected",function(){return o.offlineStorageDeferred.fail(new g.TwilsockError("Client disconnected"))}),o.offlineStorageDeferred.promise.catch(function(){}),o}return o(t,e),s(t,[{key:"emit",value:function(e){for(var n,r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return l.log.debug("Emitting "+e.toString()+"("+i.map(function(e){return JSON.stringify(e)}).join(", ")+")"),(n=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(n,[this,e].concat(i))}},{key:"handleStorageId",value:function(e,t){if(t.offlineStorage)if(t.offlineStorage.hasOwnProperty(e))try{this.offlineStorageDeferred.set(b.OfflineProductStorage.create(t.offlineStorage[e])),l.log.debug("Offline storage for '"+e+"' product: "+JSON.stringify(t.offlineStorage[e])+".")}catch(n){this.offlineStorageDeferred.fail(new g.TwilsockError("Failed to parse offline storage for "+e+" "+JSON.stringify(t.offlineStorage[e])+". "+n+"."))}else this.offlineStorageDeferred.fail(new g.TwilsockError("No offline storage id for '"+e+"' product: "+JSON.stringify(t.offlineStorage)));else this.offlineStorageDeferred.fail(new g.TwilsockError("No offline storage id"))}},{key:"storageId",value:function(){return this.offlineStorageDeferred.promise}},{key:"updateToken",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l.log.trace("updating token '"+t+"'"),this.config.token!==t){e.next=3;break}return e.abrupt("return");case 3:return this.config.updateToken(t),e.abrupt("return",this.channel.updateToken(t));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"setNotificationsContext",value:function(e,t){this.registrations.setNotificationsContext(e,t)}},{key:"removeNotificationsContext",value:function(e){this.registrations.removeNotificationsContext(e)}},{key:"connect",value:function(){return this.channel.connect()}},{key:"disconnect",value:function(){return this.channel.disconnect()}},{key:"get",value:function(e,t){return this.upstream.send("GET",e,t)}},{key:"post",value:function(e,t,n){return this.upstream.send("POST",e,t,n)}},{key:"put",value:function(e,t,n){return this.upstream.send("PUT",e,t,n)}},{key:"delete",value:function(e,t){return this.upstream.send("DELETE",e,t)}},{key:"isConnected",get:function(){return this.channel.isConnected}},{key:"state",get:function(){return this.channel.state}}]),t}(c.EventEmitter);t.TwilsockClient=w,t.Twilsock=w},function(e,t,n){var r,i;!function(a,o){"use strict";r=o,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}(0,function(){"use strict";function e(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function t(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function n(n){return"debug"===n&&(n="log"),typeof console!==u&&("trace"===n&&c?t:void 0!==console[n]?e(console,n):void 0!==console.log?e(console,"log"):s)}function r(e,t){for(var n=0;n<l.length;n++){var r=l[n];this[r]=n<e?s:this.methodFactory(r,e,t)}this.log=this.debug}function i(e,t,n){return function(){typeof console!==u&&(r.call(this,t,n),this[e].apply(this,arguments))}}function a(e,t,r){return n(e)||i.apply(this,arguments)}function o(e,t,n){function i(e){var t=(l[e]||"silent").toUpperCase();if(typeof window!==u){try{return void(window.localStorage[f]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(e){}}}function o(){var e;if(typeof window!==u){try{e=window.localStorage[f]}catch(e){}if(typeof e===u)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(f)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}var s,c=this,f="loglevel";e&&(f+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=n||a,c.getLevel=function(){return s},c.setLevel=function(t,n){if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(s=t,!1!==n&&i(t),r.call(c,t,e),typeof console===u&&t<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){o()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var d=o();null==d&&(d=null==t?"WARN":t),c.setLevel(d,!1)}var s=function(){},u="undefined",c=typeof window!==u&&typeof window.navigator!==u&&/Trident\/|MSIE /.test(window.navigator.userAgent),l=["trace","debug","info","warn","error"],f=new o,d={};f.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new o(e,f.getLevel(),f.methodFactory)),t};var p=typeof window!==u?window.log:void 0;return f.noConflict=function(){return typeof window!==u&&window.log===f&&(window.log=p),f},f.getLoggers=function(){return d},f})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a="0.5.11",o=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.activeGrant=n,this._token=t;var o=i.region||"us1",s="wss://tsock."+o+".twilio.com/v3/wsconnect",u=i.twilsock||i.Twilsock||{};this.url=u.uri||s,this._continuationToken=i.continuationToken?i.continuationToken:null,this.logLevel=i.logLevel?i.logLevel:"error",this.retryPolicy=i.retryPolicy?i.retryPolicy:{min:1e3,max:12e4,randomness:.2},this.clientMetadata=i.clientMetadata?i.clientMetadata:{},this.clientMetadata.ver=a,this.initRegistrations=i.initRegistrations?i.initRegistrations:null,this.tweaks=i.tweaks?i.tweaks:null}return i(e,[{key:"updateToken",value:function(e){this._token=e}},{key:"updateContinuationToken",value:function(e){this._continuationToken=e}},{key:"token",get:function(){return this._token}},{key:"continuationToken",get:function(){return this._continuationToken}}]),e}();t.Configuration=o},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){setTimeout(e,0)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();"function"==typeof Symbol&&Symbol.iterator;Object.defineProperty(t,"__esModule",{value:!0});var c=n(11),l=n(658),f=n(74),d=n(174),p=n(264),h=n(265),v=n(667),m=function e(){o(this,e)};t.Response=m;var y=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.terminalStates=["disconnected","rejected"],a.lastEmittedState=void 0,a.tokenExpiredSasCode=20104,a.websocket=e,a.websocket.on("connected",function(){return a.fsm.socketConnected()}),a.websocket.on("disconnected",function(e){return a.fsm.socketClosed()}),a.websocket.on("message",function(e){return a.onIncomingMessage(e)}),a.websocket.on("socketError",function(e){return a.emit("connectionError",{terminal:!1,message:e.message,httpStatusCode:null,errorCode:null})}),a.transport=n,a.config=r,a.retrier=new v.BackoffRetrier(r.retryPolicy),a.retrier.on("attempt",function(){return a.retry()}),a.retrier.on("failed",function(e){f.log.warn("Retrying failed: "+e.message),a.disconnect()}),"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",function(){f.log.debug("Browser reported connectivity state: online"),a.fsm.systemOnline()}),window.addEventListener("offline",function(){f.log.debug("Browser reported connectivity state: offline"),a.websocket.close(),a.fsm.socketClosed()})),a.fsm=new l({init:"disconnected",transitions:[{name:"userConnect",from:["disconnected","rejected"],to:"connecting"},{name:"userConnect",from:["connecting","connected"]},{name:"userDisconnect",from:["connecting","initialising","connected","updating","retrying","rejected","waitSocketClosed","waitOffloadSocketClosed"],to:"disconnecting"},{name:"userRetry",from:["retrying"],to:"connecting"},{name:"socketConnected",from:["connecting"],to:"initialising"},{name:"socketClosed",from:["connecting","initialising","connected","updating","error","waitOffloadSocketClosed"],to:"retrying"},{name:"socketClosed",from:["disconnecting"],to:"disconnected"},{name:"socketClosed",from:["waitSocketClosed"],to:"disconnected"},{name:"socketClosed",from:["rejected"],to:"rejected"},{name:"initSuccess",from:["initialising"],to:"connected"},{name:"initError",from:["initialising"],to:"error"},{name:"tokenRejected",from:["initialising","updating"],to:"rejected"},{name:"protocolError",from:["initialising","connected","updating"],to:"error"},{name:"receiveClose",from:["initialising","connected","updating"],to:"waitSocketClosed"},{name:"receiveOffload",from:["initialising","connected","updating"],to:"waitOffloadSocketClosed"},{name:"unsupportedProtocol",from:["initialising","connected","updating"],to:"unsupported"},{name:"receiveFatalClose",from:["initialising","connected","updating"],to:"unsupported"},{name:"userUpdateToken",from:["disconnected","rejected","connecting","retrying"],to:"connecting"},{name:"userUpdateToken",from:["connected"],to:"updating"},{name:"updateSuccess",from:["updating"],to:"connected"},{name:"updateError",from:["updating"],to:"error"},{name:"userSend",from:["connected"],to:"connected"},{name:"systemOnline",from:["retrying"],to:"connecting"}],methods:{onConnecting:function(){a.setupSocket(),a.emit("connecting")},onEnterInitialising:function(){a.sendInit()},onLeaveInitialising:function(){a.cancelInit()},onEnterUpdating:function(){a.sendUpdate()},onLeaveUpdating:function(){a.cancelUpdate()},onEnterRetrying:function(){a.initRetry(),a.emit("connecting")},onEnterConnected:function(){a.resetBackoff(),a.onConnected()},onUserUpdateToken:function(){a.resetBackoff()},onTokenRejected:function(){a.resetBackoff(),a.closeSocket(!0),a.finalizeSocket()},onUserDisconnect:function(){a.closeSocket(!0)},onEnterDisconnecting:function(){a.startDisconnectTimer()},onLeaveDisconnecting:function(){a.cancelDisconnectTimer()},onEnterWaitSocketClosed:function(){a.startDisconnectTimer()},onLeaveWaitSocketClosed:function(){a.cancelDisconnectTimer()},onEnterWaitOffloadSocketClosed:function(){a.startDisconnectTimer()},onLeaveWaitOffloadSocketClosed:function(){a.cancelDisconnectTimer()},onDisconnected:function(){a.resetBackoff(),a.finalizeSocket()},onReceiveClose:function(e,t){a.onCloseReceived(t)},onReceiveOffload:function(e,t){f.log.debug("onreceiveoffload: ",t),a.modifyBackoff(t.body),a.onCloseReceived(t.status)},onUnsupported:function(){a.closeSocket(!0),a.finalizeSocket()},onError:function(e,t){a.closeSocket(t),a.finalizeSocket()},onEnterState:function(e){"none"!==e.from&&a.changeState(e)},onInvalidTransition:function(e,t,n){f.log.warn("FSM: unexpected transition",t,n)}}}),a}return a(t,e),u(t,[{key:"changeState",value:function(e){f.log.debug("FSM: "+e.transition+": "+e.from+" --\x3e "+e.to),this.lastEmittedState!==this.state&&(this.lastEmittedState=this.state,this.emit("stateChanged",this.state))}},{key:"resetBackoff",value:function(){f.log.trace("resetBackoff"),this.retrier.stop()}},{key:"modifyBackoff",value:function(e){f.log.trace("modifyBackoff",e);var t=e?e.backoff_policy:null;t&&"number"==typeof t.reconnect_min_ms&&this.retrier.modifyBackoff(t.reconnect_min_ms)}},{key:"startDisconnectTimer",value:function(){var e=this;f.log.trace("startDisconnectTimer"),this.disconnectingTimer&&(clearTimeout(this.disconnectingTimer),this.disconnectingTimer=null),this.disconnectingTimer=setTimeout(function(){f.log.debug("disconnecting is timed out"),e.closeSocket(!0)},3e3)}},{key:"cancelDisconnectTimer",value:function(){f.log.trace("cancelDisconnectTimer"),this.disconnectingTimer&&(clearTimeout(this.disconnectingTimer),this.disconnectingTimer=null)}},{key:"initRetry",value:function(){f.log.debug("initRetry"),this.retrier.inProgress?this.retrier.attemptFailed():this.retrier.start()}},{key:"retry",value:function(){"connecting"!=this.fsm.state?(f.log.trace("retry"),this.websocket.close(),this.fsm.userRetry()):f.log.trace("can\t retry as already connecting")}},{key:"onConnected",value:function(){this.emit("connected")}},{key:"finalizeSocket",value:function(){f.log.trace("finalizeSocket"),this.websocket.close(),this.emit("disconnected"),this.disconnectedPromiseResolve&&(this.disconnectedPromiseResolve(),this.disconnectedPromiseResolve=null)}},{key:"setupSocket",value:function(){f.log.trace("setupSocket:",this.config.token),this.websocket.connect()}},{key:"onIncomingMessage",value:function(e){var t=p.Parser.parse(e),n=t.method,r=t.header,i=t.payload;if("reply"!==n&&this.confirmReceiving(r),"notification"===n)this.emit("message",r.message_type,i);else if("reply"===r.method)this.transport.processReply({id:r.id,status:r.status,header:r,body:i});else if("client_update"===r.method)"token_about_to_expire"===r.client_update_type&&this.emit("tokenAboutToExpire");else if("close"===r.method)if(308===r.status.code)f.log.debug("Connection has been offloaded"),this.fsm.receiveOffload({status:r.status.status,body:i});else if(406===r.status.code){var a="Server closed connection because can't parse protocol: "+JSON.stringify(r.status);this.emitReplyConnectionError(a,r,!0),f.log.error(a),this.fsm.receiveFatalClose()}else 417===r.status.code?(f.log.error("Server closed connection because can't parse client reply: "+JSON.stringify(r.status)),this.fsm.receiveFatalClose(r.status.status)):410===r.status.code?(f.log.warn("Server closed connection: "+JSON.stringify(r.status)),this.fsm.receiveClose(r.status.status),this.emit("tokenExpired")):401===r.status.code?(f.log.error("Server closed connection: "+JSON.stringify(r.status)),this.fsm.receiveClose(r.status.status)):(f.log.warn("unexpected message: ",r.status),this.fsm.receiveOffload({status:r.status.status,body:null}))}},{key:"sendInit",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.log.trace("sendInit"),e.prev=1,e.next=4,this.transport.sendInit();case 4:t=e.sent,this.config.updateContinuationToken(t.continuationToken),this.fsm.initSuccess(t),this.emit("initialized",t),this.emit("tokenUpdated"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0 instanceof h.TwilsockReplyError?(n=!1,f.log.warn("Init rejected by server: "+JSON.stringify(e.t0.reply.status)),401===e.t0.reply.status.code||403===e.t0.reply.status.code?(n=!0,this.fsm.tokenRejected(e.t0.reply.status),e.t0.reply.status.errorCode===this.tokenExpiredSasCode&&this.emit("tokenExpired")):429===e.t0.reply.status.code?(this.modifyBackoff(e.t0.reply.body),this.fsm.initError(!0)):500===e.t0.reply.status.code?this.fsm.initError(!1):this.fsm.initError(!0),this.emitReplyConnectionError(e.t0.message,e.t0.reply,n)):(this.emit("connectionError",{terminal:!0,message:e.t0.message,httpStatusCode:null,errorCode:null}),this.fsm.initError(!0)),this.emit("tokenUpdated",e.t0);case 15:case"end":return e.stop()}},e,this,[[1,11]])}));return e}()},{key:"sendUpdate",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.log.trace("sendUpdate"),t=new d.Update(this.config.token),e.prev=2,e.next=5,this.transport.sendWithReply(t);case 5:n=e.sent,this.fsm.updateSuccess(n.body),this.emit("tokenUpdated"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0 instanceof h.TwilsockReplyError?(r=!1,f.log.warn("Token update rejected by server: "+JSON.stringify(e.t0.reply.status)),401===e.t0.reply.status.code||403===e.t0.reply.status.code?(r=!0,this.fsm.tokenRejected(e.t0.reply.status),e.t0.reply.status.errorCode===this.tokenExpiredSasCode&&this.emit("tokenExpired")):429===e.t0.reply.status.code?(this.modifyBackoff(e.t0.reply.body),this.fsm.updateError(e.t0.reply.status)):this.fsm.updateError(e.t0.reply.status),this.emitReplyConnectionError(e.t0.message,e.t0.reply,r)):(this.emit("error",!1,e.t0.message,null,null),this.fsm.updateError(e.t0)),this.emit("tokenUpdated",e.t0);case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return e}()},{key:"emitReplyConnectionError",value:function(e,t,n){var r=t.status&&t.status.description?t.status.description:e,i=t.status.code,a=t.status&&t.status.errorCode?t.status.errorCode:null;this.emit("connectionError",{terminal:n,message:r,httpStatusCode:i,errorCode:a})}},{key:"cancelInit",value:function(){f.log.trace("cancelInit")}},{key:"cancelUpdate",value:function(){f.log.trace("cancelUpdate")}},{key:"confirmReceiving",value:function(e){f.log.trace("confirmReceiving");try{this.transport.send(new d.Reply(e.id))}catch(e){f.log.debug("failed to confirm packet receiving",e)}}},{key:"closeSocket",value:function(e){var t=this;f.log.trace("closeSocket (graceful: "+e+")"),e&&this.transport.isConnected&&this.transport.sendClose(),this.websocket.close(),s(function(){return t.fsm.socketClosed()})}},{key:"connect",value:function(){f.log.trace("connect"),this.fsm.userConnect()}},{key:"disconnect",value:function(){var e=this;return f.log.trace("disconnect"),this.fsm.is("disconnected")?Promise.resolve():new Promise(function(t){e.disconnectedPromiseResolve=t,e.fsm.userDisconnect()})}},{key:"updateToken",value:function(e){var t=this;return f.log.trace("updateToken:",e),new Promise(function(e,n){t.once("tokenUpdated",function(t){t?n(t):e()}),t.fsm.userUpdateToken()})}},{key:"onCloseReceived",value:function(e){this.websocket.close()}},{key:"isConnected",get:function(){return"connected"===this.state&&this.websocket.isConnected}},{key:"state",get:function(){switch(this.fsm.state){case"connecting":case"initialising":case"retrying":case"error":return"connecting";case"updating":case"connected":return"connected";case"rejected":return"rejected";case"disconnecting":case"waitSocketClosed":case"waitOffloadSocketClosed":return"disconnecting";case"disconnected":default:return"disconnected"}}},{key:"isTerminalState",get:function(){return-1!==this.terminalStates.indexOf(this.fsm.state)}}]),t}(c.EventEmitter);t.TwilsockChannel=y,t.TwilsockImpl=y},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i;for(n=1;n<arguments.length;n++){r=arguments[n];for(i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}},function(e,t,n){"use strict";var r=n(0);e.exports={build:function(e,t){var n,i,a,o=t.plugins;for(n=0,i=o.length;n<i;n++)a=o[n],a.methods&&r(e,a.methods),a.properties&&Object.defineProperties(e,a.properties)},hook:function(e,t,n){var r,i,a,o,s=e.config.plugins,u=[e.context];for(n&&(u=u.concat(n)),r=0,i=s.length;r<i;r++)o=s[r],(a=s[r][t])&&a.apply(o,u)}}},function(e,t,n){"use strict";function r(e){if(0===e.length)return e;var t,n,r=e.split(/[_-]/);if(1===r.length&&r[0][0].toLowerCase()===r[0][0])return e;for(n=r[0].toLowerCase(),t=1;t<r.length;t++)n=n+r[t].charAt(0).toUpperCase()+r[t].substring(1).toLowerCase();return n}r.prepended=function(e,t){return t=r(t),e+t[0].toUpperCase()+t.substring(1)},e.exports=r},function(e,t,n){"use strict";function r(e,t){e=e||{},this.options=e,this.defaults=t.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(e.init),this.data=this.configureData(e.data),this.methods=this.configureMethods(e.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(e.transitions||[]),this.plugins=this.configurePlugins(e.plugins,t.plugin)}var i=n(0),a=n(2);i(r.prototype,{addState:function(e){this.map[e]||(this.states.push(e),this.addStateLifecycleNames(e),this.map[e]={})},addStateLifecycleNames:function(e){this.lifecycle.onEnter[e]=a.prepended("onEnter",e),this.lifecycle.onLeave[e]=a.prepended("onLeave",e),this.lifecycle.on[e]=a.prepended("on",e)},addTransition:function(e){this.transitions.indexOf(e)<0&&(this.transitions.push(e),this.addTransitionLifecycleNames(e))},addTransitionLifecycleNames:function(e){this.lifecycle.onBefore[e]=a.prepended("onBefore",e),this.lifecycle.onAfter[e]=a.prepended("onAfter",e),this.lifecycle.on[e]=a.prepended("on",e)},mapTransition:function(e){var t=e.name,n=e.from,r=e.to;return this.addState(n),"function"!=typeof r&&this.addState(r),this.addTransition(t),this.map[n][t]=e,e},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(e){return"string"==typeof e?this.mapTransition(i({},this.defaults.init,{to:e,active:!0})):"object"==typeof e?this.mapTransition(i({},this.defaults.init,e,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(e){return"function"==typeof e?e:"object"==typeof e?function(){return e}:function(){return{}}},configureMethods:function(e){return e||{}},configurePlugins:function(e,t){e=e||[];var n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],"function"==typeof i&&(e[n]=i=i()),i.configure&&i.configure(this);return e},configureTransitions:function(e){var t,n,r,i,a,o=this.defaults.wildcard;for(n=0;n<e.length;n++)for(r=e[n],i=Array.isArray(r.from)?r.from:[r.from||o],a=r.to||o,t=0;t<i.length;t++)this.mapTransition({name:r.name,from:i[t],to:a})},transitionFor:function(e,t){var n=this.defaults.wildcard;return this.map[e][t]||this.map[n][t]},transitionsFor:function(e){var t=this.defaults.wildcard;return Object.keys(this.map[e]).concat(Object.keys(this.map[t]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=r},function(e,t,n){function r(e,t){this.context=e,this.config=t,this.state=t.init.from,this.observers=[e]}var i=n(0),a=n(6),o=n(1),s=[null,[]];i(r.prototype,{init:function(e){if(i(this.context,this.config.data.apply(this.context,e)),o.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(e){return Array.isArray(e)?e.indexOf(this.state)>=0:this.state===e},isPending:function(){return this.pending},can:function(e){return!this.isPending()&&!!this.seek(e)},cannot:function(e){return!this.can(e)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(e,t){var n=this.config.defaults.wildcard,r=this.config.transitionFor(this.state,e),i=r&&r.to;return"function"==typeof i?i.apply(this.context,t):i===n?this.state:i},fire:function(e,t){return this.transit(e,this.state,this.seek(e,t),t)},transit:function(e,t,n,r){var i=this.config.lifecycle,a=this.config.options.observeUnchangedState||t!==n;return n?this.isPending()?this.context.onPendingTransition(e,t,n):(this.config.addState(n),this.beginTransit(),r.unshift({transition:e,from:t,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(i.onBefore.transition),this.observersForEvent(i.onBefore[e]),a?this.observersForEvent(i.onLeave.state):s,a?this.observersForEvent(i.onLeave[t]):s,this.observersForEvent(i.on.transition),a?["doTransit",[this]]:s,a?this.observersForEvent(i.onEnter.state):s,a?this.observersForEvent(i.onEnter[n]):s,a?this.observersForEvent(i.on[n]):s,this.observersForEvent(i.onAfter.transition),this.observersForEvent(i.onAfter[e]),this.observersForEvent(i.on[e])],r)):this.context.onInvalidTransition(e,t,n)},beginTransit:function(){this.pending=!0},endTransit:function(e){return this.pending=!1,e},failTransit:function(e){throw this.pending=!1,e},doTransit:function(e){this.state=e.to},observe:function(e){if(2===e.length){var t={};t[e[0]]=e[1],this.observers.push(t)}else this.observers.push(e[0])},observersForEvent:function(e){for(var t,n=0,r=this.observers.length,i=[];n<r;n++)t=this.observers[n],t[e]&&i.push(t);return[e,i,!0]},observeEvents:function(e,t,n,r){if(0===e.length)return this.endTransit(void 0===r||r);var i=e[0][0],a=e[0][1],s=e[0][2];if(t[0].event=i,i&&s&&i!==n&&o.hook(this,"lifecycle",t),0===a.length)return e.shift(),this.observeEvents(e,t,i,r);var u=a.shift(),c=u[i].apply(u,t);return c&&"function"==typeof c.then?c.then(this.observeEvents.bind(this,e,t,i)).catch(this.failTransit.bind(this)):!1===c?this.endTransit(!1):this.observeEvents(e,t,i,c)},onInvalidTransition:function(e,t,n){throw new a("transition is invalid in current state",e,t,n,this.state)},onPendingTransition:function(e,t,n){throw new a("transition is invalid while previous transition is still in progress",e,t,n,this.state)}}),e.exports=r},function(e,t,n){"use strict";function r(e){return a(this||{},e)}function i(){var e,t;"function"==typeof arguments[0]?(e=arguments[0],t=arguments[1]||{}):(e=function(){this._fsm.apply(this,arguments)},t=arguments[0]||{});var n=new l(t,r);return o(e.prototype,n),e.prototype._fsm.config=n,e}function a(e,t){return o(e,new l(t,r)),e._fsm(),e}function o(e,t){if("object"!=typeof e||Array.isArray(e))throw Error("StateMachine can only be applied to objects");c.build(e,t),Object.defineProperties(e,p),s(e,d),s(e,t.methods),t.allTransitions().forEach(function(t){e[u(t)]=function(){return this._fsm.fire(t,[].slice.call(arguments))}}),e._fsm=function(){this._fsm=new f(this,t),this._fsm.init(arguments)}}var s=n(0),u=n(2),c=n(1),l=n(3),f=n(4),d={is:function(e){return this._fsm.is(e)},can:function(e){return this._fsm.can(e)},cannot:function(e){return this._fsm.cannot(e)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(e,t,n){return this._fsm.onInvalidTransition(e,t,n)},onPendingTransition:function(e,t,n){return this._fsm.onPendingTransition(e,t,n)}},p={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(e){throw Error("use transitions to change state")}}};r.version="3.0.1",r.factory=i,r.apply=a,r.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){this.message=e,this.transition=t,this.from=n,this.to=r,this.current=i}}])})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),s=function(e){function t(e,n,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.method="init",u.token=e,u.continuation_token=n,u.metadata=a,u.registrations=o,u.tweaks=s,u.capabilities=["client_update","offline_storage"],u}return a(t,e),t}(o.AbstractMessage);t.Init=s},function(e,t,n){function r(e,t,n){var r=t&&n||0,l=t||[];e=e||{};var f=e.node||i,d=void 0!==e.clockseq?e.clockseq:a;if(null==f||null==d){var p=o();null==f&&(f=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=a=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:c+1,m=h-u+(v-c)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||h>u)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,c=v,a=d,h+=122192928e5;var y=(1e4*(268435455&h)+v)%4294967296;l[r++]=y>>>24&255,l[r++]=y>>>16&255,l[r++]=y>>>8&255,l[r++]=255&y;var g=h/4294967296*1e4&268435455;l[r++]=g>>>8&255,l[r++]=255&g,l[r++]=g>>>24&15|16,l[r++]=g>>>16&255,l[r++]=d>>>8|128,l[r++]=255&d;for(var b=0;b<6;++b)l[r+b]=f[b];return t||s(l)}var i,a,o=n(262),s=n(263),u=0,c=0;e.exports=r},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[r+s]=o[s];return t||a(o)}var i=n(262),a=n(263);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),s=function e(){a(this,e)};t.ContinuationTokenStatus=s;var u=function(e){function t(e,n,i,o,s,u){a(this,t);var c=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c.continuationToken=n,c.continuationTokenStatus=i,c.offlineStorage=o,c.initRegistrations=s,c.debugInfo=u,c}return i(t,e),t}(o.AbstractMessage);t.InitReply=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.method="update",n.token=e,n}return a(t,e),t}(o.AbstractMessage);t.Update=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),s=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.method="message",o.active_grant=e,o.payload_type=n,o.http_request=a,o}return a(t,e),t}(o.AbstractMessage);t.Message=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.method="reply",n.payload_type="application/json",n.status={code:200,status:"OK"},n}return a(t,e),t}(o.AbstractMessage);t.Reply=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(87),s=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.method="close",e}return a(t,e),t}(o.AbstractMessage);t.Close=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),u=n(86),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.options=e?Object.assign({},e):{},n}return a(t,e),o(t,[{key:"inProgress",get:function(){return!!this.retrier}}]),o(t,[{key:"start",value:function(){if(this.inProgress)throw new Error("Already waiting for next attempt, call finishAttempt(success : boolean) to finish it");this.createRetrier()}},{key:"stop",value:function(){this.cleanRetrier(),this.newBackoff=null,this.usedBackoff=null}},{key:"modifyBackoff",value:function(e){this.newBackoff=e}},{key:"attemptFailed",value:function(){if(!this.inProgress)throw new Error("No attempt is in progress");if(this.newBackoff){!this.usedBackoff||this.usedBackoff<this.newBackoff?this.createRetrier():this.retrier.failed(new Error)}else this.retrier.failed(new Error)}},{key:"cancel",value:function(){this.retrier&&this.retrier.cancel()}},{key:"cleanRetrier",value:function(){this.retrier&&(this.retrier.removeAllListeners(),this.retrier.cancel(),this.retrier=null)}},{key:"getRetryPolicy",value:function(){var e=Object.assign({},this.options);return this.newBackoff&&(e.min=this.newBackoff,e.max=this.options.max&&this.options.max>this.newBackoff?this.options.max:this.newBackoff),e.maxAttemptsCount=this.options.maxAttemptsCount?this.options.maxAttemptsCount+1:void 0,e}},{key:"createRetrier",value:function(){var e=this;this.cleanRetrier();var t=this.getRetryPolicy();this.retrier=new u.Retrier(t),this.retrier.once("attempt",function(){e.retrier.on("attempt",function(){return e.emit("attempt")}),e.retrier.failed(new Error("Skipping first attempt"))}),this.retrier.on("failed",function(t){return e.emit("failed",t)}),this.usedBackoff=this.newBackoff,this.newBackoff=null,this.retrier.start().catch(function(e){})}}]),t}(s.EventEmitter);t.BackoffRetrier=c},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e>=200&&e<300}function o(e){switch(void 0===e?"undefined":u(e)){case"undefined":return"";case"object":return JSON.stringify(e);default:return e}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=n(74),l=n(75),f=n(76),d=n(265),p=n(264),h=n(174),v=n(669),m=function e(){i(this,e)};t.PacketResponse=m;var y=function(){function e(t,n){var r=this;i(this,e),this.config=n,this.activeRequests=new Map,this.channel=t,this.channel.on("reply",function(e){return r.processReply(e)}),this.channel.on("disconnected",function(){r.activeRequests.forEach(function(e){clearTimeout(e.timeout),e.reject(new f.TwilsockError("disconnected"))}),r.activeRequests.clear()})}return s(e,[{key:"processReply",value:function(e){var t=this.activeRequests.get(e.id);t&&(clearTimeout(t.timeout),this.activeRequests.delete(e.id),a(e.status.code)?t.resolve(e):(t.reject(new d.TwilsockReplyError("Transport failure: "+e.status.status,e)),c.log.trace("message rejected")))}},{key:"storeRequest",value:function(e,t,n){var r={resolve:t,reject:n,timeout:setTimeout(function(){c.log.trace("request",e,"is timed out"),n(new f.TwilsockError("Twilsock: request timeout: "+e))},3e4)};this.activeRequests.set(e,r)}},{key:"shutdown",value:function(){this.activeRequests.forEach(function(e){clearTimeout(e.timeout),e.reject(new f.TwilsockError("Twilsock: request cancelled by user"))}),this.activeRequests.clear()}},{key:"sendInit",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.log.trace("sendInit"),t=v.Metadata.getMetadata(this.config),n=new h.Init(this.config.token,this.config.continuationToken,t,this.config.initRegistrations,this.config.tweaks),e.next=5,this.sendWithReply(n);case 5:return r=e.sent,e.abrupt("return",new h.InitReply(r.id,r.header.continuation_token,r.header.continuation_token_status,r.header.offline_storage,r.header.init_registrations,r.header.debug_info));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"sendClose",value:function(){var e=new h.Close;this.send(e)}},{key:"sendWithReply",value:function(e,t){var n=this;return new Promise(function(r,i){var a=n.send(e,t);n.storeRequest(a,r,i)})}},{key:"send",value:function(e,t){e.id=e.id||"TM"+l.v4();var n=p.Parser.createPacket(e,o(t));try{return this.channel.send(n),e.id}catch(t){throw c.log.debug("failed to send ",e,t),c.log.trace(t.stack),t}}},{key:"isConnected",get:function(){return this.channel.isConnected}}]),e}();t.PacketInterface=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(175),o=function(){function e(){r(this,e)}return i(e,null,[{key:"getMetadata",value:function(e){var t=("undefined"!=typeof navigator&&a.parse(navigator.userAgent),e&&e.clientMetadata?e.clientMetadata:{}),n=["ver","env","envv","os","osv","osa","type","sdk","sdkv","dev","devv","devt","app","appv"],r={env:a.name,envv:a.version,os:a.os.family,osv:a.os.version,osa:a.os.architecture,sdk:"js-default"},i={};return n.filter(function(e){return e in t||e in r}).forEach(function(e){return i[e]=e in t?t[e]:r[e]}),i}}]),e}();t.Metadata=o},function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),u=n(74),c=function(t){function s(t){r(this,s);var a=i(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return a.url=t,a.WebSocket=e.WebSocket||e.MozWebSocket||n(671),a}return a(s,t),o(s,[{key:"connect",value:function(){var e=this;u.log.trace("connecting to socket");var t=new this.WebSocket(this.url);t.binaryType="arraybuffer",t.onopen=function(){u.log.debug("socket opened "+e.url),e.emit("connected")},t.onclose=function(t){u.log.debug("socket closed",t),e.emit("disconnected",t)},t.onerror=function(t){u.log.debug("error:",t),e.emit("socketError",t)},t.onmessage=function(t){e.emit("message",t.data)},this.socket=t}},{key:"send",value:function(e){this.socket.send(e)}},{key:"close",value:function(){if(u.log.trace("closing socket"),this.socket){this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null;try{this.socket.close()}finally{}}}},{key:"isConnected",get:function(){return this.socket&&1===this.socket.readyState}}]),s}(s.EventEmitter);t.WebSocketChannel=c}).call(t,n(46))},function(e,t){},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(74),c=n(11),l=n(75),f=n(76),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.transport=e,n.registrations=new Map,n.registrationsInProgress=new Map,n}return o(t,e),s(t,[{key:"putNotificationContext",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"put_notification_ctx",notification_ctx_id:t},e.next=3,this.transport.sendWithReply(r,n);case 3:i=e.sent;case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"deleteNotificationContext",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"delete_notification_ctx",notification_ctx_id:t},e.next=3,this.transport.sendWithReply(n);case 3:r=e.sent;case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateRegistration",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.log.debug("update registration for context",t),r=this.registrationsInProgress.get(t),r||(r=new Set,this.registrationsInProgress.set(t,r)),i=l.v4(),r.add(i),e.prev=5,e.next=8,this.putNotificationContext(t,n);case 8:u.log.debug("registration attempt succeeded for context",n),r.delete(i),0===r.size&&(this.registrationsInProgress.delete(t),this.emit("registered",t)),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(5),u.log.warn("registration attempt failed for context",n),u.log.debug(e.t0),r.delete(i),0===r.size&&(this.registrationsInProgress.delete(t),this.emit("registrationFailed",t,e.t0));case 19:case"end":return e.stop()}},e,this,[[5,13]])}));return e}()},{key:"updateRegistrations",value:function(){var e=this;u.log.trace("refreshing "+this.registrations.size+" registrations"),this.registrations.forEach(function(t,n){e.updateRegistration(n,t)})}},{key:"setNotificationsContext",value:function(e,t){if(!e||!t)throw new f.TwilsockError("Invalid arguments provided");this.registrations.set(e,t),this.transport.isConnected&&this.updateRegistration(e,t)}},{key:"removeNotificationsContext",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registrations.has(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.deleteNotificationContext(t);case 4:this.transport.isConnected&&this.registrations.delete(t);case 5:case"end":return e.stop()}},e,this)}));return e}()}]),t}(c.EventEmitter);t.Registrations=d},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e>=200&&e<300}function o(e){return e&&e.header&&e.header.http_status}function s(e){var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/);if(t){var n={protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7],params:null};if(n.search.length>0){var r=n.search.substring(1);n.params=r.split("&").map(function(e){return e.split("=")}).reduce(function(e,t){return e.hasOwnProperty(t[0])?Array.isArray(e[t[0]])?e[t[0]].push(t[1]):e[t[0]]=[e[t[0]],t[1]]:e[t[0]]=t[1],e},{})}return n}throw new d.TwilsockError("Incorrect URI: "+e)}function u(e,t){var n=s(t),r={method:e,host:n.host,path:n.pathname};return n.params&&(r.params=n.params),r}function c(e,t,n,r){return{to:u(e,t),headers:n,body:r}}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=n(74),d=n(76),p=n(674),h=n(174),v=n(56),m=function(){function e(t,n,r){i(this,e),this.config=r,this.transport=t,this.pendingMessages=[],this.twilsock=n}return l(e,[{key:"saveMessage",value:function(e){var t=this;return new Promise(function(n,r){var i={message:e,resolve:n,reject:r,alreadyRejected:!1,timeout:setTimeout(function(){f.log.debug("request is timed out"),r(new d.TwilsockError("Twilsock: request timeout")),i.alreadyRejected=!0},2e4)};t.pendingMessages.push(i)})}},{key:"sendPendingMessages",value:function(){for(var e=this;this.pendingMessages.length;){if("break"===function(){var t=e.pendingMessages[0];if(!t.alreadyRejected)try{var n=t.message;e.actualSend(n).then(function(e){return t.resolve(e)}).catch(function(e){return t.reject(e)}),clearTimeout(t.timeout)}catch(e){return f.log.debug("Failed to send pending message",e),"break"}e.pendingMessages.splice(0,1)}())break}}},{key:"rejectPendingMessages",value:function(){this.pendingMessages.forEach(function(e){e.reject(new v.TransportUnavailableError("Can't connect to twilsock")),clearTimeout(e.timeout)}),this.pendingMessages.splice(0,this.pendingMessages.length)}},{key:"actualSend",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.to,r=t.headers,i=t.body,s={host:n.host,path:n.path,method:n.method,params:n.params,headers:r},u=new h.Message(this.config.activeGrant,r["Content-Type"]||"application/json",s),e.next=7,this.transport.sendWithReply(u,i);case 7:if(c=e.sent,!o(c)||a(c.header.http_status.code)){e.next=10;break}throw new p.TwilsockUpstreamError(c.header.http_status.code,c.header.http_status.status,c.body);case 10:return e.abrupt("return",{status:c.header.http_status,headers:c.header.http_headers,body:c.body});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"send",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];if(this.twilsock.isTerminalState)return Promise.reject(new v.TransportUnavailableError("Can't connect to twilsock"));var i=c(e,t,n,r);return this.twilsock.isConnected?this.actualSend(i):this.saveMessage(i)}}]),e}();t.Upstream=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(76),s=function(e){function t(e,n,a){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return o.status=e,o.description=n,o.body=a,o}return a(t,e),t}(o.TwilsockError);t.TwilsockUpstreamError=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){var t=this;r(this,e),this._promise=new Promise(function(e,n){t._resolve=e,t._reject=n})}return i(e,[{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this.current=e,this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}},{key:"promise",get:function(){return this._promise}}]),e}();t.Deferred=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(56),o=function(){function e(t){r(this,e),this.id=t}return i(e,null,[{key:"create",value:function(t){if(t instanceof Object&&"storage_id"in t)return new e(t.storage_id);throw new a.TwilsockError('Field "storage_id" is missing')}}]),e}();t.OfflineProductStorage=o},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function t(){n(this,t)}return r(t,null,[{key:"storeToken",value:function(e,n){t.canStore&&t.sessionStorage.setItem(t.getKeyName(n),e)}},{key:"getStoredToken",value:function(e){return t.canStore?t.sessionStorage.getItem(t.getKeyName(e)):null}},{key:"initialize",value:function(){if(t.canStore){t.sessionStorage.getItem(t.initializedFlag)&&this.clear(),t.sessionStorage.setItem(t.initializedFlag,"true"),t.window.addEventListener("unload",function(){t.sessionStorage.removeItem(t.initializedFlag)})}}},{key:"clear",value:function(){if(t.canStore){for(var e=[],n=0;n<t.sessionStorage.length;n++){var r=t.sessionStorage.key(n);r.startsWith(t.tokenStoragePrefix)&&e.push(r)}e.forEach(function(e){return t.sessionStorage.removeItem(e)}),t.sessionStorage.removeItem(t.initializedFlag)}}},{key:"getKeyName",value:function(e){return""+t.tokenStoragePrefix+e}},{key:"sessionStorage",get:function(){try{return e.sessionStorage}catch(e){return null}}},{key:"window",get:function(){try{return e.window}catch(e){return null}}},{key:"canStore",get:function(){return t.sessionStorage&&t.window}}]),t}();i.initializedFlag="twilio_twilsock_token_storage",i.tokenStoragePrefix="twilio_continuation_token_",t.TokenStorage=i,i.initialize()}).call(t,n(46))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(76),s=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),t}(o.TwilsockError);t.TransportUnavailableError=s},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(11),c=n(56),l=n(680),f=n(681),d=n(176),p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e||0===e.length)throw new Error("Token is required for Notifications client");n.logLevel=n.logLevel||"error",d.log.setLevel(n.logLevel);var o=(n.minTokenRefreshInterval,n.productId||"notifications");return n.twilsockClient=n.twilsockClient||new c.TwilsockClient(e,o,n),n.transport=n.transport||n.twilsockClient,r.services={twilsock:n.twilsockClient,transport:n.transport,config:new l.Configuration(null,n)},r.registrar=new f.Registrar(o,r.services.transport,r.services.twilsock,r.services.config),r.reliableTransportState={overall:!1,transport:!1,registration:!1,lastEmitted:null},r._onTransportStateChange(r.services.twilsock.isConnected),r.registrar.on("transportReady",function(e){r._onRegistrationStateChange(e?"registered":"")}),r.registrar.on("stateChanged",function(e){r._onRegistrationStateChange(e)}),r.registrar.on("needReliableTransport",r._onNeedReliableTransport.bind(r)),r.services.twilsock.on("message",function(e,t){return r._routeMessage(e,t)}),r.services.twilsock.on("connected",function(e){r._onTransportStateChange(!0),r.registrar.setNotificationId("twilsock",e)}),r.services.twilsock.on("disconnected",function(){r._onTransportStateChange(!1)}),r.services.config.updateToken(e),r.registrar.updateToken(e),r}return o(t,e),s(t,[{key:"_routeMessage",value:function(e,t){d.log.trace("Message arrived: ",e,t),this.emit("message",e,t)}},{key:"_onNeedReliableTransport",value:function(e){e?this.services.twilsock.connect():this.services.twilsock.disconnect()}},{key:"_onRegistrationStateChange",value:function(e){this.reliableTransportState.registration="registered"===e,this._updateTransportState()}},{key:"_onTransportStateChange",value:function(e){this.reliableTransportState.transport=e,this._updateTransportState()}},{key:"_updateTransportState",value:function(){var e=this.reliableTransportState.transport&&this.reliableTransportState.registration;this.reliableTransportState.overall!==e&&(this.reliableTransportState.overall=e,d.log.info("Transport ready:",e),this.emit("transportReady",e)),this.reliableTransportState.lastEmitted!==this.connectionState&&(this.reliableTransportState.lastEmitted=this.connectionState,this.emit("connectionStateChanged",this.connectionState))}},{key:"subscribe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"twilsock";return d.log.trace("Add subscriptions for message type: ",e,t),this.registrar.subscribe(e,t)}},{key:"unsubscribe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"twilsock";return d.log.trace("Remove subscriptions for message type: ",e,t),this.registrar.unsubscribe(e,t)}},{key:"handlePushNotification",value:function(e){return{messageType:e.twi_message_type,payload:e.payload}}},{key:"setPushRegistrationId",value:function(e,t){d.log.trace("Set push registration id",e,t),this.registrar.setNotificationId(t,e)}},{key:"updateToken",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.log.info("authTokenUpdated"),this.services.config.token!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.services.twilsock.updateToken(t);case 5:this.services.config.updateToken(t),this.registrar.updateToken(t);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"connectionState",get:function(){return"disconnected"===this.services.twilsock.state?"disconnected":"disconnecting"===this.services.twilsock.state?"disconnecting":"connected"===this.services.twilsock.state&&this.reliableTransportState.registration?"connected":"rejected"===this.services.twilsock.state?"denied":"connecting"}}]),t}(u.EventEmitter);t.Client=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var i=n.notifications||{},a=i.region||n.region||"us1",o="https://ers."+a+".twilio.com/v1/registrations";this.registrarUrl=i.ersUrl||o,this._token=t}return i(e,[{key:"updateToken",value:function(e){this._token=e}},{key:"token",get:function(){return this._token}}]),e}();t.Configuration=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),u=n(682),c=n(684),l=function(e){function t(e,n,a,o){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));s.config=o,s.connectors=new Map;var l=s.detectPlatform();return s.connectors.set("gcm",new u.RegistrarConnector("gcm",{protocolVersion:3,productId:e,platform:l},n,o)),s.connectors.set("fcm",new u.RegistrarConnector("fcm",{protocolVersion:3,productId:e,platform:l},n,o)),s.connectors.set("apn",new u.RegistrarConnector("apn",{protocolVersion:4,productId:e,platform:l},n,o)),s.connectors.set("twilsock",new c.TwilsockConnector({productId:e,platform:l},a,o)),s.connectors.get("twilsock").on("transportReady",function(e){return s.emit("transportReady",e)}),s}return a(t,e),o(t,[{key:"setNotificationId",value:function(e,t){this.connector(e).setNotificationId(t)}},{key:"subscribe",value:function(e,t){return this.connector(t).subscribe(e)}},{key:"unsubscribe",value:function(e,t){return this.connector(t).unsubscribe(e)}},{key:"updateToken",value:function(e){this.connectors.forEach(function(t){return t.updateToken(e)})}},{key:"connector",value:function(e){var t=this.connectors.get(e);if(!t)throw new Error("Unknown channel type: "+e);return t}},{key:"detectPlatform",value:function(){var e="";return"undefined"!=typeof navigator?(e="unknown",void 0!==navigator.product&&(e=navigator.product),void 0!==navigator.userAgent&&(e=navigator.userAgent)):e="web",e.substring(0,128)}}]),t}(s.EventEmitter);t.Registrar=l},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(86),c=n(176),l=n(268);t.Connector=l.Connector;var f={min:2e3,max:12e4,randomness:.2},d=function(e){function t(e,n,r,o){i(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return s.channelType=e,s.context=n,s.transport=r,s}return o(t,e),s(t,[{key:"updateRegistration",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.has("notificationId")){e.next=3;break}return e.next=3,this.removeRegistration();case 3:if(t.notificationId&&t.notificationId.length){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,this.register(t);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeRegistration",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registrationId){e.next=2;break}return e.abrupt("return");case 2:return t=this.config.registrarUrl+"/"+this.registrationId+"?productId="+this.context.productId,n={"Content-Type":"application/json","X-Twilio-Token":this.config.token},e.prev=4,c.log.trace("Removing registration for ",this.channelType),e.next=8,new u.Retrier(Object.assign(f,{maxAttemptsCount:3})).run(function(){return r.transport.delete(t,n)});case 8:c.log.debug("Registration removed for",this.channelType),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(4),c.log.error("Failed to remove of registration ",this.channelType,e.t0),e.t0;case 15:case"end":return e.stop()}},e,this,[[4,11]])}));return e}()},{key:"register",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i,a,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.log.trace("Registering",this.channelType,t),n={endpoint_platform:this.context.platform,channel_type:this.channelType,version:this.context.protocolVersion.toString(),message_types:Array.from(t.messageTypes),data:{registration_id:t.notificationId},ttl:"PT24H"},r=this.config.registrarUrl+"?productId="+this.context.productId,i={"Content-Type":"application/json","X-Twilio-Token":t.token},c.log.trace("Creating registration for channel ",this.channelType),e.prev=5,e.next=8,new u.Retrier(f).run(function(){return o.transport.post(r,i,n)});case 8:a=e.sent,this.registrationId=a.body.id,c.log.debug("Registration created: ",a),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(5),c.log.error("Registration failed: ",e.t0),e.t0;case 17:case"end":return e.stop()}},e,this,[[5,13]])}));return e}()}]),t}(l.Connector);t.RegistrarConnector=d},function(e,t,n){var r,i;!function(a,o){"use strict";r=o,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}(0,function(){"use strict";function e(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function t(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function n(n){return"debug"===n&&(n="log"),typeof console!==u&&("trace"===n&&c?t:void 0!==console[n]?e(console,n):void 0!==console.log?e(console,"log"):s)}function r(e,t){for(var n=0;n<l.length;n++){var r=l[n];this[r]=n<e?s:this.methodFactory(r,e,t)}this.log=this.debug}function i(e,t,n){return function(){typeof console!==u&&(r.call(this,t,n),this[e].apply(this,arguments))}}function a(e,t,r){return n(e)||i.apply(this,arguments)}function o(e,t,n){function i(e){var t=(l[e]||"silent").toUpperCase();if(typeof window!==u){try{return void(window.localStorage[f]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(e){}}}function o(){var e;if(typeof window!==u){try{e=window.localStorage[f]}catch(e){}if(typeof e===u)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(f)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}var s,c=this,f="loglevel";e&&(f+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=n||a,c.getLevel=function(){return s},c.setLevel=function(t,n){if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(s=t,!1!==n&&i(t),r.call(c,t,e),typeof console===u&&t<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){o()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var d=o();null==d&&(d=null==t?"WARN":t),c.setLevel(d,!1)}var s=function(){},u="undefined",c=typeof window!==u&&typeof window.navigator!==u&&/Trident\/|MSIE /.test(window.navigator.userAgent),l=["trace","debug","info","warn","error"],f=new o,d={};f.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new o(e,f.getLevel(),f.methodFactory)),t};var p=typeof window!==u?window.log:void 0;return f.noConflict=function(){return typeof window!==u&&window.log===f&&(window.log=p),f},f.getLoggers=function(){return d},f})},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(75),c=n(268),l=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return o.twilsock=n,o.context=e,e.id=u.v4(),o.twilsock.on("stateChanged",function(e){"connected"!==e&&o.emit("transportReady",!1)}),o.twilsock.on("registered",function(t){e&&t===e.id&&"connected"===n.state&&o.emit("transportReady",!0)}),o}return o(t,e),s(t,[{key:"setNotificationId",value:function(){}},{key:"updateToken",value:function(e){}},{key:"updateContextRequest",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={product_id:this.context.productId,notification_protocol_version:4,endpoint_platform:this.context.platform,message_types:t},this.emit("transportReady",!1),e.next=4,this.twilsock.setNotificationsContext(this.context.id,n);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateRegistration",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.has("messageType")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.updateContextRequest(Array.from(t.messageTypes));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeRegistration",value:function(){return this.twilsock.removeNotificationsContext(this.context.id)}}]),t}(c.Connector);t.TwilsockConnector=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(686);t.SyncClient=r.SyncClient;var i=n(269);t.SyncDocument=i.SyncDocument;var a=n(270);t.SyncList=a.SyncList;var o=n(271);t.SyncListItem=o.ListItem;var s=n(273);t.SyncMap=s.SyncMap;var u=n(274);t.SyncMapItem=u.MapItem,t.default=r.SyncClient,e.exports=r.SyncClient,e.exports.SyncClient=r.SyncClient},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(e){if("string"==typeof e)return{id:e,mode:"open_or_create"};h.validateOptionalTtl(e.ttl),h.validateId(e.id);var t=e.mode||(e.id?"open_or_create":"create_new");return Object.assign(Object.assign({},e),{mode:t})}return{mode:"create_new"}}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(11),l=n(56),f=n(267),d=n(126),p=n(57),h=n(99),v=n(58),m=n(688),y=n(689),g=n(690),b=n(691),_=n(269),w=n(270),k=n(273),x=n(693),S=n(694),E=n(695),C=n(696),P=n(275),O=n(275),T="data_sync",A=n(697).version,M=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new Error("Sync library needs a valid Twilio token to be passed");n.hasOwnProperty("logLevel")?v.default.setLevel(n.logLevel):v.default.setLevel("silent");var o=n.productId=n.productId||T;n.clientMetadata=n.clientMetadata||{},n.clientMetadata.hasOwnProperty("type")||(n.clientMetadata.type=T),n.clientMetadata.hasOwnProperty("sdk")||(n.clientMetadata.sdk="JS",n.clientMetadata.sdkv=A);var s=n.twilsockClient=n.twilsockClient||new l.Twilsock(e,o,n);s.on("tokenAboutToExpire",function(e){return r.emit("tokenAboutToExpire",e)}),s.on("tokenExpired",function(){return r.emit("tokenExpired")}),s.on("connectionError",function(e){return r.emit("connectionError",e)});var u=n.notificationsClient=n.notificationsClient||new f.Notifications(e,n),c=new m.Configuration(n),d=new b.NetworkService(new x.ClientInfo(A),c,s),p=new E.SessionStorage(c);r.localStorageId=null,s.connect(),r.services={config:c,twilsock:s,notifications:u,network:d,storage:p,router:null,subscriptions:null};var h=new y.Subscriptions(r.services),_=new g.Router({config:c,subscriptions:h,notifications:u});return r.services.router=_,r.services.subscriptions=h,r.entities=new S.EntitiesCache,u.on("connectionStateChanged",function(){r.emit("connectionStateChanged",r.services.notifications.connectionState)}),r}return o(t,e),u(t,[{key:"ensureReady",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.services.config.sessionStorageEnabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.services.twilsock.storageId();case 5:t=e.sent,this.services.storage.updateStorageId(t.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),v.default.warn("Failed to initialize storage",e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return e}()},{key:"storeRootInSessionCache",value:function(e,t,n){if(this.services.config.sessionStorageEnabled&&t){var r=h.deepClone(n);e!==w.SyncList.type&&e!==k.SyncMap.type||(r.last_event_id=null,delete r.items),this.services.storage.store(e,t,r)}}},{key:"readRootFromSessionCache",value:function(e,t){return this.services.config.sessionStorageEnabled&&t?this.services.storage.read(e,t):null}},{key:"_get",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new p.SyncError("Cannot get entity without id",404);case 2:return r=new d.UriBuilder(t).pathSegment(n).queryParam("Include",a?"items":void 0).build(),e.next=5,this.services.network.get(r);case 5:return i=e.sent,e.abrupt("return",i.body);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"_createDocument",value:function(e,t,n){var r={unique_name:e,data:t||{}};return void 0!==n&&(r.ttl=n),this.services.network.post(this.services.config.documentsUri,r).then(function(e){return e.body.data=r.data,e.body})}},{key:"_getDocument",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(_.SyncDocument.type,t)||this._get(this.services.config.documentsUri,t));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"_createList",value:function(e,t,n,r){var i={unique_name:e,purpose:t,context:n};return void 0!==r&&(i.ttl=r),this.services.network.post(this.services.config.listsUri,i).then(function(e){return e.body})}},{key:"_getList",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(w.SyncList.type,t)||this._get(this.services.config.listsUri,t));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"_createMap",value:function(e,t){var n={unique_name:e};return void 0!==t&&(n.ttl=t),this.services.network.post(this.services.config.mapsUri,n).then(function(e){return e.body})}},{key:"_getMap",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(k.SyncMap.type,t)||this._get(this.services.config.mapsUri,t,n));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"_getStream",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(C.SyncStream.type,t)||this._get(this.services.config.streamsUri,t,!1));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"_createStream",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={unique_name:t},void 0!==n&&(r.ttl=n),e.next=4,this.services.network.post(this.services.config.streamsUri,r);case 4:return i=e.sent,e.abrupt("return",i.body);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"_getLiveQuery",value:function(e){return this.readRootFromSessionCache(P.LiveQuery.type,e)}},{key:"getCached",value:function(e,t){return e?this.entities.get(e,t)||null:null}},{key:"removeFromCacheAndSession",value:function(e,t,n){this.entities.remove(t),this.services.config.sessionStorageEnabled&&this.services.storage.remove(e,t,n)}},{key:"document",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i,a,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if(n=s(t),r=void 0,"create_new"!==n.mode){e.next=10;break}return e.next=7,this._createDocument(n.id,n.value,n.ttl);case 7:r=e.sent,e.next=40;break;case 10:if(!(i=this.getCached(n.id,_.SyncDocument.type))){e.next=15;break}return e.abrupt("return",new _.SyncDocument(i));case 15:return e.prev=15,e.next=18,this._getDocument(n.id);case 18:r=e.sent,e.next=40;break;case 21:if(e.prev=21,e.t0=e.catch(15),404===e.t0.status&&"open_existing"!==n.mode){e.next=27;break}throw e.t0;case 27:return e.prev=27,e.next=30,this._createDocument(n.id,n.value,n.ttl);case 30:r=e.sent,e.next=40;break;case 33:if(e.prev=33,e.t1=e.catch(27),409!==e.t1.status){e.next=39;break}return e.abrupt("return",this.document(t));case 39:throw e.t1;case 40:return this.storeRootInSessionCache(_.SyncDocument.type,n.id,r),a=new _.SyncDocumentImpl(this.services,r,function(e,t,n){return o.removeFromCacheAndSession(e,t,n)}),a=this.entities.store(a),e.abrupt("return",new _.SyncDocument(a));case 44:case"end":return e.stop()}},e,this,[[15,21],[27,33]])}));return e}()},{key:"map",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i,a,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if(n=s(t),r=void 0,"create_new"!==n.mode){e.next=10;break}return e.next=7,this._createMap(n.id,n.ttl);case 7:r=e.sent,e.next=40;break;case 10:if(!(i=this.getCached(n.id,k.SyncMap.type))){e.next=15;break}return e.abrupt("return",new k.SyncMap(i));case 15:return e.prev=15,e.next=18,this._getMap(n.id,n.includeItems);case 18:r=e.sent,e.next=40;break;case 21:if(e.prev=21,e.t0=e.catch(15),404===e.t0.status&&"open_existing"!==n.mode){e.next=27;break}throw e.t0;case 27:return e.prev=27,e.next=30,this._createMap(n.id,n.ttl);case 30:r=e.sent,e.next=40;break;case 33:if(e.prev=33,e.t1=e.catch(27),409!==e.t1.status){e.next=39;break}return e.abrupt("return",this.map(t));case 39:throw e.t1;case 40:return this.storeRootInSessionCache(k.SyncMap.type,n.id,r),a=new k.SyncMapImpl(this.services,r,function(e,t,n){return o.removeFromCacheAndSession(e,t,n)}),a=this.entities.store(a),e.abrupt("return",new k.SyncMap(a));case 44:case"end":return e.stop()}},e,this,[[15,21],[27,33]])}));return e}()},{key:"list",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i,a,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if(n=s(t),r=void 0,"create_new"!==n.mode){e.next=10;break}return e.next=7,this._createList(n.id,n.purpose,n.context,n.ttl);case 7:r=e.sent,e.next=40;break;case 10:if(!(i=this.getCached(n.id,w.SyncList.type))){e.next=15;break}return e.abrupt("return",new w.SyncList(i));case 15:return e.prev=15,e.next=18,this._getList(n.id);case 18:r=e.sent,e.next=40;break;case 21:if(e.prev=21,e.t0=e.catch(15),404===e.t0.status&&"open_existing"!==n.mode){e.next=27;break}throw e.t0;case 27:return e.prev=27,e.next=30,this._createList(n.id,n.purpose,n.context,n.ttl);case 30:r=e.sent,e.next=40;break;case 33:if(e.prev=33,e.t1=e.catch(27),409!==e.t1.status){e.next=39;break}return e.abrupt("return",this.list(t));case 39:throw e.t1;case 40:return this.storeRootInSessionCache(w.SyncList.type,n.id,r),a=new w.SyncListImpl(this.services,r,function(e,t,n){return o.removeFromCacheAndSession(e,t,n)}),a=this.entities.store(a),e.abrupt("return",new w.SyncList(a));case 44:case"end":return e.stop()}},e,this,[[15,21],[27,33]])}));return e}()},{key:"stream",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if(n=s(t),r=void 0,"create_new"!==n.mode){e.next=10;break}return e.next=7,this._createStream(n.id,n.ttl);case 7:r=e.sent,e.next=40;break;case 10:if(!(i=this.getCached(n.id,C.SyncStream.type))){e.next=15;break}return e.abrupt("return",new C.SyncStream(i));case 15:return e.prev=15,e.next=18,this._getStream(n.id);case 18:r=e.sent,e.next=40;break;case 21:if(e.prev=21,e.t0=e.catch(15),404===e.t0.status&&"open_existing"!==n.mode){e.next=27;break}throw e.t0;case 27:return e.prev=27,e.next=30,this._createStream(n.id,n.ttl);case 30:r=e.sent,e.next=40;break;case 33:if(e.prev=33,e.t1=e.catch(27),409!==e.t1.status){e.next=39;break}return e.abrupt("return",this.stream(t));case 39:throw e.t1;case 40:return this.storeRootInSessionCache(C.SyncStream.type,n.id,r),a=function(e,t,n){return u.removeFromCacheAndSession(e,t,n)},o=new C.SyncStreamImpl(this.services,r,a),o=this.entities.store(o),e.abrupt("return",new C.SyncStream(o));case 45:case"end":return e.stop()}},e,this,[[15,21],[27,33]])}));return e}()},{key:"shutdown",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.subscriptions.shutdown();case 2:return e.next=4,this.services.twilsock.disconnect();case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateToken",value:function(e){return e?this.services.twilsock.updateToken(e):Promise.reject(new Error("A valid Twilio token should be provided"))}},{key:"liveQuery",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if(t&&"string"==typeof t){e.next=4;break}throw new Error("Index name must contain a non-empty string value");case 4:return r=new d.UriBuilder(this.services.config.insightsUri).pathSegment(t).pathSegment("Items").build(),e.next=7,O.queryItems({network:this.services.network,uri:r,queryString:n,type:P.LiveQuery.type});case 7:return i=e.sent,a=this.getCached(i.query_id,P.LiveQuery.type),a||(o=this._getLiveQuery(i.query_id),o||(o={indexName:t,queryExpression:n,sid:i.query_id,queryUri:r,last_event_id:i.last_event_id}),s=function(e,t,n){return u.removeFromCacheAndSession(e,t,n)},a=new P.LiveQueryImpl(o,this.services,s,i.items)),this.storeRootInSessionCache(P.LiveQuery.type,i.query_id,a.liveQueryDescriptor),a=this.entities.store(a),e.abrupt("return",new P.LiveQuery(a));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"instantQuery",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:return n=function(e,t){return i.liveQuery(e,t)},r=new P.InstantQuery({indexName:t,network:this.services.network,insightsUri:this.services.config.insightsUri,liveQueryCreator:n}),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"connectionState",get:function(){return this.services.notifications.connectionState}}],[{key:"version",get:function(){return A}}]),t}(c.EventEmitter);t.Client=M,t.SyncClient=M,t.default=M},function(e,t,n){var r,i;!function(a,o){"use strict";r=o,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}(0,function(){"use strict";function e(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function t(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function n(n){return"debug"===n&&(n="log"),typeof console!==u&&("trace"===n&&c?t:void 0!==console[n]?e(console,n):void 0!==console.log?e(console,"log"):s)}function r(e,t){for(var n=0;n<l.length;n++){var r=l[n];this[r]=n<e?s:this.methodFactory(r,e,t)}this.log=this.debug}function i(e,t,n){return function(){typeof console!==u&&(r.call(this,t,n),this[e].apply(this,arguments))}}function a(e,t,r){return n(e)||i.apply(this,arguments)}function o(e,t,n){function i(e){var t=(l[e]||"silent").toUpperCase();if(typeof window!==u){try{return void(window.localStorage[f]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(e){}}}function o(){var e;if(typeof window!==u){try{e=window.localStorage[f]}catch(e){}if(typeof e===u)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(f)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}var s,c=this,f="loglevel";e&&(f+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=n||a,c.getLevel=function(){return s},c.setLevel=function(t,n){if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(s=t,!1!==n&&i(t),r.call(c,t,e),typeof console===u&&t<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){o()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var d=o();null==d&&(d=null==t?"WARN":t),c.setLevel(d,!1)}var s=function(){},u="undefined",c=typeof window!==u&&typeof window.navigator!==u&&/Trident\/|MSIE /.test(window.navigator.userAgent),l=["trace","debug","info","warn","error"],f=new o,d={};f.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new o(e,f.getLevel(),f.methodFactory)),t};var p=typeof window!==u?window.log:void 0;return f.noConflict=function(){return typeof window!==u&&window.log===f&&(window.log=p),f},f.getLoggers=function(){return d},f})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return e&&void 0!==e[t]?e[t]:n}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o="/v4/Subscriptions",s="/v3/Maps",u="/v3/Lists",c="/v3/Documents",l="/v3/Streams",f="/v3/Insights",d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=t.region||"us1",a="https://cds."+n+".twilio.com",d=t.cdsUri||a;this.settings={subscriptionsUri:d+o,documentsUri:d+c,listsUri:d+u,mapsUri:d+s,streamsUri:d+l,insightsUri:d+f,sessionStorageEnabled:i(t.Sync,"enableSessionStorage",!0)}}return a(e,[{key:"subscriptionsUri",get:function(){return this.settings.subscriptionsUri}},{key:"documentsUri",get:function(){return this.settings.documentsUri}},{key:"listsUri",get:function(){return this.settings.listsUri}},{key:"mapsUri",get:function(){return this.settings.mapsUri}},{key:"streamsUri",get:function(){return this.settings.streamsUri}},{key:"insightsUri",get:function(){return this.settings.insightsUri}},{key:"backoffConfig",get:function(){return this.settings.backoffConfig||{}}},{key:"sessionStorageEnabled",get:function(){return this.settings.sessionStorageEnabled}}]),e}();t.Configuration=d},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(86),u=n(57),c=n(58),l=n(56),f=function(){function e(t){i(this,e),this.localObject=t,this.pendingCorrelationId=null,this.pendingAction=null,this.established=!1,this.retryCount=0}return o(e,[{key:"update",value:function(e,t){this.localObject._update(e,t)}},{key:"updatePending",value:function(e,t){this.pendingAction=e,this.pendingCorrelationId=t}},{key:"reset",value:function(){this.updatePending(null,null),this.retryCount=0,this.established=!1,this.setSubscriptionState("none")}},{key:"markAsFailed",value:function(e){this.rejectedWithError=e.error,this.updatePending(null,null),this.localObject.reportFailure(new u.SyncError("Failed to subscribe on service events: "+e.error.message,e.error.status,e.error.code))}},{key:"complete",value:function(e){this.updatePending(null,null),this.established=!0,this.localObject._advanceLastEventId(e)}},{key:"setSubscriptionState",value:function(e){this.localObject._setSubscriptionState(e)}},{key:"sid",get:function(){return this.localObject.sid}},{key:"type",get:function(){return this.localObject.type}},{key:"lastEventId",get:function(){return this.localObject.lastEventId}},{key:"indexName",get:function(){return this.localObject.indexName}},{key:"queryString",get:function(){return this.localObject.queryString}},{key:"isEstablished",get:function(){return this.established}}]),e}(),d=function(){function e(t){var n=this;i(this,e),this.isConnected=!1,this.maxBatchSize=100,this.subscriptionTtlTimer=null,this.pendingPokeReason=null,this.services=t,this.subscriptions=new Map,this.persisted=new Map,this.latestPokeResponseArrivalTimestampByCorrelationId=new Map;var r={randomisationFactor:.2,initialDelay:100,maxDelay:12e4};this.backoff=s.Backoff.exponential(Object.assign(r,this.services.config.backoffConfig)),this.backoff.on("ready",function(){var e=n.getSubscriptionUpdateBatch(),t=e.action,r=e.subscriptions;t?n.applyNewSubscriptionUpdateBatch(t,r):(n.backoff.reset(),c.default.debug("All subscriptions resolved."))})}return o(e,[{key:"getSubscriptionUpdateBatch",value:function(){function e(e,t,n,r){var i=[],o=!0,s=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value,d=a(f,2),p=d[0],h=d[1];if(!t.get(p)&&n!==h.pendingAction&&!h.rejectedWithError&&(i.push(h),r&&i.length>=r))break}}catch(e){s=!0,u=e}finally{try{!o&&l.return&&l.return()}finally{if(s)throw u}}return i}var t=e(this.subscriptions,this.persisted,"establish",this.maxBatchSize);if(t.length>0)return{action:"establish",subscriptions:t};var n=e(this.persisted,this.subscriptions,"cancel",this.maxBatchSize);return n.length>0?{action:"cancel",subscriptions:n}:{action:null,subscriptions:null}}},{key:"persist",value:function(){this.backoff.backoff()}},{key:"applyNewSubscriptionUpdateBatch",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,u,f,d,p,h,v,m,y,g,b,_,w,k,x,S,E,C,P=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isConnected){e.next=4;break}return c.default.debug("Twilsock connection (required for subscription) not ready; waiting…"),this.backoff.reset(),e.abrupt("return");case 4:for(n=this.processLocalActions(t,n),r=(new Date).getTime(),i=!0,a=!1,o=void 0,e.prev=9,s=n[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)f=u.value,this.recordActionAttemptOn(f,t,r);e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),a=!0,o=e.t0;case 17:e.prev=17,e.prev=18,!i&&s.return&&s.return();case 20:if(e.prev=20,!a){e.next=23;break}throw o;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return d=this.pendingPokeReason,this.pendingPokeReason=null,e.prev=27,e.next=30,this.request(t,r,d,n);case 30:p=e.sent,h=p.body.max_batch_size,!isNaN(parseInt(h))&&isFinite(h)&&h>0&&(this.maxBatchSize=h),this.subscriptionTtlTimer||(v=p.body.ttl_in_s,m=!isNaN(parseFloat(v))&&isFinite(v),(y=m&&v>0)&&(this.subscriptionTtlTimer=setTimeout(function(){return P.onSubscriptionTtlElapsed()},1e3*v))),"establish"===t&&(g=p.body.estimated_delivery_in_ms,b=!isNaN(parseFloat(g))&&isFinite(g),_=b&&g>0,_?setTimeout(function(){return P.verifyPokeDelivery(r,g,n)},g):c.default.error("Invalid timeout: "+g),n.filter(function(e){return e.pendingCorrelationId===r}).forEach(function(e){return e.setSubscriptionState("response_in_flight")})),this.backoff.reset(),e.next=60;break;case 38:for(e.prev=38,e.t1=e.catch(27),w=!0,k=!1,x=void 0,e.prev=43,S=n[Symbol.iterator]();!(w=(E=S.next()).done);w=!0)C=E.value,this.recordActionFailureOn(C,t);e.next=51;break;case 47:e.prev=47,e.t2=e.catch(43),k=!0,x=e.t2;case 51:e.prev=51,e.prev=52,!w&&S.return&&S.return();case 54:if(e.prev=54,!k){e.next=57;break}throw x;case 57:return e.finish(54);case 58:return e.finish(51);case 59:e.t1 instanceof l.TransportUnavailableError?(c.default.debug("Twilsock connection (required for subscription) not ready (c:"+r+"); waiting…"),this.backoff.reset()):(c.default.debug("Failed an attempt to "+t+" subscriptions (c:"+r+"); retrying",e.t1),this.persist());case 60:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24],[27,38],[43,47,51,59],[52,,54,58]])}));return e}()},{key:"verifyPokeDelivery",value:function(e,t,n){var r=this,i=this.latestPokeResponseArrivalTimestampByCorrelationId.get(e),a=i?(new Date).getTime()-i:t;if(a>=t)n.filter(function(t){return t.pendingCorrelationId===e}).forEach(function(e){e.updatePending(null,null),e.retryCount++,r.persisted.delete(e.sid)}),this.persist(),this.latestPokeResponseArrivalTimestampByCorrelationId.delete(e);else{var o=t-a;setTimeout(function(){return r.verifyPokeDelivery(e,t,n)},o)}}},{key:"processLocalActions",value:function(e,t){return"cancel"===e?t.filter(function(e){return!e.rejectedWithError}):t}},{key:"recordActionAttemptOn",value:function(e,t,n){if(e.setSubscriptionState("request_in_flight"),"establish"===t)this.persisted.set(e.sid,e),e.updatePending(t,n);else{var r=this.persisted.get(e.sid);r&&r.updatePending(t,n)}}},{key:"recordActionFailureOn",value:function(e,t){e.setSubscriptionState("none"),e.updatePending(null,null),"establish"===t&&this.persisted.delete(e.sid)}},{key:"request",value:function(e,t,n,r){var i=r.map(function(t){return{object_sid:t.sid,object_type:t.type,last_event_id:"establish"===e?t.lastEventId:void 0,index_name:"establish"===e?t.indexName:void 0,query_string:"establish"===e?t.queryString:void 0}}),a=r.filter(function(e){return e.retryCount>0}).length;c.default.debug("Attempting '"+e+"' request (c:"+t+"):",i);var o={event_protocol_version:3,action:e,correlation_id:t,retried_requests:a,ttl_in_s:-1,requests:i};return"ttl"===n&&(o.reason=n),this.services.network.post(this.services.config.subscriptionsUri,o)}},{key:"add",value:function(e,t){c.default.debug("Establishing intent to subscribe to "+e);var n=this.subscriptions.get(e);n&&t&&n.lastEventId===t.lastEventId||(this.persisted.delete(e),this.subscriptions.set(e,new f(t)),this.persist())}},{key:"remove",value:function(e){c.default.debug("Establishing intent to unsubscribe from "+e),this.subscriptions.delete(e)&&this.persist()}},{key:"acceptMessage",value:function(e,t){c.default.trace("Subscriptions received",e),e.correlation_id&&this.latestPokeResponseArrivalTimestampByCorrelationId.set(e.correlation_id,(new Date).getTime());var n=void 0;switch(e.event_type){case"subscription_established":this.applySubscriptionEstablishedMessage(e.event,e.correlation_id);break;case"subscription_canceled":this.applySubscriptionCancelledMessage(e.event,e.correlation_id);break;case"subscription_failed":this.applySubscriptionFailedMessage(e.event,e.correlation_id);break;case(n=e.event_type.match(/^(?:map|list|document|stream|live_query)_/)||{}).input:var r=void 0;switch(n[0]){case"map_":r=e.event.map_sid;break;case"list_":r=e.event.list_sid;break;case"document_":r=e.event.document_sid;break;case"stream_":r=e.event.stream_sid;break;case"live_query_":r=e.event.query_id,t=!1,!0===e.strictly_ordered&&(t=!0);break;default:r=void 0}this.applyEventToSubscribedEntity(r,e,t);break;default:c.default.debug("Dropping unknown message type "+e.event_type)}}},{key:"applySubscriptionEstablishedMessage",value:function(e,t){var n=e.object_sid,r=this.persisted.get(e.object_sid);r&&r.pendingCorrelationId===t?"interrupted"===e.replay_status?(c.default.debug("Event Replay for subscription to "+n+" (c:"+t+") interrupted; continuing eagerly."),r.updatePending(null,null),this.persisted.delete(r.sid),this.backoff.reset()):"completed"===e.replay_status&&(c.default.debug("Event Replay for subscription to "+n+" (c:"+t+") completed. Subscription is ready."),r.complete(e.last_event_id),this.persisted.set(e.object_sid,r),r.setSubscriptionState("established"),this.backoff.reset()):c.default.debug("Late message for "+e.object_sid+" (c:"+t+") dropped."),this.persist()}},{key:"applySubscriptionCancelledMessage",value:function(e,t){var n=this.persisted.get(e.object_sid);n&&n.pendingCorrelationId===t?(n.updatePending(null,null),n.setSubscriptionState("none"),this.persisted.delete(e.object_sid)):c.default.debug("Late message for "+e.object_sid+" (c:"+t+") dropped."),this.persist()}},{key:"applySubscriptionFailedMessage",value:function(e,t){var n=e.object_sid,r=this.subscriptions.get(n),i=this.persisted.get(n);r&&i?i.pendingCorrelationId===t&&(c.default.error("Failed to subscribe on "+i.sid,e.error),i.markAsFailed(e),i.setSubscriptionState("none")):!r&&i&&(this.persisted.delete(n),i.setSubscriptionState("none")),this.persist()}},{key:"applyEventToSubscribedEntity",value:function(e,t,n){var r=this;if(e){n=n||function(){var t=r.persisted.get(e);return t&&t.isEstablished}();var i=this.subscriptions.get(e);i?(t.event.type=t.event_type,i.update(t.event,n)):c.default.debug("Message dropped for SID '"+e+"', for which there is no subscription.")}}},{key:"onConnectionStateChanged",value:function(e){this.isConnected=e,e&&this.poke("reconnect")}},{key:"onSubscriptionTtlElapsed",value:function(){this.isConnected&&this.poke("ttl")}},{key:"poke",value:function(e){c.default.debug("Triggering event replay for all subscriptions, reason="+e),this.pendingPokeReason=e,this.subscriptionTtlTimer&&(clearTimeout(this.subscriptionTtlTimer),this.subscriptionTtlTimer=null);var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=this.persisted.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s.reset(),s.rejectedWithError&&t.push(s)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}this.persisted.clear();var u=!0,l=!1,f=void 0;try{for(var d,p=t[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;this.persisted.set(h.sid,h)}}catch(e){l=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(l)throw f}}this.persist()}},{key:"shutdown",value:function(){this.backoff.reset(),this.subscriptions.clear()}}]),e}();t.Subscriptions=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(58),o="com.twilio.rtd.cds.document",s="com.twilio.rtd.cds.list",u="com.twilio.rtd.cds.map",c="twilio.sync.event",l=function(){function e(t){var n=this;r(this,e),this.config=t.config,this.subscriptions=t.subscriptions,this.notifications=t.notifications,this.notifications.subscribe(c),this.notifications.subscribe(o),this.notifications.subscribe(s),this.notifications.subscribe(u),this.notifications.on("message",function(e,t){return n.onMessage(e,t)}),this.notifications.on("transportReady",function(e){return n.onConnectionStateChanged(e)})}return i(e,[{key:"onMessage",value:function(e,t){switch(a.default.trace("Notification type:",e,"content:",t),e){case o:case s:case u:this.subscriptions.acceptMessage(t,!1);break;case c:this.subscriptions.acceptMessage(t,!0)}}},{key:"subscribe",value:function(e,t){this.subscriptions.add(e,t)}},{key:"unsubscribe",value:function(e){this.subscriptions.remove(e)}},{key:"onConnectionStateChanged",value:function(e){this.subscriptions.onConnectionStateChanged(e)}}]),e}();t.Router=l,t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){if(e.body&&e.body.message)return e.body.message;switch(e.status){case 429:return"Throttled by server";case 404:return"Not found from server";default:return"Error from server"}}function a(e){return e.body?e.body.code:0}function o(e){return 409===e.status?new c.SyncNetworkError(i(e),e.status,a(e),e.body):e.status?new c.SyncError(i(e),e.status,a(e)):e instanceof d.TransportUnavailableError?e:new c.SyncError(e.message,0,0)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(75),c=n(57),l=n(58),f=n(86),d=n(56),p=function(){function e(t,n,i){r(this,e),this.clientInfo=t,this.config=n,this.transport=i}return s(e,[{key:"createHeaders",value:function(){return{"Content-Type":"application/json","Twilio-Sync-Client-Info":JSON.stringify(this.clientInfo),"Twilio-Request-Id":"RQ"+u.v4().replace(/-/g,"")}}},{key:"backoffConfig",value:function(){return Object.assign({min:4e3,max:6e4,maxAttemptsTime:9e4,randomness:.2},this.config.backoffConfig)}},{key:"executeWithRetry",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(r,i){var a=[502,503,504];n&&a.push(429);var s=new f.Retrier(t.backoffConfig());s.on("attempt",function(){e().then(function(e){return s.succeeded(e)}).catch(function(e){if(a.includes(e.status)){var t=parseInt(e.headers?e.headers["Retry-After"]:null);s.failed(o(e),isNaN(t)?null:1e3*t)}else"Twilsock disconnected"===e.message?s.failed(o(e)):(s.removeAllListeners(),s.cancel(),i(o(e)))})}),s.on("succeeded",function(e){r(e)}),s.on("cancelled",function(e){return i(o(e))}),s.on("failed",function(e){return i(o(e))}),s.start()})}},{key:"get",value:function(e){var t=this,n=this.createHeaders();return l.default.debug("GET",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry(function(){return t.transport.get(e,n)},!0)}},{key:"post",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.createHeaders();return void 0!==n&&null!==n&&(a["If-Match"]=n),l.default.debug("POST",e,"ID:",a["Twilio-Request-Id"]),this.executeWithRetry(function(){return r.transport.post(e,a,t)},i)}},{key:"put",value:function(e,t,n){var r=this,i=this.createHeaders();return void 0!==n&&null!==n&&(i["If-Match"]=n),l.default.debug("PUT",e,"ID:",i["Twilio-Request-Id"]),this.executeWithRetry(function(){return r.transport.put(e,i,t)},!1)}},{key:"delete",value:function(e){var t=this,n=this.createHeaders();return l.default.debug("DELETE",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry(function(){return t.transport.delete(e,n)},!1)}}]),e}();t.NetworkService=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t,n){r(this,e),this.balanceFactor=0,this.key=t,this.value=n,this.parent=null,this.left=null,this.right=null}return i(e,[{key:"update",value:function(e){this.value=e}},{key:"replace",value:function(e,t){e&&(this.left===t?this.left=t:this.right===t&&(this.right=t))}},{key:"isRoot",get:function(){return null===this.parent}},{key:"isLeaf",get:function(){return null===this.left&&null===this.right}},{key:"isLeftChild",get:function(){return this.parent.left===this}}]),e}(),o=function(){function e(t,n){r(this,e),this.isLessThan=t||function(e,t){return e<t},this.isEqual=n||function(e,t){return e===t},this.root=null,this.count=null}return i(e,[{key:"clear",value:function(){this.root=null,this.count=0}},{key:"set",value:function(e,t){var n=this.getNode(e);n?n.update(t):this.insert(e,t)}},{key:"insert",value:function(e,t){var n=new a(e,t);if(this.count++,!this.root)return void(this.root=n);for(var r=this.root;;)if(this.isLessThan(e,r.key)){if(!r.left){r.left=n;break}r=r.left}else{if(!r.right){r.right=n;break}r=r.right}for(n.parent=r,r=n;r.parent;){var i=r.parent,o=i.balanceFactor;if(r.isLeftChild?i.balanceFactor++:i.balanceFactor--,Math.abs(i.balanceFactor)<Math.abs(o))break;if(i.balanceFactor<-1||i.balanceFactor>1){this.rebalance(i);break}r=i}}},{key:"get",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t.value;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"delete",value:function(e){var t=this.getNode(e);if(!t||t.key!==e)return null;var n=t.parent,r=t.left,i=t.right;if(!!r!=!!i){var a=r||i;n||a?n&&!a?this.root=a:(n.replace(t,null),this.rebalance(n)):this.root=null}else{for(var o=t.left;o.right;)o=o.right;if(t.left===o)t.isRoot?(this.root=o,o.parent=null):(t.isLeftChild?t.parent.left=o:t.parent.right=o,o.parent=t.parent),o.right=t.right,o.right.parent=o,o.balanceFactor=t.balanceFactor,t={parent:o,isLeftChild:!0};else{var s=o.parent,u=o.left;s.right=u,u&&(u.parent=s),t.isRoot?(this.root=o,o.parent=null):(t.isLeftChild?t.parent.left=o:t.parent.right=o,o.parent=t.parent),o.right=t.right,o.right.parent=o,o.left=t.left,o.left.parent=o,o.balanceFactor=t.balanceFactor,t={parent:s,isLeftChild:!1}}}for(this.count--;t.parent;){var c=t.parent,l=c.balanceFactor;if(t.isLeftChild?c.balanceFactor-=1:c.balanceFactor+=1,Math.abs(c.balanceFactor)>Math.abs(l)){if(!(c.balanceFactor<-1||c.balanceFactor>1))break;if(this.rebalance(c),0!==c.parent.balanceFactor)break;t=c.parent}else t=c}return null}},{key:"getNode",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"rebalance",value:function(e){e.balanceFactor<0?e.right.balanceFactor>0?(this.rotateRight(e.right),this.rotateLeft(e)):this.rotateLeft(e):e.balanceFactor>0&&(e.left.balanceFactor<0?(this.rotateLeft(e.left),this.rotateRight(e)):this.rotateRight(e))}},{key:"rotateLeft",value:function(e){var t=e.right;e.right=t.left,null!==t.left&&(t.left.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,t.left=e,e.parent=t,e.balanceFactor=e.balanceFactor+1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor+1-Math.max(e.balanceFactor,0)}},{key:"rotateRight",value:function(e){var t=e.left;e.left=t.right,null!==t.right&&(t.right.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,t.right=e,e.parent=t,e.balanceFactor=e.balanceFactor-1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor-1-Math.max(e.balanceFactor,0)}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t,n,r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,i=this.getIterator()[Symbol.iterator]();case 5:if(t=(a=i.next()).done){e.next=12;break}return o=a.value,e.next=9,o;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,!t&&i.return&&i.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:"getIterator",value:regeneratorRuntime.mark(function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.root;case 1:if(!t){e.next=7;break}if(!this.isEqual(r,t.key)&&(null!==r||t.left)){e.next=4;break}return e.abrupt("break",7);case 4:t=this.isLessThan(r,t.key)||null===r?t.left:t.right,e.next=1;break;case 7:if(t){e.next=9;break}return e.abrupt("return",null);case 9:n=!0;case 10:if(!n){e.next=28;break}return e.next=13,[t.key,t.value];case 13:if(n=!1,!t.right){e.next=20;break}for(t=t.right;t.left;)t=t.left;n=!0,e.next=26;break;case 20:if(!t.parent){e.next=25;break}n=t.parent.left===t,t=t.parent,e.next=26;break;case 25:return e.abrupt("break",36);case 26:e.next=34;break;case 28:if(!t.parent){e.next=33;break}n=t.parent.left===t,t=t.parent,e.next=34;break;case 33:return e.abrupt("break",36);case 34:e.next=10;break;case 36:return e.abrupt("return",null);case 37:case"end":return e.stop()}},e,this)})},{key:"getReverseIterator",value:regeneratorRuntime.mark(function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.root;case 1:if(!t){e.next=7;break}if(!this.isEqual(r,t.key)&&(null!==r||t.right)){e.next=4;break}return e.abrupt("break",7);case 4:t=this.isLessThan(r,t.key)&&null!==r?t.left:t.right,e.next=1;break;case 7:if(t){e.next=9;break}return e.abrupt("return",null);case 9:n=!0;case 10:if(!n){e.next=28;break}return e.next=13,[t.key,t.value];case 13:if(n=!1,!t.left){e.next=20;break}for(t=t.left;t.right;)t=t.right;n=!0,e.next=26;break;case 20:if(!t.parent){e.next=25;break}n=t.parent.right===t,t=t.parent,e.next=26;break;case 25:return e.abrupt("break",36);case 26:e.next=34;break;case 28:if(!t.parent){e.next=33;break}n=t.parent.right===t,t=t.parent,e.next=34;break;case 33:return e.abrupt("break",36);case 34:e.next=10;break;case 36:return e.abrupt("return",null);case 37:case"end":return e.stop()}},e,this)})},{key:"size",get:function(){return this.count}}]),e}();t.TreeMap=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(175),a=function e(t){r(this,e),this.sdk="js",this.sdkVer=t,this.os=i.os.family,this.osVer=i.os.version,this.pl=i.name,this.plVer=i.version};t.ClientInfo=a,t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){r(this,e),this.names=new Map,this.entities=new Map}return i(e,[{key:"store",value:function(e){var t=this.entities.get(e.sid);return t||(this.entities.set(e.sid,e),e.uniqueName&&this.names.set(e.type+"::"+e.uniqueName,e.sid),e)}},{key:"getResolved",value:function(e,t){var n=this.names.get(t+"::"+e);return n?this.entities.get(n):null}},{key:"get",value:function(e,t){return this.entities.get(e)||this.getResolved(e,t)||null}},{key:"remove",value:function(e){var t=this.entities.get(e);t&&(this.entities.delete(e),t.uniqueName&&this.names.delete(t.type+"::"+t.uniqueName))}}]),e}();t.EntitiesCache=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(t,n){r(this,e),this.config=t,this.storageId=null;try{this.storage=n||sessionStorage}catch(e){}}return i(e,[{key:"storageKey",value:function(e,t){return this.storageId+"::"+e+"::"+t}},{key:"updateStorageId",value:function(e){this.storageId=e}},{key:"store",value:function(e,t,n){return this.isReady?this._store(this.storageKey(e,t),n):null}},{key:"read",value:function(e,t){return this.isReady?this._read(this.storageKey(e,t)):null}},{key:"remove",value:function(e,t,n){if(!this.isReady)return null;try{this.storage.removeItem(this.storageKey(e,t)),n&&this.storage.removeItem(this.storageKey(e,n))}catch(e){}}},{key:"update",value:function(e,t,n,r){if(!this.isReady)return null;this._apply(this.storageKey(e,t),r),n&&this._apply(this.storageKey(e,n),r)}},{key:"_store",value:function(e,t){try{this.storage.setItem(e,JSON.stringify(t))}catch(e){}}},{key:"_read",value:function(e){try{var t=this.storage.getItem(e);if(t)return JSON.parse(t)}catch(e){}return null}},{key:"_apply",value:function(e,t){var n=this._read(e);if(!n)return!1;this._store(e,Object.assign(n,t))}},{key:"isReady",get:function(){return this.config.sessionStorageEnabled&&!!this.storageId}}]),e}();t.SessionStorage=a},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(100),l=n(99),f=n(101),d=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return o.descriptor=n,o}return o(t,e),u(t,[{key:"publishMessage",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:t},e.next=3,this.services.network.post(this.links.messages,n);case 3:return r=e.sent,i=r.body,a=this._handleMessagePublished(i.sid,t,!1),e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"setTtl",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.validateMandatoryTtl(t),e.prev=1,n={ttl:t},e.next=5,this.services.network.post(this.uri,n);case 5:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),404===e.t0.status&&this.onRemoved(!1),e.t0;case 13:case"end":return e.stop()}},e,this,[[1,9]])}));return e}()},{key:"removeStream",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"_update",value:function(e){switch(e.type){case"stream_message_published":this._handleMessagePublished(e.message_sid,e.message_data,!0);break;case"stream_removed":this.onRemoved(!1)}}},{key:"_handleMessagePublished",value:function(e,t,n){var r={sid:e,value:t};return this.broadcastEventToListeners("messagePublished",{message:r,isLocal:!n}),r}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"uri",get:function(){return this.descriptor.url}},{key:"links",get:function(){return this.descriptor.links}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"stream"}},{key:"lastEventId",get:function(){return null}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}}],[{key:"type",get:function(){return"stream"}}]),t}(c.SyncEntity);t.SyncStreamImpl=d;var p=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.syncStreamImpl=e,n.syncStreamImpl.attach(n),n}return o(t,e),u(t,[{key:"publishMessage",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.publishMessage(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"setTtl",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.setTtl(t));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"removeStream",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.removeStream());case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"close",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this),this.syncStreamImpl.detach(this.listenerUuid)}},{key:"uri",get:function(){return this.syncStreamImpl.uri}},{key:"links",get:function(){return this.syncStreamImpl.links}},{key:"dateExpires",get:function(){return this.syncStreamImpl.dateExpires}},{key:"type",get:function(){return d.type}},{key:"lastEventId",get:function(){return null}},{key:"sid",get:function(){return this.syncStreamImpl.sid}},{key:"uniqueName",get:function(){return this.syncStreamImpl.uniqueName}}],[{key:"type",get:function(){return d.type}}]),t}(f.default);t.SyncStream=p,t.default=p},function(e,t){e.exports={_args:[["twilio-sync@0.12.1","/var/lib/jenkins/workspace/smith_master-QIIVVAU23PZBAMVGFCJF4RYCQTTAXYKXEVYBTYMIV5NAZ4AFL4QA/chat/widget-frontend"]],_from:"twilio-sync@0.12.1",_id:"twilio-sync@0.12.1",_inBundle:!1,_integrity:"sha512-gMW8d3iDGWDmErcu3OCz92qKT9zg/Jg0SACxzZQOID5M++MgItK7/y1cYDhS2GbPG1ShV0dLhKHTlFsydHjezA==",_location:"/twilio-sync",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"twilio-sync@0.12.1",name:"twilio-sync",escapedName:"twilio-sync",rawSpec:"0.12.1",saveSpec:null,fetchSpec:"0.12.1"},_requiredBy:["/twilio-chat"],_resolved:"https://registry.npmjs.org/twilio-sync/-/twilio-sync-0.12.1.tgz",_spec:"0.12.1",_where:"/var/lib/jenkins/workspace/smith_master-QIIVVAU23PZBAMVGFCJF4RYCQTTAXYKXEVYBTYMIV5NAZ4AFL4QA/chat/widget-frontend",author:{name:"Twilio"},browserify:{transform:["babelify"]},dependencies:{loglevel:"^1.6.3","operation-retrier":"^3.0.0",platform:"^1.3.5","twilio-notifications":"^0.5.8",twilsock:"^0.5.11",uuid:"^3.3.2"},description:"Twilio Sync client library",devDependencies:{"@types/chai":"^4.1.7","@types/chai-as-promised":"7.1.0","@types/chai-string":"^1.4.1","@types/mocha":"^5.2.7","@types/node":"^12.0.4","@types/sinon":"^7.0.12","@types/sinon-chai":"^3.2.2","async-test-tools":"^1.0.7","babel-core":"^6.26.0","babel-plugin-transform-builtin-extend":"^1.1.2","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.6.1","babel-runtime":"^6.26.0",babelify:"^8.0.0",browserify:"^16.2.3",chai:"^4.2.0","chai-as-promised":"^7.1.1","chai-string":"^1.5.0",cheerio:"^1.0.0-rc.2","cross-env":"^5.2.0",del:"^4.1.1","fancy-log":"^1.3.3",fs:"0.0.2",gulp:"^4.0.2","gulp-babel":"^7.0.1","gulp-derequire":"^2.1.0","gulp-if":"^2.0.2","gulp-insert":"^0.5.0","gulp-rename":"^1.4.0","gulp-sourcemaps":"^2.6.5","gulp-tap":"^1.0.1","gulp-tslint":"^8.1.4","gulp-typescript":"^5.0.1","gulp-uglify-es":"^1.0.4","ink-docstrap":"^1.3.2",jsdoc:"~3.5.5",jsonwebtoken:"^8.5.1",karma:"^4.1.0","karma-browserify":"^6.0.0","karma-browserstack-launcher":"^1.5.1","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.5",mocha:"^6.1.4",nyc:"^14.1.1",path:"^0.12.7",sinon:"^7.3.2","sinon-chai":"^3.3.0","source-map-explorer":"^1.8.0","ts-node":"^8.2.0",tslint:"^5.17.0",twilio:"^3.31.1",typescript:"^3.5.1","uglify-es":"^3.3.10","uglify-save-license":"^0.4.1",underscore:"^1.9.1","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0",watchify:"^3.11.1"},engines:{node:">=8"},license:"MIT",main:"lib/index.js",name:"twilio-sync",types:"./lib/index.d.ts",version:"0.12.1"}},function(e,t,n){"use strict";var r=n(699);e.exports=r},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(276),s=n(277),u=n(701);t.Media=u.Media,t.McsMedia=u.Media;var c=n(702),l=n(705),f=o.Logger.scope(""),d=n(706).version,p="A valid Twilio token should be provided",h=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i(this,e),this.options=r,this.options.logLevel=this.options.logLevel||"silent",this.config=new s.Configuration(t,n,this.options),!t)throw new Error(p);f.setLevel(this.options.logLevel),this.options.transport=this.options.transport||new c.Transport,this.transport=this.options.transport,this.network=new l.Network(this.config,this.transport)}return a(e,[{key:"updateToken",value:function(e){if(f.info("updateToken"),!e)throw new Error(p);this.config.updateToken(e)}},{key:"get",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.network.get(this.config.baseUrl+"/"+t);case 2:return n=e.sent,e.abrupt("return",new u.Media(this.config,this.network,n.body));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"post",value:function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.network.post(this.config.baseUrl,n,t);case 2:return r=e.sent,e.abrupt("return",new u.Media(this.config,this.network,r.body));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"postFormData",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.network.post(this.config.baseUrl,t);case 2:return n=e.sent,e.abrupt("return",new u.Media(this.config,this.network,n.body));case 4:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.Client=h,t.McsClient=h,h.version=d,t.default=h},function(e,t,n){var r,i;!function(a,o){"use strict";r=o,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}(0,function(){"use strict";function e(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function t(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function n(n){return"debug"===n&&(n="log"),typeof console!==u&&("trace"===n&&c?t:void 0!==console[n]?e(console,n):void 0!==console.log?e(console,"log"):s)}function r(e,t){for(var n=0;n<l.length;n++){var r=l[n];this[r]=n<e?s:this.methodFactory(r,e,t)}this.log=this.debug}function i(e,t,n){return function(){typeof console!==u&&(r.call(this,t,n),this[e].apply(this,arguments))}}function a(e,t,r){return n(e)||i.apply(this,arguments)}function o(e,t,n){function i(e){var t=(l[e]||"silent").toUpperCase();if(typeof window!==u){try{return void(window.localStorage[f]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(e){}}}function o(){var e;if(typeof window!==u){try{e=window.localStorage[f]}catch(e){}if(typeof e===u)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(f)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}var s,c=this,f="loglevel";e&&(f+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=n||a,c.getLevel=function(){return s},c.setLevel=function(t,n){if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(s=t,!1!==n&&i(t),r.call(c,t,e),typeof console===u&&t<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){o()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var d=o();null==d&&(d=null==t?"WARN":t),c.setLevel(d,!1)}var s=function(){},u="undefined",c=typeof window!==u&&typeof window.navigator!==u&&/Trident\/|MSIE /.test(window.navigator.userAgent),l=["trace","debug","info","warn","error"],f=new o,d={};f.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new o(e,f.getLevel(),f.methodFactory)),t};var p=typeof window!==u?window.log:void 0;return f.noConflict=function(){return typeof window!==u&&window.log===f&&(window.log=p),f},f.getLoggers=function(){return d},f})},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,n,r){i(this,e),this.config=t,this.network=n,this._update(r)}return a(e,[{key:"getContentUrl",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.network.get(this.config.baseUrl+"/"+this.sid);case 2:return t=e.sent,this._update(t.body),e.abrupt("return",Promise.resolve(this.state.contentDirectUrl));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"_update",value:function(e){this.state={sid:e.sid,serviceSid:e.service_sid,channelSid:e.channel_sid,messageSid:e.message_sid,dateCreated:e.date_created?new Date(e.date_created):null,dateUpdated:e.date_updated?new Date(e.date_updated):null,size:e.size,contentType:e.content_type,url:e.url,contentUrl:e.links.content,contentDirectUrl:e.links.content_direct_temporary,filename:e.filename?e.filename:null}}},{key:"sid",get:function(){return this.state.sid}},{key:"serviceSid",get:function(){return this.state.serviceSid}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}},{key:"fileName",get:function(){return this.state.filename}}]),e}();t.Media=o},function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e?e.split("\r\n").map(function(e){return e.split(": ")}).filter(function(e){return 2===e.length&&e[1].length>0}).reduce(function(e,t){return e[t[0]]=t[1],e},{}):{}}function a(e){var t=e.getResponseHeader("Content-Type");if(!t||0!==t.indexOf("application/json")||0===e.responseText.length)return e.responseText;try{return JSON.parse(e.responseText)}catch(t){return e.responseText}}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(703),u=e.XMLHttpRequest||n(704).XMLHttpRequest,c=function(){function e(){r(this,e)}return o(e,[{key:"get",value:function(t,n){return e.request("GET",t,n)}},{key:"post",value:function(t,n,r){return e.request("POST",t,n,r)}}],[{key:"request",value:function(e,t,n,r){return new Promise(function(o,c){var l=new u;l.open(e,t,!0),l.onreadystatechange=function(){if(4===l.readyState){var e=i(l.getAllResponseHeaders()),t=a(l);if(200<=l.status&&l.status<300)o({status:l.status,headers:e,body:t});else{var n=l.statusText&&l.statusText.code?l.statusText.code:"NONE",r=void 0;r="string"==typeof t?t&&1===t.split("\n",2).length?t:"":JSON.stringify(t);var u=l.status+": ["+n+"] "+r;c(new s.TransportError(u,l.status,t,n,e))}}};for(var f in n)l.setRequestHeader(f,n[f]),"Content-Type"===f&&"application/json"===n[f]&&(r=JSON.stringify(r));l.send(r)})}}]),e}();t.Transport=c}).call(t,n(46))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(e,n,a,o,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u.code=n,u.body=a,u.status=o,u.headers=s,u}return a(t,e),t}(Error);t.TransportError=o},function(e,t){},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,a){try{var o=t[i](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(86),s=n(276),u=n(277),c=s.Logger.scope("Network"),l=function(){function e(t,n){i(this,e),this.config=t,this.transport=n}return a(e,[{key:"backoffConfig",value:function(){return Object.assign(u.Configuration.backoffConfigDefault,this.config.backoffConfigOverride)}},{key:"retryWhenThrottled",value:function(){return void 0!==this.config.retryWhenThrottledOverride?this.config.retryWhenThrottledOverride:void 0!==u.Configuration.retryWhenThrottledDefault&&u.Configuration.retryWhenThrottledDefault}},{key:"executeWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(r,i){var a=[502,503,504];n&&a.push(429);var s=new o.Retrier(t.backoffConfig());s.on("attempt",function(){e().then(function(e){return s.succeeded(e)}).catch(function(e){a.indexOf(e.status)>-1?s.failed(e):"Twilsock disconnected"===e.message?s.failed(e):(s.removeAllListeners(),s.cancel(),i(e))})}),s.on("succeeded",function(e){r(e)}),s.on("cancelled",function(e){return i(e)}),s.on("failed",function(e){return i(e)}),s.start()})}},{key:"get",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={"X-Twilio-Token":this.config.token},c.trace("sending GET request to ",t," headers ",n),e.next=4,this.executeWithRetry(function(){return i.transport.get(t,n)},this.retryWhenThrottled());case 4:return r=e.sent,c.trace("response",r),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"post",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={"X-Twilio-Token":this.config.token},"undefined"!=typeof FormData&&n instanceof FormData||!r||Object.assign(i,{"Content-Type":r}),a=void 0,c.trace("sending POST request to ",t," headers ",i),e.prev=4,e.next=7,this.transport.post(t,i,n);case 7:a=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),!(e.t0 instanceof TypeError)){e.next=17;break}throw c.trace("got error in post response",e.t0),new TypeError("Posting FormData supported only with browser engine's FormData");case 17:throw e.t0;case 18:return c.trace("response",a),e.abrupt("return",a);case 20:case"end":return e.stop()}},e,this,[[4,10]])}));return e}()}]),e}();t.Network=l},function(e,t){e.exports={_args:[["twilio-mcs-client@0.3.3","/var/lib/jenkins/workspace/smith_master-QIIVVAU23PZBAMVGFCJF4RYCQTTAXYKXEVYBTYMIV5NAZ4AFL4QA/chat/widget-frontend"]],_from:"twilio-mcs-client@0.3.3",_id:"twilio-mcs-client@0.3.3",_inBundle:!1,_integrity:"sha512-lNnVITgLg14HBG2oshnwjAeyBxhuqJeAIQE/KUDCGLHwtA6moE49SE1RRtUr5hhziyDSCTjm5X8YeP0m/lL7QA==",_location:"/twilio-mcs-client",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"twilio-mcs-client@0.3.3",name:"twilio-mcs-client",escapedName:"twilio-mcs-client",rawSpec:"0.3.3",saveSpec:null,fetchSpec:"0.3.3"},_requiredBy:["/twilio-chat"],_resolved:"https://registry.npmjs.org/twilio-mcs-client/-/twilio-mcs-client-0.3.3.tgz",_spec:"0.3.3",_where:"/var/lib/jenkins/workspace/smith_master-QIIVVAU23PZBAMVGFCJF4RYCQTTAXYKXEVYBTYMIV5NAZ4AFL4QA/chat/widget-frontend",author:{name:"Twilio"},browser:{xmlhttprequest:!1},browserify:{transform:["babelify"]},dependencies:{loglevel:"^1.6.4","operation-retrier":"^3.0.1",xmlhttprequest:"^1.8.0"},description:"Twilio Media Content Service client library",devDependencies:{"@types/chai":"^4.2.2","@types/chai-as-promised":"^7.1.2","@types/chai-datetime":"0.0.33","@types/chai-string":"^1.4.2","@types/core-js":"^2.5.2","@types/mocha":"^5.2.7","@types/node":"^12.7.4","@types/sinon":"^7.0.13","@types/sinon-chai":"^3.2.3",async:"^3.1.0","async-test-tools":"^1.0.7","babel-core":"^6.26.0","babel-plugin-transform-builtin-extend":"^1.1.2","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.6.1","babel-runtime":"^6.26.0",babelify:"^8.0.0",browserify:"^16.0.0",chai:"^4.2.0","chai-as-promised":"^7.1.1","chai-datetime":"^1.5.0","chai-string":"^1.5.0",cheerio:"^1.0.0-rc.2","cross-env":"^5.2.1",del:"^5.1.0",dotenv:"^8.1.0",express:"^4.17.1",gulp:"^4.0.2","gulp-babel":"^7.0.1","gulp-derequire":"^2.1.0","gulp-if":"^3.0.0","gulp-insert":"^0.5.0","gulp-mocha":"^7.0.1","gulp-rename":"^1.4.0","gulp-sourcemaps":"^2.6.5","gulp-tap":"^2.0.0","gulp-tslint":"^8.1.4","gulp-typescript":"^5.0.1","gulp-uglify-es":"^1.0.0","ink-docstrap":"^1.3.2","isomorphic-form-data":"^2.0.0",jsdoc:"~3.5.5","jsdoc-strip-async-await":"^0.1.0",mocha:"^6.2.0",ngrok:"^3.2.5",nyc:"^14.1.1",sinon:"^7.4.2","sinon-chai":"^3.3.0","source-map-explorer":"^2.0.1","ts-node":"^8.3.0",tslint:"^5.19.0",twilio:"^3.34.0",typescript:"^3.6.2","uglify-save-license":"^0.4.1","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"},engines:{node:">=6"},license:"MIT",main:"lib/index.js",name:"twilio-mcs-client",scripts:{},types:"./lib/client.d.ts",version:"0.3.3"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return!t.some(function(t){return!e.hasOwnProperty(t)})}var a=n(18),o=r(a),s=n(19),u=r(s),c=n(25),l=r(c),f=n(55),d=r(f),p=n(6),h=r(p),v=n(5),m=r(v);Object.defineProperty(t,"__esModule",{value:!0});var y=n(75),g=n(175),b=n(708),_=n(31),w=n(278),k=n(279),x=n(713),S=n(280).version,E=_.Logger.scope("Session"),C=function e(){(0,m.default)(this,e)},P=function(){function e(t,n){(0,m.default)(this,e);var r="undefined"!=typeof navigator?g.parse(navigator.userAgent):g;this.services=t,this.config=n,this.sessionInfo=new k.Deferred,this.currentContext={},this.pendingCommands=new d.default,this.sessionStreamPromise=null,this.endpointPlatform=["js",S,r.os,r.name,r.version].join("|")}return(0,h.default)(e,[{key:"handleContextUpdate",value:function(e){E.info("Session context updated"),E.debug("new session context:",e),this.currentContext=e,i(e,["identity","userInfo","links","myChannels","channels"])&&(E.info("new session context accepted"),this.sessionInfo.set(e))}},{key:"initialize",value:function(){var e=this,t={type:"IpMsgSession",apiVersion:"3",endpointPlatform:this.endpointPlatform};return this.sessionStreamPromise=this.services.syncClient.list({purpose:"com.twilio.rtd.ipmsg",context:t}).then(function(t){return E.info("Session created",t.sid),t.on("itemAdded",function(t){return e.processCommandResponse(t.item)}),t.on("itemUpdated",function(t){return e.processCommandResponse(t.item)}),t.on("contextUpdated",function(t){return e.handleContextUpdate(t.context)}),t}).catch(function(e){throw E.error("Failed to create session",e),e}),this.sessionStreamPromise}},{key:"addCommand",value:function(e,t){return this.processCommand(e,t)}},{key:"processCommand",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=new C;return i.request=t,i.request.action=e,i.commandId=y.v4(),E.info("Adding command: ",e,i.commandId),E.debug("command arguments:",t,r),new l.default(function(a,o){n.sessionStreamPromise.then(function(e){return n.pendingCommands.set(i.commandId,{resolve:a,reject:o,commandId:i.commandId,request:i.request}),e.push(i)}).then(function(){return E.debug("Command accepted by server",i.commandId)}).catch(function(s){n.pendingCommands.delete(i.commandId),E.error("Failed to add a command to the session",s),s.code!=b.ResponseCodes.ACCESS_FORBIDDEN_FOR_IDENTITY&&s.code!==b.ResponseCodes.LIST_NOT_FOUND||!r?o(new Error("Can't add command: "+s.message)):(E.info("recreating session..."),n.initialize(),a(n.processCommand(e,t,!1)))})})}},{key:"processCommandResponse",value:function(e){if(e.value.hasOwnProperty("response")&&e.value.hasOwnProperty("commandId")&&this.pendingCommands.has(e.value.commandId)){var t=e.value,n=e.value.commandId;if(t.response.status===b.ResponseCodes.HTTP_200_OK){E.debug("Command succeeded: ",t);var r=this.pendingCommands.get(n).resolve;this.pendingCommands.delete(n),r(t.response)}else{E.error("Command failed: ",t);var i=this.pendingCommands.get(n).reject;this.pendingCommands.delete(n),i(new w.SessionError(t.response.statusText,t.response.status))}}}},{key:"getSessionContext",value:function(){return this.sessionStreamPromise.then(function(e){return e.getContext()})}},{key:"getSessionLinks",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",{publicChannelsUrl:this.config.baseUrl+t.links.publicChannelsUrl,myChannelsUrl:this.config.baseUrl+t.links.myChannelsUrl,typingUrl:this.config.baseUrl+t.links.typingUrl,syncListUrl:this.config.baseUrl+t.links.syncListUrl,usersUrl:this.config.baseUrl+t.links.usersUrl,mediaServiceUrl:t.links.mediaServiceUrl});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getChannelsId",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",t.channels);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMyChannelsId",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",t.myChannels);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMaxUserInfosToSubscribe",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfo.promise;case 2:return t=e.sent,e.abrupt("return",this.config.userInfosToSubscribeOverride||t.userInfosToSubscribe||this.config.userInfosToSubscribeDefault);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getUsersData",value:function(){return this.sessionInfo.promise.then(function(e){return{user:e.userInfo,identity:e.identity}})}},{key:"getConsumptionReportInterval",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(){var t,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSessionContext();case 2:return t=e.sent,n=this.config.consumptionReportIntervalOverride||t.consumptionReportInterval||this.config.consumptionReportIntervalDefault,e.prev=4,e.abrupt("return",x.toSeconds(x.parse(n)));case 8:return e.prev=8,e.t0=e.catch(4),E.error("Failed to parse consumption report interval",n,"using default value",this.config.consumptionReportIntervalDefault),e.abrupt("return",x.toSeconds(x.parse(this.config.consumptionReportIntervalDefault)));case 12:case"end":return e.stop()}},e,this,[[4,8]])}));return e}()},{key:"getHttpCacheInterval",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(){var t,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSessionContext();case 2:return t=e.sent,n=this.config.httpCacheIntervalOverride||t.httpCacheInterval||this.config.httpCacheIntervalDefault,e.prev=4,e.abrupt("return",x.toSeconds(x.parse(n)));case 8:return e.prev=8,e.t0=e.catch(4),E.error("Failed to parse cache interval",n,"using default value",this.config.httpCacheIntervalDefault),e.abrupt("return",x.toSeconds(x.parse(this.config.httpCacheIntervalDefault)));case 12:case"end":return e.stop()}},e,this,[[4,8]])}));return e}()},{key:"identity",get:function(){return this.sessionInfo.current.identity}},{key:"reachabilityEnabled",get:function(){return this.currentContext.reachabilityEnabled}}]),e}();t.Session=P},function(e,t,n){"use strict";var r=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var a=function e(){(0,i.default)(this,e)};t.ResponseCodes=a,a.HTTP_200_OK=200,a.HTTP_400_BAD_REQUEST=400,a.HTTP_404_NOT_FOUND=404,a.ACCESS_FORBIDDEN_FOR_IDENTITY=54007,a.LIST_NOT_FOUND=54150},function(e,t,n){e.exports={default:n(710),__esModule:!0}},function(e,t,n){n(711),e.exports=n(8).Reflect.construct},function(e,t,n){var r=n(15),i=n(96),a=n(69),o=n(34),s=n(22),u=n(54),c=n(712),l=(n(17).Reflect||{}).construct,f=u(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),d=!u(function(){l(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){"use strict";var r=n(69),i=n(22),a=n(237),o=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),s=function(){var r=n.concat(o.call(arguments));return this instanceof s?u(t,r.length,r):a(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["weeks","years","months","days","hours","minutes","seconds"],i=t.pattern=new RegExp("P(?:(\\d+(?:[\\.,]\\d+)?W)|(\\d+(?:[\\.,]\\d+)?Y)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?D)?(?:T(\\d+(?:[\\.,]\\d+)?H)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?S)?)?)"),a=t.parse=function(e){return e.match(i).slice(1).reduce(function(e,t,n){return e[r[n]]=parseFloat(t)||0,e},{})},o=t.end=function(e,t){var n=t?t.getTime():Date.now(),r=new Date(n);return r.setFullYear(r.getFullYear()+e.years),r.setMonth(r.getMonth()+e.months),r.setDate(r.getDate()+e.days),r.setHours(r.getHours()+e.hours),r.setMinutes(r.getMinutes()+e.minutes),r.setMilliseconds(r.getMilliseconds()+1e3*e.seconds),r.setDate(r.getDate()+7*e.weeks),r},s=t.toSeconds=function(e,t){var n=t?t.getTime():Date.now(),r=new Date(n);return(o(e,r).getTime()-r.getTime())/1e3};t.default={end:o,toSeconds:s,pattern:i,parse:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(25),a=r(i),o=n(18),s=r(o),u=n(73),c=r(u),l=n(19),f=r(l),d=n(715),p=r(d),h=n(55),v=r(h),m=n(42),y=r(m),g=n(5),b=r(g),_=n(6),w=r(_),k=n(43),x=r(k),S=n(44),E=r(S);Object.defineProperty(t,"__esModule",{value:!0});var C=n(11),P=n(31),O=n(253);t.Channel=O.Channel;var T=n(279),A=n(45),M=P.Logger.scope("Channels"),I=function(e){function t(e){(0,b.default)(this,t);var n=(0,x.default)(this,(t.__proto__||(0,y.default)(t)).call(this));return n.services=e,n.channels=new v.default,n.thumbstones=new p.default,n.syncListFetched=!1,n.syncListRead=new T.Deferred,n}return(0,E.default)(t,e),(0,w.default)(t,[{key:"getMap",value:function(){var e=this;return this.services.session.getMyChannelsId().then(function(t){return e.services.syncClient.map({id:t,mode:"open_existing"})})}},{key:"addChannel",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(s.default.mark(function e(t){var n,r,i,a,o,u;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,null!==(n=void 0===t.attributes?{}:t.attributes)){e.next=4;break}throw new Error("Attributes can't be null");case 4:if(n.constructor===Object){e.next=6;break}throw new Error("Attributes must be a valid JSON object");case 6:return e.next=8,this.services.session.addCommand("createChannel",{friendlyName:t.friendlyName,uniqueName:t.uniqueName,type:t.isPrivate?"private":"public",attributes:(0,c.default)(n)});case 8:if(r=e.sent,i="channelSid"in r?r.channelSid:null,a="channel"in r?r.channel:null,!(o=this.channels.get(i))){e.next=16;break}return e.next=15,o._subscribe();case 15:return e.abrupt("return",o);case 16:return u=new O.Channel(this.services,{channel:a,entityName:null,uniqueName:null,attributes:null,createdBy:null,friendlyName:null,lastConsumedMessageIndex:null,type:t.isPrivate?"private":"public",dateCreated:null,dateUpdated:null},i),this.channels.set(u.sid,u),this.registerForEvents(u),e.next=21,u._subscribe();case 21:return this.emit("channelAdded",u),e.abrupt("return",u);case 23:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchChannels",value:function(){var e=this;this.getMap().then(function(){var t=(0,f.default)(s.default.mark(function t(n){var r,i,o;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.on("itemAdded",function(t){M.debug("itemAdded: "+t.item.key),e.upsertChannel("sync",t.item.key,t.item.value)}),n.on("itemRemoved",function(t){M.debug("itemRemoved: "+t.key);var n=t.key;e.syncListFetched||e.thumbstones.add(n);var r=e.channels.get(n);r&&("joined"!==r.status&&"invited"!==r.status||(r._setStatus("known","sync"),e.emit("channelLeft",r)),r.isPrivate&&(e.channels.delete(n),e.emit("channelRemoved",r),r.emit("removed",r)))}),n.on("itemUpdated",function(t){M.debug("itemUpdated: "+t.item.key),e.upsertChannel("sync",t.item.key,t.item.value)}),r=[],t.next=6,e.services.syncList.getPage();case 6:i=t.sent,o=i.items,o.forEach(function(t){r.push(e.upsertChannel("synclist",t.channel_sid,t))});case 9:if(!i.hasNextPage){t.next=16;break}return t.next=12,i.nextPage();case 12:i=t.sent,i.items.forEach(function(t){r.push(e.upsertChannel("synclist",t.channel_sid,t))}),t.next=9;break;case 16:return e.syncListRead.set(!0),t.abrupt("return",a.default.all(r));case 18:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).then(function(){e.syncListFetched=!0,e.thumbstones.clear(),M.debug("Channels list fetched")}).then(function(){return e}).catch(function(t){throw"disconnected"!=e.services.syncClient.connectionState&&M.error("Failed to get channels list",t),M.debug("ERROR: Failed to get channels list",t),t})}},{key:"_wrapPaginator",value:function(e,t){var n=this;return t(e.items).then(function(r){return{items:r,hasNextPage:e.hasNextPage,hasPrevPage:e.hasPrevPage,nextPage:function(){return e.nextPage().then(function(e){return n._wrapPaginator(e,t)})},prevPage:function(){return e.prevPage().then(function(e){return n._wrapPaginator(e,t)})}}})}},{key:"getChannels",value:function(e){var t=this;return this.getMap().then(function(t){return t.getItems(e)}).then(function(e){return t._wrapPaginator(e,function(e){return a.default.all(e.map(function(e){return t.upsertChannel("sync",e.key,e.value)}))})})}},{key:"getChannel",value:function(e){var t=this;return this.getMap().then(function(t){return t.getItems({key:e})}).then(function(e){return e.items.map(function(e){return t.upsertChannel("sync",e.key,e.value)})}).then(function(e){return e.length>0?e[0]:null})}},{key:"pushChannel",value:function(e){var t=e.sid,n={entityName:null,lastConsumedMessageIndex:e.lastConsumedMessageIndex,type:e.type,status:e.status,friendlyName:e.friendlyName,dateUpdated:e.dateUpdated,dateCreated:e.dateCreated,uniqueName:e.uniqueName,createdBy:e.createdBy,attributes:e.attributes,channel:e.channel,notificationLevel:e.notificationLevel,sid:t};return this.upsertChannel("chat",t,n)}},{key:"upsertChannel",value:function(e,t,n){var r=this;M.trace("upsertChannel(sid="+t+", data=",n);var i=this.channels.get(t);if(i){if(M.trace("upsertChannel: channel "+t+" is known and it's status is known from source "+i._statusSource()+" and update came from source "+e,i),void 0===i._statusSource()||e===i._statusSource()||"synclist"===e&&"sync"!==i._statusSource()||"sync"===e)if("joined"===n.status&&"joined"!==i.status){i._setStatus("joined",e);var a={};void 0!==n.notificationLevel&&(a.notificationLevel=n.notificationLevel),void 0!==n.lastConsumedMessageIndex&&(a.lastConsumedMessageIndex=n.lastConsumedMessageIndex),A.isDeepEqual(a,{})||i._update(a),i._subscribe().then(function(){r.emit("channelJoined",i)})}else if("invited"===n.status&&"invited"!==i.status){i._setStatus("invited",e);var o={};void 0!==n.notificationLevel&&(o.notificationLevel=n.notificationLevel),void 0!==n.lastConsumedMessageIndex&&(o.lastConsumedMessageIndex=n.lastConsumedMessageIndex),A.isDeepEqual(o,{})||i._update(o),i._subscribe().then(function(){r.emit("channelInvited",i)})}else"known"!==n.status||"invited"!==i.status&&"joined"!==i.status?"notParticipating"!==n.status&&"known"!==n.status||"private"!==n.type?i._update(n):i._subscribe():(i._setStatus("known",e),i._update(n),i._subscribe().then(function(){r.emit("channelLeft",i)}));else M.trace("upsertChannel: channel is known from sync and came from chat, ignoring",{sid:t,data:n.status,channel:i.status});return i._subscribe().then(function(){return i})}return"chat"!==e&&"synclist"!==e||!this.thumbstones.has(t)?(M.trace("upsertChannel: creating local channel object with sid "+t,n),i=new O.Channel(this.services,n,t),this.channels.set(t,i),i._subscribe().then(function(){return r.registerForEvents(i),r.emit("channelAdded",i),"joined"===n.status?(i._setStatus("joined",e),r.emit("channelJoined",i)):"invited"===n.status&&(i._setStatus("invited",e),r.emit("channelInvited",i)),i})):void M.trace("upsertChannel: channel is deleted and came again from chat, ignoring",t)}},{key:"onChannelRemoved",value:function(e){var t=this.channels.get(e);t&&(this.channels.delete(e),this.emit("channelRemoved",t))}},{key:"registerForEvents",value:function(e){var t=this;e.on("removed",function(){return t.onChannelRemoved(e.sid)}),e.on("updated",function(e){return t.emit("channelUpdated",e)}),e.on("memberJoined",this.emit.bind(this,"memberJoined")),e.on("memberLeft",this.emit.bind(this,"memberLeft")),e.on("memberUpdated",function(e){return t.emit("memberUpdated",e)}),e.on("messageAdded",this.emit.bind(this,"messageAdded")),e.on("messageUpdated",function(e){return t.emit("messageUpdated",e)}),e.on("messageRemoved",this.emit.bind(this,"messageRemoved")),e.on("typingStarted",this.emit.bind(this,"typingStarted")),e.on("typingEnded",this.emit.bind(this,"typingEnded"))}}]),t}(C.EventEmitter);t.Channels=I},function(e,t,n){e.exports={default:n(716),__esModule:!0}},function(e,t,n){n(123),n(72),n(85),n(717),n(718),n(719),n(720),e.exports=n(8).Set},function(e,t,n){"use strict";var r=n(254),i=n(173);e.exports=n(255)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(15);r(r.P+r.R,"Set",{toJSON:n(256)("Set")})},function(e,t,n){n(257)("Set")},function(e,t,n){n(258)("Set")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(18),a=r(i),o=n(19),s=r(o),u=n(55),c=r(u),l=n(42),f=r(l),d=n(5),p=r(d),h=n(6),v=r(h),m=n(43),y=r(m),g=n(44),b=r(g);Object.defineProperty(t,"__esModule",{value:!0});var _=n(11),w=n(249),k=n(722),x=function(e){function t(e){(0,p.default)(this,t);var n=(0,y.default)(this,(t.__proto__||(0,f.default)(t)).call(this));return n.services=e,n.fifoStack=[],n.fifoStackMaxLength=100,n.myself=new w.User(null,null,n.services),n.myself.on("updated",function(e){return n.emit("userUpdated",e)}),n.myself.on("userSubscribed",function(){return n.emit("userSubscribed",n.myself)}),n.myself.on("userUnsubscribed",function(){n.emit("userUnsubscribed",n.myself),n.myself._ensureFetched()}),n.services=e,n.subscribedUsers=new c.default,n.userDescriptorsPromise=n.services.session.getSessionLinks().then(function(e){return n.userDescriptors=new k.UserDescriptors({users:n,network:n.services.network},e.usersUrl),n.userDescriptors}),n.services.session.getMaxUserInfosToSubscribe().then(function(e){n.fifoStackMaxLength=e}),n.services.session.getUsersData().then(function(e){return n.myself.identity=e.identity,n.myself.entityName=e.user,n.myself._ensureFetched()}),n}return(0,b.default)(t,e),(0,v.default)(t,[{key:"handleUnsubscribeUser",value:function(e){this.subscribedUsers.has(e.identity)&&this.subscribedUsers.delete(e.identity);var t=-1;this.fifoStack.find(function(n,r){return n==e.identity&&(t=r,!0)})&&this.fifoStack.splice(t,1),this.emit("userUnsubscribed",e)}},{key:"handleSubscribeUser",value:function(e){this.subscribedUsers.has(e.identity)||(this.fifoStack.length>=this.fifoStackMaxLength&&this.subscribedUsers.get(this.fifoStack.shift()).unsubscribe(),this.fifoStack.push(e.identity),this.subscribedUsers.set(e.identity,e),this.emit("userSubscribed",e))}},{key:"getUser",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(t){var n,r,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getUsersData();case 2:return e.next=4,this.myself._ensureFetched();case 4:if(t!=this.myself.identity){e.next=6;break}return e.abrupt("return",this.myself);case 6:if(n=this.subscribedUsers.get(t)){e.next=19;break}if(o){e.next=13;break}return e.next=11,this.getUserDescriptor(t);case 11:r=e.sent,o=r._getDescriptor().sync_unique_name;case 13:return n=new w.User(t,o,this.services),n.on("updated",function(e){return i.emit("userUpdated",e)}),n.on("userSubscribed",function(){return i.handleSubscribeUser(n)}),n.on("userUnsubscribed",function(){return i.handleUnsubscribeUser(n)}),e.next=19,n._ensureFetched();case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"getUserDescriptor",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDescriptorsPromise;case 2:return e.abrupt("return",this.userDescriptors.getUserDescriptor(t));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getChannelUserDescriptors",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userDescriptorsPromise;case 2:return e.abrupt("return",this.userDescriptors.getChannelUserDescriptors(t));case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getSubscribedUsers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.session.getUsersData();case 2:return e.next=4,this.myself._ensureFetched();case 4:return t=[this.myself],this.subscribedUsers.forEach(function(e){return t.push(e)}),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(_.EventEmitter);t.Users=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(18),a=r(i),o=n(19),s=r(o),u=n(5),c=r(u),l=n(6),f=r(l);Object.defineProperty(t,"__esModule",{value:!0});var d=n(45),p=n(125),h=n(723),v=function(){function e(t,n){(0,c.default)(this,e),this.services=t,this.url=n}return(0,f.default)(e,[{key:"getUserDescriptor",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new d.UriBuilder(this.url).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",new h.UserDescriptor(this.services,r.body));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"getChannelUserDescriptors",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(t){var n,r,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new d.UriBuilder(this.url).arg("ChannelSid",t).arg("PageToken",o.pageToken).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",new p.RestPaginator(r.body.users.map(function(e){return new h.UserDescriptor(i.services,e)}),function(e){return i.getChannelUserDescriptors(t,{pageToken:e})},r.body.meta.prev_token,r.body.meta.next_token));case 5:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.UserDescriptors=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){try{return JSON.parse(e)}catch(e){l.warn("Failed to parse user attributes",e)}return{}}var a=n(5),o=r(a),s=n(6),u=r(s);Object.defineProperty(t,"__esModule",{value:!0});var c=n(31),l=c.Logger.scope("UserDescriptor"),f=function(){function e(t,n){(0,o.default)(this,e),this.services=t,this.descriptor=n,this.identity=n.identity,this.friendlyName=n.friendly_name,this.attributes=i(n.attributes),this.online=n.is_online,this.notifiable=n.is_notifiable}return(0,u.default)(e,[{key:"subscribe",value:function(){return this.services.users.getUser(this.identity,this.descriptor.sync_unique_name)}},{key:"_getDescriptor",value:function(){return this.descriptor}}]),e}();t.UserDescriptor=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(25),a=r(i),o=n(55),s=r(o),u=n(5),c=r(u),l=n(6),f=r(l);Object.defineProperty(t,"__esModule",{value:!0});var d=n(31),p=n(261),h=d.Logger.scope("TypingIndicator"),v=function(){function e(t,n,r){(0,c.default)(this,e),this.config=t,this.services=n,this.getChannel=r,this.serviceTypingTimeout=null,this.sentUpdates=new s.default}return(0,f.default)(e,[{key:"initialize",value:function(){var e=this;this.services.notificationClient.subscribe(p.NotificationTypes.TYPING_INDICATOR,"twilsock"),this.services.notificationClient.on("message",function(t,n){t===p.NotificationTypes.TYPING_INDICATOR&&e.handleRemoteTyping(n)})}},{key:"handleRemoteTyping",value:function(e){var t=this;h.trace("Got new typing indicator ",e),this.getChannel(e.channel_sid).then(function(n){n&&n.members.forEach(function(n){if(n.identity===e.identity){var r=t.config.typingIndicatorTimeoutOverride+1e3||1e3*e.typing_timeout;n._startTyping(r)}})}).catch(function(e){throw h.error(e),e})}},{key:"send",value:function(e){var t=this.sentUpdates.get(e);return t&&t>Date.now()-this.typingTimeout?a.default.resolve():(this.sentUpdates.set(e,Date.now()),this._send(e))}},{key:"_send",value:function(e){var t=this;h.trace("Sending typing indicator");var n=this.config.typingIndicatorUri,r={"Content-Type":"application/x-www-form-urlencoded"},i="ChannelSid="+e;return this.services.transport.post(n,r,i).then(function(e){e.body.hasOwnProperty("typing_timeout")&&(t.serviceTypingTimeout=1e3*e.body.typing_timeout)}).catch(function(e){throw h.error("Failed to send typing indicator:",e),e})}},{key:"typingTimeout",get:function(){return this.config.typingIndicatorTimeoutOverride||this.serviceTypingTimeout||this.config.typingIndicatorTimeoutDefault}}]),e}();t.TypingIndicator=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(25),a=r(i),o=n(55),s=r(o),u=n(6),c=r(u),l=n(5),f=r(l);Object.defineProperty(t,"__esModule",{value:!0});var d=n(278),p=function(){function e(t){(0,f.default)(this,e),this.services=t,this.consumptionHorizonRequests=new s.default,this.consumptionHorizonUpdateTimer=null}return(0,c.default)(e,[{key:"getReportInterval",value:function(){return this.services.session.getConsumptionReportInterval().then(function(e){return 1e3*e})}},{key:"delayedSendConsumptionHorizon",value:function(e){var t=this;null===this.consumptionHorizonUpdateTimer&&(this.sendConsumptionReport(!0),this.consumptionHorizonUpdateTimer=setTimeout(function(){t.sendConsumptionReport(!1)},e))}},{key:"sendConsumptionReport",value:function(e){var t=this,n=[],r=new s.default;this.consumptionHorizonRequests.forEach(function(e,t){n.push(e.entry),r.set(t,e.promises)}),n.length>0&&this.services.session.addCommand("consumptionReportV2",{report:n}).then(function(e){return t.processConsumptionReportResponse(e,r)}).catch(function(e){return t.processConsumptionReportError(e,r)}),e||(this.consumptionHorizonUpdateTimer=null),this.consumptionHorizonRequests.clear()}},{key:"processConsumptionReportResponse",value:function(e,t){e&&e.report&&Array.isArray(e.report)&&e.report.length>0&&e.report.forEach(function(e){var n=e;if(t.has(n.channelSid)){var r=null;void 0!==n.unreadMessagesCount&&null!=n.unreadMessagesCount&&(r=n.unreadMessagesCount),t.get(n.channelSid).forEach(function(e){return e.resolve(r)}),t.delete(n.channelSid)}}),this.processConsumptionReportError(new d.SessionError("Error while setting LastConsumedMessageIndex",null),t)}},{key:"processConsumptionReportError",value:function(e,t){t.forEach(function(t){return t.forEach(function(t){return t.reject(e)})})}},{key:"updateLastConsumedMessageIndexForChannel",value:function(e,t){var n=this;return new a.default(function(r,i){n.addPendingConsumptionHorizonRequest(e,{channelSid:e,messageIdx:t},{resolve:r,reject:i}),n.getReportInterval().then(function(e){return n.delayedSendConsumptionHorizon(e)})})}},{key:"advanceLastConsumedMessageIndexForChannel",value:function(e,t,n){var r=this,i=this.consumptionHorizonRequests.get(e);return new a.default(function(a,o){i&&i.entry?i.entry.messageIdx>=t?r.addPendingConsumptionHorizonRequest(e,i.entry,{resolve:a,reject:o}):r.addPendingConsumptionHorizonRequest(e,{channelSid:e,messageIdx:t},{resolve:a,reject:o}):null!==n&&t<n?r.addPendingConsumptionHorizonRequest(e,{channelSid:e,messageIdx:n},{resolve:a,reject:o}):r.addPendingConsumptionHorizonRequest(e,{channelSid:e,messageIdx:t},{resolve:a,reject:o}),r.getReportInterval().then(function(e){return r.delayedSendConsumptionHorizon(e)})})}},{key:"addPendingConsumptionHorizonRequest",value:function(e,t,n){if(this.consumptionHorizonRequests.has(e)){var r=this.consumptionHorizonRequests.get(e);r.entry=t,r.promises.push(n)}else this.consumptionHorizonRequests.set(e,{entry:t,promises:[n]})}}]),e}();t.ConsumptionHorizon=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(18),a=r(i),o=n(19),s=r(o),u=n(5),c=r(u),l=n(6),f=r(l);Object.defineProperty(t,"__esModule",{value:!0});var d=n(45),p=n(125),h=n(252),v=function(){function e(t,n,r){(0,c.default)(this,e),this.client=t,this.services=n,this.url=r}return(0,f.default)(e,[{key:"getChannels",value:function(){function e(){return t.apply(this,arguments)}var t=(0,s.default)(a.default.mark(function e(){var t,n,r=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.UriBuilder(this.url).arg("PageToken",i.pageToken).build(),e.next=3,this.services.network.get(t);case 3:return n=e.sent,e.abrupt("return",new p.RestPaginator(n.body.channels.map(function(e){return new h.ChannelDescriptor(r.client,e)}),function(e){return r.getChannels({pageToken:e})},n.body.meta.previous_token,n.body.meta.next_token));case 5:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.UserChannels=v},function(e,t,n){"use strict";var r=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){(0,i.default)(this,e),this.title=t.title||null,this.body=t.body||null,this.sound=t.sound||null,this.badge=t.badge||null,this.action=t.action||null,this.type=t.type||null,this.data=t.data||{}};t.PushNotification=a},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"widget-thread-view d-flex flex-column justify-content-between"},[n("div",{ref:"messageScrollArea",staticClass:"widget-messages"},[e.initializingClient?n("div",{staticClass:"widget-connecting-message text-muted d-flex justify-content-center"},[n("span",{staticClass:"mr-2"},[e._v("Connecting")]),e._v(" "),n("loading-indicator",{attrs:{size:"18"}})],1):e._e(),e._v(" "),n("message-list",{attrs:{messages:e.messages,"guest-identity":e.guestIdentity},on:{"playbook-step-done":e.onPlaybookStepDone,"user-typing":function(t){return e.channel.typing()}}}),e._v(" "),Object.keys(e.membersTyping).length?n("typing-indicator",{attrs:{"members-typing":e.membersTyping}}):e._e(),e._v(" "),n("div",{ref:"scrollBottomAnchor"})],1),e._v(" "),e.connectionErrorMode?n("connection-error-message",{attrs:{"in-offline-only-mode":!1}}):e._e(),e._v(" "),e.initializingClient?e._e():n("div",{staticClass:"widget-sendbar mb-1"},[n("transition",{attrs:{name:"component-fade",mode:"out-in"}},[e.showSendBar?n("div",{key:"sendbar",staticClass:"widget-sendbar-input-group"},[n("autosize-textarea",{attrs:{placeholder:e.placeHolder,"extra-style":"padding: 10px 75px 10px 16px !important"},on:{keydown:e.onSendbarKeydown,resized:function(t){return e.onTextareaResize()}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._v(" "),n("div",{staticClass:"widget-sendbar-action-buttons"},[n("div",{staticClass:"d-flex align-items-center justify-content-end"},[e.offlineHoursMode?e._e():n("button",{staticClass:"widget-sendbar-button btn-brand btn-send m-0 mr-2 d-flex align-items-center justify-content-center border-0",attrs:{disabled:e.uploadButtonDisabled},on:{click:e.onImageUploadClick}},[n("svgicon",{attrs:{name:"photo",width:"18",height:"18"}})],1),e._v(" "),n("button",{staticClass:"widget-sendbar-button btn-brand btn-send m-0 d-flex align-items-center justify-content-center border-0",attrs:{disabled:e.sendButtonDisabled},on:{click:function(t){return e.sendMessage()}}},[e.busy?n("loading-indicator",{staticClass:"m-auto d-flex",attrs:{size:"20",color:"white"}}):n("svgicon",{attrs:{name:"arrow",width:"30",height:"30"}})],1)])])],1):e.showOffLineMessage?n("offline-message-sent-message",{key:"offline-message",attrs:{message:e.offlineMessageText}}):e.playbookInstanceId&&!e.isNeedHelpDisabledDuringPlaybooks?n("div",{key:"need-help",staticClass:"needs-help text-center"},[n("a",{staticClass:"d-block brand-link",attrs:{href:"#",role:"link"},on:{click:function(t){return t.preventDefault(),e.askForPlaybookHelp(t)}}},[e._v("\n          Need help?\n        ")])]):e._e()],1)],1)],1)},staticRenderFns:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(730);Object.defineProperty(t,"AutosizeTextArea",{enumerable:!0,get:function(){return r(i).default}});var a=n(735);Object.defineProperty(t,"ConnectionErrorMessage",{enumerable:!0,get:function(){return r(a).default}});var o=n(739);Object.defineProperty(t,"FadeInElement",{enumerable:!0,get:function(){return r(o).default}});var s=n(743);Object.defineProperty(t,"FadeInImage",{enumerable:!0,get:function(){return r(s).default}});var u=n(747);Object.defineProperty(t,"LoadingIndicator",{enumerable:!0,get:function(){return r(u).default}});var c=n(751);Object.defineProperty(t,"ProactiveMessagePrompt",{enumerable:!0,get:function(){return r(c).default}});var l=n(755);Object.defineProperty(t,"Avatar",{enumerable:!0,get:function(){return r(l).default}});var f=n(759);Object.defineProperty(t,"TiledAvatars",{enumerable:!0,get:function(){return r(f).default}});var d=n(763);Object.defineProperty(t,"OfflineMessageSentMessage",{enumerable:!0,get:function(){return r(d).default}});var p=n(767);Object.defineProperty(t,"TypingEllipsis",{enumerable:!0,get:function(){return r(p).default}});var h=n(771);Object.defineProperty(t,"TypingIndicator",{enumerable:!0,get:function(){return r(h).default}});var v=n(774);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return r(v).default}});var m=n(778);Object.defineProperty(t,"MessageList",{enumerable:!0,get:function(){return r(m).default}});var y=n(781);Object.defineProperty(t,"PlaystepMessage",{enumerable:!0,get:function(){return r(y).default}});var g=n(785);Object.defineProperty(t,"SystemMessage",{enumerable:!0,get:function(){return r(g).default}});var b=n(788);Object.defineProperty(t,"UserMessage",{enumerable:!0,get:function(){return r(b).default}});var _=n(791);Object.defineProperty(t,"DateTimeQuestionPlaystep",{enumerable:!0,get:function(){return r(_).default}});var w=n(796);Object.defineProperty(t,"MessagePlaystep",{enumerable:!0,get:function(){return r(w).default}});var k=n(799);Object.defineProperty(t,"MultipleChoicePlaystep",{enumerable:!0,get:function(){return r(k).default}});var x=n(802);Object.defineProperty(t,"TextQuestionPlaystep",{enumerable:!0,get:function(){return r(x).default}});var S=n(805);Object.defineProperty(t,"TimePicker",{enumerable:!0,get:function(){return r(S).default}})},function(e,t,n){n(731);var r=n(9)(n(732),n(734),"data-v-f0c7d7b4",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(733),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={name:"autosize-textarea",props:{value:{type:String,required:!0},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},extraStyle:{type:String,default:""}},watch:{value:function(e,t){var n=this;this.$nextTick(function(){return i.default.update(n.$refs.sendBarTextarea)})}},mounted:function(){(0,i.default)(this.$refs.sendBarTextarea)},beforeDestroy:function(){i.default.destroy(this.$refs.sendBarTextarea)}}},function(e,t,n){var r,i,a;/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(n,o){i=[e,t],r=o,void 0!==(a="function"==typeof r?r.apply(t,i):r)&&(e.exports=a)}(0,function(e,t){"use strict";function n(e){function t(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function n(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function r(){if(0!==e.scrollHeight){var t=n(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+s+"px",u=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),r&&(document.documentElement.scrollTop=r)}}function i(){r();var n=Math.round(parseFloat(e.style.height)),i=window.getComputedStyle(e,null),a="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):e.offsetHeight;if(a<n?"hidden"===i.overflowY&&(t("scroll"),r(),a="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==i.overflowY&&(t("hidden"),r(),a="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),c!==a){c=a;var s=o("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!a.has(e)){var s=null,u=null,c=null,l=function(){e.clientWidth!==u&&i()},f=function(t){window.removeEventListener("resize",l,!1),e.removeEventListener("input",i,!1),e.removeEventListener("keyup",i,!1),e.removeEventListener("autosize:destroy",f,!1),e.removeEventListener("autosize:update",i,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),a.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",f,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",i,!1),window.addEventListener("resize",l,!1),e.addEventListener("input",i,!1),e.addEventListener("autosize:update",i,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",a.set(e,{destroy:f,update:i}),function(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),s="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(s)&&(s=0),i()}()}}function r(e){var t=a.get(e);t&&t.destroy()}function i(e){var t=a.get(e);t&&t.update()}var a="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,r){-1===e.indexOf(n)&&(e.push(n),t.push(r))},delete:function(n){var r=e.indexOf(n);r>-1&&(e.splice(r,1),t.splice(r,1))}}}(),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(s=function(e){return e},s.destroy=function(e){return e},s.update=function(e){return e}):(s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e)}),e},s.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e}),t.default=s,e.exports=t.default})},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"mb-0"},[n("input",{staticStyle:{display:"none"}}),e._v(" "),n("textarea",{ref:"sendBarTextarea",staticClass:"widget-textarea form-control",style:e.extraStyle,attrs:{maxlength:"512",rows:"1",name:"ben_is_a_super_smart_guy",placeholder:e.placeholder,disabled:e.disabled},domProps:{value:e.value},on:{keydown:function(t){return e.$emit("keydown",t)},"autosize:resized":function(t){return e.$emit("resized",t)},input:function(t){return e.$emit("input",t.target.value)},focus:function(t){e.focused=!0},blur:function(t){e.focused=!1}}})])},staticRenderFns:[]}},function(e,t,n){n(736);var r=n(9)(n(737),n(738),"data-v-6ea2ee0e",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"connection-error-message",props:{inOfflineOnlyMode:{type:Boolean,required:!1,default:!1}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"widget-connection-error-bar d-flex justify-content-center align-items-center"},[n("p",{staticClass:"error-text m-0 d-flex align-items-center"},[n("svgicon",{staticClass:"mr-2",attrs:{width:"16px",height:"16px",name:"cloud-offline-o"}}),e._v(" "),e.inOfflineOnlyMode?[e._v("\n      You're offline. Please reload the page\n    ")]:[e._v("\n      You're offline — attempting to reconnect\n    ")],e._v(" "),e.inOfflineOnlyMode?e._e():n("loading-indicator",{staticClass:"ml-1",attrs:{color:"rgba(0, 18, 26, 0.41)",size:"16"}})],2)])},staticRenderFns:[]}},function(e,t,n){n(740);var r=n(9)(n(741),n(742),"data-v-00c6d98f",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fade-in-element"}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("transition",{attrs:{name:"fade"}},[e._t("default")],2)},staticRenderFns:[]}},function(e,t,n){n(744);var r=n(9)(n(745),n(746),"data-v-cea941a4",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fade-in-image",props:{src:{type:String,required:!0}},data:function(){return{loaded:!1}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fade-in-element",[n("img",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],attrs:{src:e.src},on:{load:function(t){e.loaded=!0}}})])},staticRenderFns:[]}},function(e,t,n){n(748);var r=n(9)(n(749),n(750),"data-v-3956fe4f",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"loading-indicator",props:["color","size"],computed:{loaderStrokeStyle:function(){return this.color?{stroke:this.color}:{}},loaderSizeStyle:function(){return this.size?{height:this.size+"px",width:this.size+"px"}:{}}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(2)},staticRenderFns:[function(){var e=this,t=e.$createElement;return(e._self._c||t)("circle",{staticClass:"smith-loader-circular-path",attrs:{cx:"20",cy:"20",r:"15",fill:"none","stroke-width":"3","stroke-miterlimit":"10"}})},function(){var e=this,t=e.$createElement;return(e._self._c||t)("svg",{staticClass:"smith-loader-circular-svg",style:e.loaderStrokeStyle,attrs:{viewBox:"0 0 40 40"}},[e._m(0)])},function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"smith-loader",style:e.loaderSizeStyle},[e._m(1)])}]}},function(e,t,n){n(752);var r=n(9)(n(753),n(754),"data-v-28c02bb4",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(71);t.default={name:"proactive-message-prompt",computed:r({},(0,i.mapState)(["isOfflineHours","widgetGreetingMessage","widgetLogoUrl","widgetServiceName"]),(0,i.mapGetters)(["agentAvatars"]),{avatars:function(){return this.isOfflineHours?this.offlineHoursAvatar:this.agentAvatars},offlineHoursAvatar:function(){return[{id:1,url:this.widgetLogoUrl,name:this.widgetServiceName}]},message:function(){if(!this.widgetGreetingMessage)return"";var e=this.widgetGreetingMessage;return e.length>512?e.slice(0,512)+" ...":e}})}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"proactive-container d-flex align-items-center justify-content-end"},[n("div",{staticClass:"proactive-avatar-container position-relative"},[n("div",{staticClass:"d-flex align-items-center mb-1"},[n("tiled-avatars",{attrs:{avatars:e.avatars}})],1),e._v(" "),n("div",{staticClass:"proactive-avatar-status-badge mx-auto"},[e._v("\n      online\n    ")])]),e._v(" "),n("div",{staticClass:"proactive-message"},[n("div",{staticClass:"proactive-message-body",domProps:{innerHTML:e._f("linkify")(e.message)}})])])},staticRenderFns:[]}},function(e,t,n){n(756);var r=n(9)(n(757),n(758),"data-v-2d37d175",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"avatar",data:function(){return{loaded:!1}},props:{name:{type:String,required:!0,validator:function(e){return!!e.length}},url:{type:String,required:!1,default:null},size:{type:Number,required:!1,default:34}},computed:{initial:function(){return this.name[0]},style:function(){var e=this.size+"px";return{height:e,width:e,"min-width":e,"line-height":e,"font-size":Math.round(this.size/2)+"px","background-color":this.loaded?"transparent !important":""}}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"avatar",style:e.style},[e._v("\n\n  "+e._s(e.initial)+"\n\n  "),e.url?n("img",{staticClass:"img",attrs:{src:e.url},on:{load:function(t){e.loaded=!0}}}):e._e()])},staticRenderFns:[]}},function(e,t,n){n(760);var r=n(9)(n(761),n(762),"data-v-3826e500",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"tiled-avatars",props:{avatars:{type:Array,required:!0,validator:function(e){return!!e.length&&e.length<=3}}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tiled-avatars d-flex align-items-center"},e._l(e.avatars,function(e){return n("avatar",{key:e.id,staticClass:"tiled-avatar",attrs:{url:e.url,name:e.name,size:48}})}),1)},staticRenderFns:[]}},function(e,t,n){n(764);var r=n(9)(n(765),n(766),"data-v-33f30e9f",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"offline-message-sent-message",props:{message:{type:String,required:!1,default:"Thanks, your message was sent!"}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"offline-send-verification-bar d-flex justify-content-center align-items-center mb-2"},[n("svgicon",{attrs:{name:"check-o",width:"15px",height:"15px"}}),e._v(" "),n("div",{staticClass:"message-text"},[e._v(e._s(e.message))])],1)},staticRenderFns:[]}},function(e,t,n){n(768);var r=n(9)(n(769),n(770),"data-v-4ebb5004",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"typing-ellipsis"}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",{staticClass:"dot first"}),e._v(" "),n("span",{staticClass:"dot second"}),e._v(" "),n("span",{staticClass:"dot third"})])}]}},function(e,t,n){var r=n(9)(n(772),n(773),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"typing-indicator",props:{membersTyping:{type:Object,required:!0}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"typing-indicators mb-3"},e._l(e.membersTyping,function(t){return n("div",{key:t.id,staticClass:"d-flex align-items-center"},[n("avatar",{staticClass:"align-self-end mr-2",attrs:{name:t.name,url:t.avatar,size:34}}),e._v(" "),n("div",{staticClass:"message-bubble incoming mb-0"},[n("typing-ellipsis")],1)],1)}),0)},staticRenderFns:[]}},function(e,t,n){n(775);var r=n(9)(n(776),n(777),null,null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),i=[r.CONVERSATION_TRANSLATION_ENABLED,r.CONVERSATION_TRANSLATION_DISABLED];t.default={name:"message",props:{message:{type:Object,required:!0},now:{required:!0},guestIdentity:{type:String,required:!0}},computed:{attributes:function(){return this.message.attributes},isPlayBookMessage:function(){return!!this.attributes.step},isSystemMessage:function(){return!!this.attributes.is_event},isUserMessage:function(){return!(this.isSystemMessage||this.isPlayBookMessage)},component:function(){if(this.isPlayBookMessage)return"playstep-message";if(this.isSystemMessage){return i.includes(this.attributes.type)?"system-message":null}if(this.isUserMessage){return!!this.attributes.question_message_sid?null:"user-message"}}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex"},[n(e.component,e._g(e._b({tag:"component"},"component",e.$props,!1),e.$listeners))],1)},staticRenderFns:[]}},function(e,t,n){var r=n(9)(n(779),n(780),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30);t.default={name:"message-list",props:{messages:{type:Array,required:!1,default:function(){return[]}},guestIdentity:{type:Object,required:!0}},data:function(){return{now:new Date,hourBoundary:new Date,interval:null}},methods:{getNowPropValue:function(e){return new Date(e.timestamp)>this.hourBoundary&&this.now},updateTimestamps:function(){this.now=new Date,this.hourBoundary.setHours(this.now.getHours()-2)}},mounted:function(){this.interval=setInterval(this.updateTimestamps,r.MESSAGE_TIMESTAMP_POLLING),this.updateTimestamps()},destroyed:function(){clearInterval(this.interval)}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.messages,function(t){return n("message",e._g({key:t.sid,attrs:{message:t,now:e.getNowPropValue(t),"guest-identity":e.guestIdentity.id}},e.$listeners))}),1)},staticRenderFns:[]}},function(e,t,n){n(782);var r=n(9)(n(783),n(784),null,null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(71),a=n(179),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(30);t.default={name:"playstep-message",props:{message:{type:Object,required:!0,validate:function(e){return e&&!!e.step}},now:{required:!0}},computed:r({},(0,i.mapState)({logoUrl:"widgetLogoUrl",serviceName:"widgetServiceName"}),{attributes:function(){return this.message.attributes},step:function(){return this.attributes.step},stepType:function(){return this.step.step_type},answerType:function(){return this.step.answer_type},isMessage:function(){return this.stepType===s.STEPTYPE_MESSAGE},isTextQuestion:function(){return this.stepType===s.STEPTYPE_QUESTION&&[s.ANSWERTYPE_FREETEXT,s.ANSWERTYPE_PHONE,s.ANSWERTYPE_EMAIL,s.ANSWERTYPE_WEBSITE].includes(this.answerType)},isTimeQuestion:function(){return this.stepType===s.STEPTYPE_QUESTION&&[s.ANSWERTYPE_TIME,s.ANSWERTYPE_DATE,s.ANSWERTYPE_DATETIME].includes(this.answerType)},isMultipleChoice:function(){return this.stepType===s.STEPTYPE_CHOICE},playstepComponent:function(){return this.isMessage?"message-playstep":this.isTextQuestion?"text-question-playstep":this.isTimeQuestion?"datetime-question-playstep":this.isMultipleChoice?"multiple-choice-playstep":void console.info("SmithChat:WidgetPlayStep.playstepComponent: Unrecognized playstep type")},relativeTimestamp:function(){return this.now?(0,o.default)(this.message.timestamp).fromNow():(0,o.default)(this.message.timestamp).format("MMM Do, h:mma")}}),methods:{onStepAnswered:function(e){var t=e.value,n=e.skipped;this.$emit("playbook-step-done",{message:this.message,value:t,skipped:n})}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message message-playstep"},[n("div",{staticClass:"d-flex"},[n("avatar",{staticClass:"align-self-end mb-4 mr-2",attrs:{name:e.serviceName,url:e.logoUrl,size:34}}),e._v(" "),n("div",{staticClass:"w-100"},[n(e.playstepComponent,e._g({key:e.message.sid,tag:"component",attrs:{step:e.attributes.step,"step-value":e.attributes.step_value,"step-completed":e.attributes.completed},on:{answered:e.onStepAnswered,"user-typing":function(t){return e.$emit("user-typing")}}},e.$listeners)),e._v(" "),n("div",{staticClass:"message-date-time"},[e._v(e._s(e.serviceName)+" • "),n("time",{attrs:{datetime:e.message.time_created}},[e._v(e._s(e.relativeTimestamp))])])],1)],1)])},staticRenderFns:[]}},function(e,t,n){var r=n(9)(n(786),n(787),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(179),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(30);t.default={name:"system-message",props:{message:{type:Object,required:!0},now:{required:!0}},computed:{messageContent:function(){var e=this.message.attributes.type;return e===a.CONVERSATION_TRANSLATION_ENABLED?"Esta conversación está siendo traducida automáticamente.":e===a.CONVERSATION_TRANSLATION_DISABLED?"Esta conversación ya no está siendo traducida automáticamente.":void 0},timestamp:function(){return this.now?(0,i.default)(this.message.timestamp).fromNow():(0,i.default)(this.message.timestamp).format("MMM Do, h:mma")}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message message-system text-muted"},[e._v("\n  "+e._s(e.messageContent)+" • "),n("time",{attrs:{datetime:e.message.time_created}},[e._v(e._s(e.timestamp))])])},staticRenderFns:[]}},function(e,t,n){var r=n(9)(n(789),n(790),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(179),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(71),s=n(30);t.default={name:"user-message",props:{message:{type:Object,required:!0},now:{required:!0},guestIdentity:{type:String,required:!0}},data:function(){return{showOriginalMessage:!1}},computed:r({},(0,o.mapState)({logoUrl:"widgetLogoUrl",serviceName:"widgetServiceName"}),{attributes:function(){return this.message.attributes},isSmithMessage:function(){return this.message.author!==this.guestIdentity},isBotMessage:function(){return"bot"===this.attributes.identity.name},isGuestMessage:function(){return this.message.author===this.guestIdentity},isImageMessage:function(){return this.attributes.media_type===s.MESSAGE_MEDIA_TYPE_IMAGE},isTextMessage:function(){return!this.isImageMessage},authorIdentity:function(){return this.message.attributes.identity},authorName:function(){return this.isBotMessage?this.serviceName:this.attributes.identity.first_name},authorAvatarUrl:function(){return this.isBotMessage?this.logoUrl||"":this.attributes.identity.avatar||""},authorFallbackIcon:function(){return this.isBotMessage?"bot":"account"},directionClass:function(){return this.isSmithMessage?"incoming":"outgoing"},typeClass:function(){return this.isImageMessage?"image-message":"text-message"},messageClasses:function(){return[this.directionClass,this.typeClass]},messageText:function(){return this.hasTranslation?this.attributes.translation:this.message.body},imagePreviewUrl:function(){return this.message.body.replace("filestackcontent.com/","filestackcontent.com/resize=height:400/rotate=deg:exif/")},hasTranslation:function(){return this.isSmithMessage&&this.attributes.translation&&""!==this.attributes.translation},translationToggleText:function(){return this.showOriginalMessage?"Hide original":"Show original (English)"},timestamp:function(){return this.now?(0,a.default)(this.message.timestamp).fromNow():(0,a.default)(this.message.timestamp).format("MMM Do, h:mma")}})}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"message message-user d-flex",class:e.messageClasses},[e.isSmithMessage?n("avatar",{staticClass:"align-self-end mb-4 mr-2",attrs:{name:e.authorName,url:e.authorAvatarUrl,size:34}}):e._e(),e._v(" "),n("div",{staticClass:"message-content-wrapper"},[n("div",{staticClass:"message-bubble"},[e.isTextMessage?[e._m(0),e._v(" "),e.hasTranslation&&e.showOriginalMessage?e._m(1):e._e()]:n("div",{staticClass:"message-image-content"},[n("a",{staticClass:"d-block",attrs:{href:e.message.body,target:"_blank",rel:"noopener noreferrer"}},[n("img",{staticClass:"d-block",attrs:{src:e.imagePreviewUrl}})])])],2),e._v(" "),n("div",{staticClass:"message-date-time"},[e.isSmithMessage?[e._v("\n        "+e._s(e.authorName)+" •\n      ")]:e._e(),e._v(" "),n("time",{attrs:{datetime:e.message.timestamp.toISOString()}},[e._v("\n        "+e._s(e.timestamp)+"\n      ")]),e._v(" "),e.hasTranslation?[n("span",{staticClass:"mx-1"},[e._v("•")]),e._v(" "),n("a",{staticClass:"translation-visibility-link",attrs:{href:"#"},on:{click:function(t){e.showOriginalMessage=!e.showOriginalMessage}}},[e._v("\n          "+e._s(e.translationToggleText)+"\n        ")])]:e._e()],2)])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"message-text-content",domProps:{innerHTML:e._f("linkify")(e.messageText)}})},function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"message-text-content message-text-translation",domProps:{innerHTML:e._f("linkify")(e.message.body)}})}]}},function(e,t,n){n(792);var r=n(9)(n(793),n(795),null,null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(794),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(118);t.default={name:"datetime-question-playstep",mixins:[a.PlaystepStateMixin],components:{Datepicker:i.default},props:{step:{type:Object,required:!0},stepValue:{type:String|Number,required:!1},stepCompleted:{type:Boolean,required:!0}},data:function(){var e=this.stepValue||this.step.value||void 0,t=!isNaN(new Date(e).getTime()),n=void 0,r=void 0;return this.stepCompleted&&!this.stepValue?(n=null,r=null):this.stepCompleted&&t?(n=new Date(e),r=new Date(e)):(n=new Date,r=new Date(null),r.setHours(12,0)),{form:{date:n,time:r},submitted:!!this.stepCompleted}},computed:{isDisabled:function(){return this.submitted||this.isAnswered||this.isSkipped},isUpdating:function(){return this.submitted&&!(this.isAnswered||this.isSkipped)},hasAnswer:function(){return!!this.isValid},hasValidTime:function(){return!!this.form.time&&!isNaN(this.form.time.getTime())},hasValidDate:function(){return!!this.form.date&&!isNaN(this.form.date.getTime())},hasValidDateTime:function(){return this.hasValidTime&&this.hasValidDate},isValid:function(){var e=!1;return this.stepCompleted?e=!0:this.isTimeAnswer?e=this.hasValidTime:this.isDateAnswer?e=this.hasValidDate:this.isDatetimeAnswer&&(e=this.hasValidDateTime),e},validationError:function(){var e="";return this.isValid?e="":this.isTimeAnswer?e="Please enter a valid time (eg. 12:30PM)":this.isDateAnswer?e="Please choose a date":this.isDatetimeAnswer&&(e=!this.hasValidDate&&this.hasValidTime?"Please choose a date.":this.hasValidDate||this.hasValidTime?this.hasValidTime?e:"Please enter a valid time (eg. 12:30PM).":"Please choose a date and enter a valid time (eg. 12:30PM)."),e},toISOString:function(){var e=this.form,t=e.time,n=e.date,r=null;return this.isTimeAnswer?r=t:this.isDateAnswer?r=n:this.isDatetimeAnswer&&(r=new Date(n),r.setHours(t.getHours(),t.getMinutes())),r.toISOString()}},methods:{submitSkip:function(){this.submit("Skipped",!0),this.form={date:null,time:null}},submitAnswer:function(){this.isValid&&this.submit(this.toISOString,!1)},submit:function(e,t){this.$emit("answered",{value:e,skipped:t}),this.submitted=!0}}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function c(e,t,n,r,i,a,o,s,u,c){"boolean"!=typeof o&&(u=s,s=o,o=!1);var l="function"==typeof n?n.options:n;e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),r&&(l._scopeId=r);var f;if(a?(f=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=f):t&&(f=o?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),f)if(l.functional){var d=l.render;l.render=function(e,t){return f.call(t),d(e,t)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,f):[f]}return n}function l(e){return function(e,t){return f(e,t)}}function f(e,t){var n=U?t.media||"default":e,r=B[n]||(B[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);var i=t.source;if(t.map&&(i+="\n/*# sourceURL="+t.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),$.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(i),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var a=r.ids.size-1,o=document.createTextNode(i),s=r.element.childNodes;s[a]&&r.element.removeChild(s[a]),s.length?r.element.insertBefore(o,s[a]):r.element.appendChild(o)}}}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(t,n,r,a){i(this,e),this.language=t,this.months=n,this.monthsAbbr=r,this.days=a,this.rtl=!1,this.ymd=!1,this.yearSuffix=""}return o(e,[{key:"language",get:function(){return this._language},set:function(e){if("string"!=typeof e)throw new TypeError("Language must be a string");this._language=e}},{key:"months",get:function(){return this._months},set:function(e){if(12!==e.length)throw new RangeError("There must be 12 months for ".concat(this.language," language"));this._months=e}},{key:"monthsAbbr",get:function(){return this._monthsAbbr},set:function(e){if(12!==e.length)throw new RangeError("There must be 12 abbreviated months for ".concat(this.language," language"));this._monthsAbbr=e}},{key:"days",get:function(){return this._days},set:function(e){if(7!==e.length)throw new RangeError("There must be 7 days for ".concat(this.language," language"));this._days=e}}]),e}(),p=new d("English",["January","February","March","April","May","June","July","August","September","October","November","December"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),h={useUtc:!1,getFullYear:function(e){return this.useUtc?e.getUTCFullYear():e.getFullYear()},getMonth:function(e){return this.useUtc?e.getUTCMonth():e.getMonth()},getDate:function(e){return this.useUtc?e.getUTCDate():e.getDate()},getDay:function(e){return this.useUtc?e.getUTCDay():e.getDay()},getHours:function(e){return this.useUtc?e.getUTCHours():e.getHours()},getMinutes:function(e){return this.useUtc?e.getUTCMinutes():e.getMinutes()},setFullYear:function(e,t,n){return this.useUtc?e.setUTCFullYear(t):e.setFullYear(t)},setMonth:function(e,t,n){return this.useUtc?e.setUTCMonth(t):e.setMonth(t)},setDate:function(e,t,n){return this.useUtc?e.setUTCDate(t):e.setDate(t)},compareDates:function(e,t){var n=new Date(e.getTime()),r=new Date(t.getTime());return this.useUtc?(n.setUTCHours(0,0,0,0),r.setUTCHours(0,0,0,0)):(n.setHours(0,0,0,0),r.setHours(0,0,0,0)),n.getTime()===r.getTime()},isValidDate:function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},getDayNameAbbr:function(e,t){if("object"!==r(e))throw TypeError("Invalid Type");return t[this.getDay(e)]},getMonthName:function(e,t){if(!t)throw Error("missing 2nd parameter Months array");if("object"===r(e))return t[this.getMonth(e)];if("number"==typeof e)return t[e];throw TypeError("Invalid type")},getMonthNameAbbr:function(e,t){if(!t)throw Error("missing 2nd paramter Months array");if("object"===r(e))return t[this.getMonth(e)];if("number"==typeof e)return t[e];throw TypeError("Invalid type")},daysInMonth:function(e,t){return/8|3|5|10/.test(t)?30:1===t?(e%4||!(e%100))&&e%400?28:29:31},getNthSuffix:function(e){switch(e){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},formatDate:function(e,t,n){n=n||p;var r=this.getFullYear(e),i=this.getMonth(e)+1,a=this.getDate(e);return t.replace(/dd/,("0"+a).slice(-2)).replace(/d/,a).replace(/yyyy/,r).replace(/yy/,String(r).slice(2)).replace(/MMMM/,this.getMonthName(this.getMonth(e),n.months)).replace(/MMM/,this.getMonthNameAbbr(this.getMonth(e),n.monthsAbbr)).replace(/MM/,("0"+i).slice(-2)).replace(/M(?!a|ä|e)/,i).replace(/su/,this.getNthSuffix(this.getDate(e))).replace(/D(?!e|é|i)/,this.getDayNameAbbr(e,n.days))},createDateArray:function(e,t){for(var n=[];e<=t;)n.push(new Date(e)),e=this.setDate(new Date(e),this.getDate(new Date(e))+1);return n},validateDateInput:function(e){return null===e||e instanceof Date||"string"==typeof e||"number"==typeof e}},v=function(e){return u({},h,{useUtc:e})},m=u({},h),y={props:{selectedDate:Date,resetTypedDate:[Date],format:[String,Function],translation:Object,inline:Boolean,id:String,name:String,refName:String,openDate:Date,placeholder:String,inputClass:[String,Object,Array],clearButton:Boolean,clearButtonIcon:String,calendarButton:Boolean,calendarButtonIcon:String,calendarButtonIconContent:String,disabled:Boolean,required:Boolean,typeable:Boolean,bootstrapStyling:Boolean,useUtc:Boolean},data:function(){return{input:null,typedDate:!1,utils:v(this.useUtc)}},computed:{formattedValue:function(){return this.selectedDate?this.typedDate?this.typedDate:"function"==typeof this.format?this.format(this.selectedDate):this.utils.formatDate(new Date(this.selectedDate),this.format,this.translation):null},computedInputClass:function(){return this.bootstrapStyling?"string"==typeof this.inputClass?[this.inputClass,"form-control"].join(" "):u({"form-control":!0},this.inputClass):this.inputClass}},watch:{resetTypedDate:function(){this.typedDate=!1}},methods:{showCalendar:function(){this.$emit("showCalendar")},parseTypedDate:function(e){if([27,13].includes(e.keyCode)&&this.input.blur(),this.typeable){var t=Date.parse(this.input.value);isNaN(t)||(this.typedDate=this.input.value,this.$emit("typedDate",new Date(this.typedDate)))}},inputBlurred:function(){this.typeable&&isNaN(Date.parse(this.input.value))&&(this.clearDate(),this.input.value=null,this.typedDate=null),this.$emit("closeCalendar")},clearDate:function(){this.$emit("clearDate")}},mounted:function(){this.input=this.$el.querySelector("input")}},g=c;const b=y;var _=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"input-group":e.bootstrapStyling}},[e.calendarButton?n("span",{staticClass:"vdp-datepicker__calendar-button",class:{"input-group-prepend":e.bootstrapStyling},style:{"cursor:not-allowed;":e.disabled},on:{click:e.showCalendar}},[n("span",{class:{"input-group-text":e.bootstrapStyling}},[n("i",{class:e.calendarButtonIcon},[e._v("\n        "+e._s(e.calendarButtonIconContent)+"\n        "),e.calendarButtonIcon?e._e():n("span",[e._v("…")])])])]):e._e(),e._v(" "),n("input",{ref:e.refName,class:e.computedInputClass,attrs:{type:e.inline?"hidden":"text",name:e.name,id:e.id,"open-date":e.openDate,placeholder:e.placeholder,"clear-button":e.clearButton,disabled:e.disabled,required:e.required,readonly:!e.typeable,autocomplete:"off"},domProps:{value:e.formattedValue},on:{click:e.showCalendar,keyup:e.parseTypedDate,blur:e.inputBlurred}}),e._v(" "),e.clearButton&&e.selectedDate?n("span",{staticClass:"vdp-datepicker__clear-button",class:{"input-group-append":e.bootstrapStyling},on:{click:function(t){return e.clearDate()}}},[n("span",{class:{"input-group-text":e.bootstrapStyling}},[n("i",{class:e.clearButtonIcon},[e.clearButtonIcon?e._e():n("span",[e._v("×")])])])]):e._e(),e._v(" "),e._t("afterDateInput")],2)},w=[];_._withStripped=!0;var k=g({render:_,staticRenderFns:w},void 0,b,void 0,!1,void 0,void 0,void 0),x={props:{showDayView:Boolean,selectedDate:Date,pageDate:Date,pageTimestamp:Number,fullMonthName:Boolean,allowedToShowView:Function,dayCellContent:{type:Function,default:function(e){return e.date}},disabledDates:Object,highlighted:Object,calendarClass:[String,Object,Array],calendarStyle:Object,translation:Object,isRtl:Boolean,mondayFirst:Boolean,useUtc:Boolean},data:function(){return{utils:v(this.useUtc)}},computed:{daysOfWeek:function(){if(this.mondayFirst){var e=this.translation.days.slice();return e.push(e.shift()),e}return this.translation.days},blankDays:function(){var e=this.pageDate,t=this.useUtc?new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)):new Date(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes());return this.mondayFirst?this.utils.getDay(t)>0?this.utils.getDay(t)-1:6:this.utils.getDay(t)},days:function(){for(var e=this.pageDate,t=[],n=this.useUtc?new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)):new Date(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes()),r=this.utils.daysInMonth(this.utils.getFullYear(n),this.utils.getMonth(n)),i=0;i<r;i++)t.push({date:this.utils.getDate(n),timestamp:n.getTime(),isSelected:this.isSelectedDate(n),isDisabled:this.isDisabledDate(n),isHighlighted:this.isHighlightedDate(n),isHighlightStart:this.isHighlightStart(n),isHighlightEnd:this.isHighlightEnd(n),isToday:this.utils.compareDates(n,new Date),isWeekend:0===this.utils.getDay(n)||6===this.utils.getDay(n),isSaturday:6===this.utils.getDay(n),isSunday:0===this.utils.getDay(n)}),this.utils.setDate(n,this.utils.getDate(n)+1);return t},currMonthName:function(){var e=this.fullMonthName?this.translation.months:this.translation.monthsAbbr;return this.utils.getMonthNameAbbr(this.utils.getMonth(this.pageDate),e)},currYearName:function(){var e=this.translation.yearSuffix;return"".concat(this.utils.getFullYear(this.pageDate)).concat(e)},isYmd:function(){return this.translation.ymd&&!0===this.translation.ymd},isLeftNavDisabled:function(){return this.isRtl?this.isNextMonthDisabled(this.pageTimestamp):this.isPreviousMonthDisabled(this.pageTimestamp)},isRightNavDisabled:function(){return this.isRtl?this.isPreviousMonthDisabled(this.pageTimestamp):this.isNextMonthDisabled(this.pageTimestamp)}},methods:{selectDate:function(e){if(e.isDisabled)return this.$emit("selectedDisabled",e),!1;this.$emit("selectDate",e)},getPageMonth:function(){return this.utils.getMonth(this.pageDate)},showMonthCalendar:function(){this.$emit("showMonthCalendar")},changeMonth:function(e){var t=this.pageDate;this.utils.setMonth(t,this.utils.getMonth(t)+e),this.$emit("changedMonth",t)},previousMonth:function(){this.isPreviousMonthDisabled()||this.changeMonth(-1)},isPreviousMonthDisabled:function(){if(!this.disabledDates||!this.disabledDates.to)return!1;var e=this.pageDate;return this.utils.getMonth(this.disabledDates.to)>=this.utils.getMonth(e)&&this.utils.getFullYear(this.disabledDates.to)>=this.utils.getFullYear(e)},nextMonth:function(){this.isNextMonthDisabled()||this.changeMonth(1)},isNextMonthDisabled:function(){if(!this.disabledDates||!this.disabledDates.from)return!1;var e=this.pageDate;return this.utils.getMonth(this.disabledDates.from)<=this.utils.getMonth(e)&&this.utils.getFullYear(this.disabledDates.from)<=this.utils.getFullYear(e)},isSelectedDate:function(e){return this.selectedDate&&this.utils.compareDates(this.selectedDate,e)},isDisabledDate:function(e){var t=this,n=!1;return void 0!==this.disabledDates&&(void 0!==this.disabledDates.dates&&this.disabledDates.dates.forEach(function(r){if(t.utils.compareDates(e,r))return n=!0,!0}),void 0!==this.disabledDates.to&&this.disabledDates.to&&e<this.disabledDates.to&&(n=!0),void 0!==this.disabledDates.from&&this.disabledDates.from&&e>this.disabledDates.from&&(n=!0),void 0!==this.disabledDates.ranges&&this.disabledDates.ranges.forEach(function(t){if(void 0!==t.from&&t.from&&void 0!==t.to&&t.to&&e<t.to&&e>t.from)return n=!0,!0}),void 0!==this.disabledDates.days&&-1!==this.disabledDates.days.indexOf(this.utils.getDay(e))&&(n=!0),void 0!==this.disabledDates.daysOfMonth&&-1!==this.disabledDates.daysOfMonth.indexOf(this.utils.getDate(e))&&(n=!0),"function"==typeof this.disabledDates.customPredictor&&this.disabledDates.customPredictor(e)&&(n=!0),n)},isHighlightedDate:function(e){var t=this;if((!this.highlighted||!this.highlighted.includeDisabled)&&this.isDisabledDate(e))return!1;var n=!1;return void 0!==this.highlighted&&(void 0!==this.highlighted.dates&&this.highlighted.dates.forEach(function(r){if(t.utils.compareDates(e,r))return n=!0,!0}),this.isDefined(this.highlighted.from)&&this.isDefined(this.highlighted.to)&&(n=e>=this.highlighted.from&&e<=this.highlighted.to),void 0!==this.highlighted.days&&-1!==this.highlighted.days.indexOf(this.utils.getDay(e))&&(n=!0),void 0!==this.highlighted.daysOfMonth&&-1!==this.highlighted.daysOfMonth.indexOf(this.utils.getDate(e))&&(n=!0),"function"==typeof this.highlighted.customPredictor&&this.highlighted.customPredictor(e)&&(n=!0),n)},dayClasses:function(e){return{selected:e.isSelected,disabled:e.isDisabled,highlighted:e.isHighlighted,today:e.isToday,weekend:e.isWeekend,sat:e.isSaturday,sun:e.isSunday,"highlight-start":e.isHighlightStart,"highlight-end":e.isHighlightEnd}},isHighlightStart:function(e){return this.isHighlightedDate(e)&&this.highlighted.from instanceof Date&&this.utils.getFullYear(this.highlighted.from)===this.utils.getFullYear(e)&&this.utils.getMonth(this.highlighted.from)===this.utils.getMonth(e)&&this.utils.getDate(this.highlighted.from)===this.utils.getDate(e)},isHighlightEnd:function(e){return this.isHighlightedDate(e)&&this.highlighted.to instanceof Date&&this.utils.getFullYear(this.highlighted.to)===this.utils.getFullYear(e)&&this.utils.getMonth(this.highlighted.to)===this.utils.getMonth(e)&&this.utils.getDate(this.highlighted.to)===this.utils.getDate(e)},isDefined:function(e){return void 0!==e&&e}}};const S=x;var E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showDayView,expression:"showDayView"}],class:[e.calendarClass,"vdp-datepicker__calendar"],style:e.calendarStyle,on:{mousedown:function(e){e.preventDefault()}}},[e._t("beforeCalendarHeader"),e._v(" "),n("header",[n("span",{staticClass:"prev",class:{disabled:e.isLeftNavDisabled},on:{click:function(t){e.isRtl?e.nextMonth():e.previousMonth()}}},[e._v("<")]),e._v(" "),n("span",{staticClass:"day__month_btn",class:e.allowedToShowView("month")?"up":"",on:{click:e.showMonthCalendar}},[e._v(e._s(e.isYmd?e.currYearName:e.currMonthName)+" "+e._s(e.isYmd?e.currMonthName:e.currYearName))]),e._v(" "),n("span",{staticClass:"next",class:{disabled:e.isRightNavDisabled},on:{click:function(t){e.isRtl?e.previousMonth():e.nextMonth()}}},[e._v(">")])]),e._v(" "),n("div",{class:e.isRtl?"flex-rtl":""},[e._l(e.daysOfWeek,function(t){return n("span",{key:t.timestamp,staticClass:"cell day-header"},[e._v(e._s(t))])}),e._v(" "),e.blankDays>0?e._l(e.blankDays,function(e){return n("span",{key:e.timestamp,staticClass:"cell day blank"})}):e._e(),e._l(e.days,function(t){return n("span",{key:t.timestamp,staticClass:"cell day",class:e.dayClasses(t),domProps:{innerHTML:e._s(e.dayCellContent(t))},on:{click:function(n){return e.selectDate(t)}}})})],2)],2)},C=[];E._withStripped=!0;var P=g({render:E,staticRenderFns:C},void 0,S,void 0,!1,void 0,void 0,void 0),O={props:{showMonthView:Boolean,selectedDate:Date,pageDate:Date,pageTimestamp:Number,disabledDates:Object,calendarClass:[String,Object,Array],calendarStyle:Object,translation:Object,isRtl:Boolean,allowedToShowView:Function,useUtc:Boolean},data:function(){return{utils:v(this.useUtc)}},computed:{months:function(){for(var e=this.pageDate,t=[],n=this.useUtc?new Date(Date.UTC(e.getUTCFullYear(),0,e.getUTCDate())):new Date(e.getFullYear(),0,e.getDate(),e.getHours(),e.getMinutes()),r=0;r<12;r++)t.push({month:this.utils.getMonthName(r,this.translation.months),timestamp:n.getTime(),isSelected:this.isSelectedMonth(n),isDisabled:this.isDisabledMonth(n)}),this.utils.setMonth(n,this.utils.getMonth(n)+1);return t},pageYearName:function(){var e=this.translation.yearSuffix;return"".concat(this.utils.getFullYear(this.pageDate)).concat(e)},isLeftNavDisabled:function(){return this.isRtl?this.isNextYearDisabled(this.pageTimestamp):this.isPreviousYearDisabled(this.pageTimestamp)},isRightNavDisabled:function(){return this.isRtl?this.isPreviousYearDisabled(this.pageTimestamp):this.isNextYearDisabled(this.pageTimestamp)}},methods:{selectMonth:function(e){if(e.isDisabled)return!1;this.$emit("selectMonth",e)},changeYear:function(e){var t=this.pageDate;this.utils.setFullYear(t,this.utils.getFullYear(t)+e),this.$emit("changedYear",t)},previousYear:function(){this.isPreviousYearDisabled()||this.changeYear(-1)},isPreviousYearDisabled:function(){return!(!this.disabledDates||!this.disabledDates.to)&&this.utils.getFullYear(this.disabledDates.to)>=this.utils.getFullYear(this.pageDate)},nextYear:function(){this.isNextYearDisabled()||this.changeYear(1)},isNextYearDisabled:function(){return!(!this.disabledDates||!this.disabledDates.from)&&this.utils.getFullYear(this.disabledDates.from)<=this.utils.getFullYear(this.pageDate)},showYearCalendar:function(){this.$emit("showYearCalendar")},isSelectedMonth:function(e){return this.selectedDate&&this.utils.getFullYear(this.selectedDate)===this.utils.getFullYear(e)&&this.utils.getMonth(this.selectedDate)===this.utils.getMonth(e)},isDisabledMonth:function(e){var t=!1;return void 0!==this.disabledDates&&(void 0!==this.disabledDates.to&&this.disabledDates.to&&(this.utils.getMonth(e)<this.utils.getMonth(this.disabledDates.to)&&this.utils.getFullYear(e)<=this.utils.getFullYear(this.disabledDates.to)||this.utils.getFullYear(e)<this.utils.getFullYear(this.disabledDates.to))&&(t=!0),void 0!==this.disabledDates.from&&this.disabledDates.from&&(this.utils.getMonth(e)>this.utils.getMonth(this.disabledDates.from)&&this.utils.getFullYear(e)>=this.utils.getFullYear(this.disabledDates.from)||this.utils.getFullYear(e)>this.utils.getFullYear(this.disabledDates.from))&&(t=!0),"function"==typeof this.disabledDates.customPredictor&&this.disabledDates.customPredictor(e)&&(t=!0),t)}}};const T=O;var A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showMonthView,expression:"showMonthView"}],class:[e.calendarClass,"vdp-datepicker__calendar"],style:e.calendarStyle,on:{mousedown:function(e){e.preventDefault()}}},[e._t("beforeCalendarHeader"),e._v(" "),n("header",[n("span",{staticClass:"prev",class:{disabled:e.isLeftNavDisabled},on:{click:function(t){e.isRtl?e.nextYear():e.previousYear()}}},[e._v("<")]),e._v(" "),n("span",{staticClass:"month__year_btn",class:e.allowedToShowView("year")?"up":"",on:{click:e.showYearCalendar}},[e._v(e._s(e.pageYearName))]),e._v(" "),n("span",{staticClass:"next",class:{disabled:e.isRightNavDisabled},on:{click:function(t){e.isRtl?e.previousYear():e.nextYear()}}},[e._v(">")])]),e._v(" "),e._l(e.months,function(t){return n("span",{key:t.timestamp,staticClass:"cell month",class:{selected:t.isSelected,disabled:t.isDisabled},on:{click:function(n){return n.stopPropagation(),e.selectMonth(t)}}},[e._v(e._s(t.month))])})],2)},M=[];A._withStripped=!0;var I=g({render:A,staticRenderFns:M},void 0,T,void 0,!1,void 0,void 0,void 0),D={props:{showYearView:Boolean,selectedDate:Date,pageDate:Date,pageTimestamp:Number,disabledDates:Object,highlighted:Object,calendarClass:[String,Object,Array],calendarStyle:Object,translation:Object,isRtl:Boolean,allowedToShowView:Function,useUtc:Boolean},computed:{years:function(){for(var e=this.pageDate,t=[],n=this.useUtc?new Date(Date.UTC(10*Math.floor(e.getUTCFullYear()/10),e.getUTCMonth(),e.getUTCDate())):new Date(10*Math.floor(e.getFullYear()/10),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()),r=0;r<10;r++)t.push({year:this.utils.getFullYear(n),timestamp:n.getTime(),isSelected:this.isSelectedYear(n),isDisabled:this.isDisabledYear(n)}),this.utils.setFullYear(n,this.utils.getFullYear(n)+1);return t},getPageDecade:function(){var e=10*Math.floor(this.utils.getFullYear(this.pageDate)/10),t=e+9,n=this.translation.yearSuffix;return"".concat(e," - ").concat(t).concat(n)},isLeftNavDisabled:function(){return this.isRtl?this.isNextDecadeDisabled(this.pageTimestamp):this.isPreviousDecadeDisabled(this.pageTimestamp)},isRightNavDisabled:function(){return this.isRtl?this.isPreviousDecadeDisabled(this.pageTimestamp):this.isNextDecadeDisabled(this.pageTimestamp)}},data:function(){return{utils:v(this.useUtc)}},methods:{selectYear:function(e){if(e.isDisabled)return!1;this.$emit("selectYear",e)},changeYear:function(e){var t=this.pageDate;this.utils.setFullYear(t,this.utils.getFullYear(t)+e),this.$emit("changedDecade",t)},previousDecade:function(){if(this.isPreviousDecadeDisabled())return!1;this.changeYear(-10)},isPreviousDecadeDisabled:function(){return!(!this.disabledDates||!this.disabledDates.to)&&this.utils.getFullYear(this.disabledDates.to)>10*Math.floor(this.utils.getFullYear(this.pageDate)/10)-1},nextDecade:function(){if(this.isNextDecadeDisabled())return!1;this.changeYear(10)},isNextDecadeDisabled:function(){return!(!this.disabledDates||!this.disabledDates.from)&&this.utils.getFullYear(this.disabledDates.from)<10*Math.ceil(this.utils.getFullYear(this.pageDate)/10)},isSelectedYear:function(e){return this.selectedDate&&this.utils.getFullYear(this.selectedDate)===this.utils.getFullYear(e)},isDisabledYear:function(e){var t=!1;return!(void 0===this.disabledDates||!this.disabledDates)&&(void 0!==this.disabledDates.to&&this.disabledDates.to&&this.utils.getFullYear(e)<this.utils.getFullYear(this.disabledDates.to)&&(t=!0),void 0!==this.disabledDates.from&&this.disabledDates.from&&this.utils.getFullYear(e)>this.utils.getFullYear(this.disabledDates.from)&&(t=!0),"function"==typeof this.disabledDates.customPredictor&&this.disabledDates.customPredictor(e)&&(t=!0),t)}}};const R=D;var j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showYearView,expression:"showYearView"}],class:[e.calendarClass,"vdp-datepicker__calendar"],style:e.calendarStyle,on:{mousedown:function(e){e.preventDefault()}}},[e._t("beforeCalendarHeader"),e._v(" "),n("header",[n("span",{staticClass:"prev",class:{disabled:e.isLeftNavDisabled},on:{click:function(t){e.isRtl?e.nextDecade():e.previousDecade()}}},[e._v("<")]),e._v(" "),n("span",[e._v(e._s(e.getPageDecade))]),e._v(" "),n("span",{staticClass:"next",class:{disabled:e.isRightNavDisabled},on:{click:function(t){e.isRtl?e.previousDecade():e.nextDecade()}}},[e._v(">")])]),e._v(" "),e._l(e.years,function(t){return n("span",{key:t.timestamp,staticClass:"cell year",class:{selected:t.isSelected,disabled:t.isDisabled},on:{click:function(n){return n.stopPropagation(),e.selectYear(t)}}},[e._v(e._s(t.year))])})],2)},N=[];j._withStripped=!0;var L=g({render:j,staticRenderFns:N},void 0,R,void 0,!1,void 0,void 0,void 0),F={components:{DateInput:k,PickerDay:P,PickerMonth:I,PickerYear:L},props:{value:{validator:function(e){return m.validateDateInput(e)}},name:String,refName:String,id:String,format:{type:[String,Function],default:"dd MMM yyyy"},language:{type:Object,default:function(){return p}},openDate:{validator:function(e){return m.validateDateInput(e)}},dayCellContent:Function,fullMonthName:Boolean,disabledDates:Object,highlighted:Object,placeholder:String,inline:Boolean,calendarClass:[String,Object,Array],inputClass:[String,Object,Array],wrapperClass:[String,Object,Array],mondayFirst:Boolean,clearButton:Boolean,clearButtonIcon:String,calendarButton:Boolean,calendarButtonIcon:String,calendarButtonIconContent:String,bootstrapStyling:Boolean,initialView:String,disabled:Boolean,required:Boolean,typeable:Boolean,useUtc:Boolean,minimumView:{type:String,default:"day"},maximumView:{type:String,default:"year"}},data:function(){var e=this.openDate?new Date(this.openDate):new Date,t=v(this.useUtc);return{pageTimestamp:t.setDate(e,1),selectedDate:null,showDayView:!1,showMonthView:!1,showYearView:!1,calendarHeight:0,resetTypedDate:new Date,utils:t}},watch:{value:function(e){this.setValue(e)},openDate:function(){this.setPageDate()},initialView:function(){this.setInitialView()}},computed:{computedInitialView:function(){return this.initialView?this.initialView:this.minimumView},pageDate:function(){return new Date(this.pageTimestamp)},translation:function(){return this.language},calendarStyle:function(){return{position:this.isInline?"static":void 0}},isOpen:function(){return this.showDayView||this.showMonthView||this.showYearView},isInline:function(){return!!this.inline},isRtl:function(){return!0===this.translation.rtl}},methods:{resetDefaultPageDate:function(){if(null===this.selectedDate)return void this.setPageDate();this.setPageDate(this.selectedDate)},showCalendar:function(){return!this.disabled&&!this.isInline&&(this.isOpen?this.close(!0):void this.setInitialView())},setInitialView:function(){var e=this.computedInitialView;if(!this.allowedToShowView(e))throw new Error("initialView '".concat(this.initialView,"' cannot be rendered based on minimum '").concat(this.minimumView,"' and maximum '").concat(this.maximumView,"'"));switch(e){case"year":this.showYearCalendar();break;case"month":this.showMonthCalendar();break;default:this.showDayCalendar()}},allowedToShowView:function(e){var t=["day","month","year"],n=t.indexOf(this.minimumView),r=t.indexOf(this.maximumView),i=t.indexOf(e);return i>=n&&i<=r},showDayCalendar:function(){return!!this.allowedToShowView("day")&&(this.close(),this.showDayView=!0,!0)},showMonthCalendar:function(){return!!this.allowedToShowView("month")&&(this.close(),this.showMonthView=!0,!0)},showYearCalendar:function(){return!!this.allowedToShowView("year")&&(this.close(),this.showYearView=!0,!0)},setDate:function(e){var t=new Date(e);this.selectedDate=t,this.setPageDate(t),this.$emit("selected",t),this.$emit("input",t)},clearDate:function(){this.selectedDate=null,this.setPageDate(),this.$emit("selected",null),this.$emit("input",null),this.$emit("cleared")},selectDate:function(e){this.setDate(e.timestamp),this.isInline||this.close(!0),this.resetTypedDate=new Date},selectDisabledDate:function(e){this.$emit("selectedDisabled",e)},selectMonth:function(e){var t=new Date(e.timestamp);this.allowedToShowView("day")?(this.setPageDate(t),this.$emit("changedMonth",e),this.showDayCalendar()):this.selectDate(e)},selectYear:function(e){var t=new Date(e.timestamp);this.allowedToShowView("month")?(this.setPageDate(t),this.$emit("changedYear",e),this.showMonthCalendar()):this.selectDate(e)},setValue:function(e){if("string"==typeof e||"number"==typeof e){var t=new Date(e);e=isNaN(t.valueOf())?null:t}if(!e)return this.setPageDate(),void(this.selectedDate=null);this.selectedDate=e,this.setPageDate(e)},setPageDate:function(e){e||(e=this.openDate?new Date(this.openDate):new Date),this.pageTimestamp=this.utils.setDate(new Date(e),1)},handleChangedMonthFromDayPicker:function(e){this.setPageDate(e),this.$emit("changedMonth",e)},setTypedDate:function(e){this.setDate(e.getTime())},close:function(e){this.showDayView=this.showMonthView=this.showYearView=!1,this.isInline||(e&&this.$emit("closed"),document.removeEventListener("click",this.clickOutside,!1))},init:function(){this.value&&this.setValue(this.value),this.isInline&&this.setInitialView()}},mounted:function(){this.init()}},U="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),$=document.head||document.getElementsByTagName("head")[0],B={},q=l;const z=F;var H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vdp-datepicker",class:[e.wrapperClass,e.isRtl?"rtl":""]},[n("date-input",{attrs:{selectedDate:e.selectedDate,resetTypedDate:e.resetTypedDate,format:e.format,translation:e.translation,inline:e.inline,id:e.id,name:e.name,refName:e.refName,openDate:e.openDate,placeholder:e.placeholder,inputClass:e.inputClass,typeable:e.typeable,clearButton:e.clearButton,clearButtonIcon:e.clearButtonIcon,calendarButton:e.calendarButton,calendarButtonIcon:e.calendarButtonIcon,calendarButtonIconContent:e.calendarButtonIconContent,disabled:e.disabled,required:e.required,bootstrapStyling:e.bootstrapStyling,"use-utc":e.useUtc},on:{showCalendar:e.showCalendar,closeCalendar:e.close,typedDate:e.setTypedDate,clearDate:e.clearDate}},[e._t("afterDateInput",null,{slot:"afterDateInput"})],2),e._v(" "),e.allowedToShowView("day")?n("picker-day",{attrs:{pageDate:e.pageDate,selectedDate:e.selectedDate,showDayView:e.showDayView,fullMonthName:e.fullMonthName,allowedToShowView:e.allowedToShowView,disabledDates:e.disabledDates,highlighted:e.highlighted,calendarClass:e.calendarClass,calendarStyle:e.calendarStyle,translation:e.translation,pageTimestamp:e.pageTimestamp,isRtl:e.isRtl,mondayFirst:e.mondayFirst,dayCellContent:e.dayCellContent,"use-utc":e.useUtc},on:{changedMonth:e.handleChangedMonthFromDayPicker,selectDate:e.selectDate,showMonthCalendar:e.showMonthCalendar,selectedDisabled:e.selectDisabledDate}},[e._t("beforeCalendarHeader",null,{slot:"beforeCalendarHeader"})],2):e._e(),e._v(" "),e.allowedToShowView("month")?n("picker-month",{attrs:{pageDate:e.pageDate,selectedDate:e.selectedDate,showMonthView:e.showMonthView,allowedToShowView:e.allowedToShowView,disabledDates:e.disabledDates,calendarClass:e.calendarClass,calendarStyle:e.calendarStyle,translation:e.translation,isRtl:e.isRtl,"use-utc":e.useUtc},on:{selectMonth:e.selectMonth,showYearCalendar:e.showYearCalendar,changedYear:e.setPageDate}},[e._t("beforeCalendarHeader",null,{slot:"beforeCalendarHeader"})],2):e._e(),e._v(" "),e.allowedToShowView("year")?n("picker-year",{attrs:{pageDate:e.pageDate,selectedDate:e.selectedDate,showYearView:e.showYearView,allowedToShowView:e.allowedToShowView,disabledDates:e.disabledDates,calendarClass:e.calendarClass,calendarStyle:e.calendarStyle,translation:e.translation,isRtl:e.isRtl,"use-utc":e.useUtc},on:{selectYear:e.selectYear,changedDecade:e.setPageDate}},[e._t("beforeCalendarHeader",null,{slot:"beforeCalendarHeader"})],2):e._e()],1)},V=[];H._withStripped=!0;const Y=function(e){e&&e("data-v-64ca2bb5_0",{source:".rtl {\n  direction: rtl;\n}\n.vdp-datepicker {\n  position: relative;\n  text-align: left;\n}\n.vdp-datepicker * {\n  box-sizing: border-box;\n}\n.vdp-datepicker__calendar {\n  position: absolute;\n  z-index: 100;\n  background: #fff;\n  width: 300px;\n  border: 1px solid #ccc;\n}\n.vdp-datepicker__calendar header {\n  display: block;\n  line-height: 40px;\n}\n.vdp-datepicker__calendar header span {\n  display: inline-block;\n  text-align: center;\n  width: 71.42857142857143%;\n  float: left;\n}\n.vdp-datepicker__calendar header .prev,\n.vdp-datepicker__calendar header .next {\n  width: 14.285714285714286%;\n  float: left;\n  text-indent: -10000px;\n  position: relative;\n}\n.vdp-datepicker__calendar header .prev:after,\n.vdp-datepicker__calendar header .next:after {\n  content: '';\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  border: 6px solid transparent;\n}\n.vdp-datepicker__calendar header .prev:after {\n  border-right: 10px solid #000;\n  margin-left: -5px;\n}\n.vdp-datepicker__calendar header .prev.disabled:after {\n  border-right: 10px solid #ddd;\n}\n.vdp-datepicker__calendar header .next:after {\n  border-left: 10px solid #000;\n  margin-left: 5px;\n}\n.vdp-datepicker__calendar header .next.disabled:after {\n  border-left: 10px solid #ddd;\n}\n.vdp-datepicker__calendar header .prev:not(.disabled),\n.vdp-datepicker__calendar header .next:not(.disabled),\n.vdp-datepicker__calendar header .up:not(.disabled) {\n  cursor: pointer;\n}\n.vdp-datepicker__calendar header .prev:not(.disabled):hover,\n.vdp-datepicker__calendar header .next:not(.disabled):hover,\n.vdp-datepicker__calendar header .up:not(.disabled):hover {\n  background: #eee;\n}\n.vdp-datepicker__calendar .disabled {\n  color: #ddd;\n  cursor: default;\n}\n.vdp-datepicker__calendar .flex-rtl {\n  display: flex;\n  width: inherit;\n  flex-wrap: wrap;\n}\n.vdp-datepicker__calendar .cell {\n  display: inline-block;\n  padding: 0 5px;\n  width: 14.285714285714286%;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  vertical-align: middle;\n  border: 1px solid transparent;\n}\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).day,\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).month,\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).year {\n  cursor: pointer;\n}\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).day:hover,\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).month:hover,\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).year:hover {\n  border: 1px solid #4bd;\n}\n.vdp-datepicker__calendar .cell.selected {\n  background: #4bd;\n}\n.vdp-datepicker__calendar .cell.selected:hover {\n  background: #4bd;\n}\n.vdp-datepicker__calendar .cell.selected.highlighted {\n  background: #4bd;\n}\n.vdp-datepicker__calendar .cell.highlighted {\n  background: #cae5ed;\n}\n.vdp-datepicker__calendar .cell.highlighted.disabled {\n  color: #a3a3a3;\n}\n.vdp-datepicker__calendar .cell.grey {\n  color: #888;\n}\n.vdp-datepicker__calendar .cell.grey:hover {\n  background: inherit;\n}\n.vdp-datepicker__calendar .cell.day-header {\n  font-size: 75%;\n  white-space: nowrap;\n  cursor: inherit;\n}\n.vdp-datepicker__calendar .cell.day-header:hover {\n  background: inherit;\n}\n.vdp-datepicker__calendar .month,\n.vdp-datepicker__calendar .year {\n  width: 33.333%;\n}\n.vdp-datepicker__clear-button,\n.vdp-datepicker__calendar-button {\n  cursor: pointer;\n  font-style: normal;\n}\n.vdp-datepicker__clear-button.disabled,\n.vdp-datepicker__calendar-button.disabled {\n  color: #999;\n  cursor: default;\n}\n",map:{version:3,sources:["Datepicker.vue"],names:[],mappings:"AAAA;EACE,cAAc;AAChB;AACA;EACE,kBAAkB;EAClB,gBAAgB;AAClB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,gBAAgB;EAChB,YAAY;EACZ,sBAAsB;AACxB;AACA;EACE,cAAc;EACd,iBAAiB;AACnB;AACA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,yBAAyB;EACzB,WAAW;AACb;AACA;;EAEE,0BAA0B;EAC1B,WAAW;EACX,qBAAqB;EACrB,kBAAkB;AACpB;AACA;;EAEE,WAAW;EACX,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,4CAA4C;EAC5C,6BAA6B;AAC/B;AACA;EACE,6BAA6B;EAC7B,iBAAiB;AACnB;AACA;EACE,6BAA6B;AAC/B;AACA;EACE,4BAA4B;EAC5B,gBAAgB;AAClB;AACA;EACE,4BAA4B;AAC9B;AACA;;;EAGE,eAAe;AACjB;AACA;;;EAGE,gBAAgB;AAClB;AACA;EACE,WAAW;EACX,eAAe;AACjB;AACA;EACE,aAAa;EACb,cAAc;EACd,eAAe;AACjB;AACA;EACE,qBAAqB;EACrB,cAAc;EACd,0BAA0B;EAC1B,YAAY;EACZ,iBAAiB;EACjB,kBAAkB;EAClB,sBAAsB;EACtB,6BAA6B;AAC/B;AACA;;;EAGE,eAAe;AACjB;AACA;;;EAGE,sBAAsB;AACxB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,cAAc;AAChB;AACA;EACE,WAAW;AACb;AACA;EACE,mBAAmB;AACrB;AACA;EACE,cAAc;EACd,mBAAmB;EACnB,eAAe;AACjB;AACA;EACE,mBAAmB;AACrB;AACA;;EAEE,cAAc;AAChB;AACA;;EAEE,eAAe;EACf,kBAAkB;AACpB;AACA;;EAEE,WAAW;EACX,eAAe;AACjB",file:"Datepicker.vue",sourcesContent:[".rtl {\n  direction: rtl;\n}\n.vdp-datepicker {\n  position: relative;\n  text-align: left;\n}\n.vdp-datepicker * {\n  box-sizing: border-box;\n}\n.vdp-datepicker__calendar {\n  position: absolute;\n  z-index: 100;\n  background: #fff;\n  width: 300px;\n  border: 1px solid #ccc;\n}\n.vdp-datepicker__calendar header {\n  display: block;\n  line-height: 40px;\n}\n.vdp-datepicker__calendar header span {\n  display: inline-block;\n  text-align: center;\n  width: 71.42857142857143%;\n  float: left;\n}\n.vdp-datepicker__calendar header .prev,\n.vdp-datepicker__calendar header .next {\n  width: 14.285714285714286%;\n  float: left;\n  text-indent: -10000px;\n  position: relative;\n}\n.vdp-datepicker__calendar header .prev:after,\n.vdp-datepicker__calendar header .next:after {\n  content: '';\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  border: 6px solid transparent;\n}\n.vdp-datepicker__calendar header .prev:after {\n  border-right: 10px solid #000;\n  margin-left: -5px;\n}\n.vdp-datepicker__calendar header .prev.disabled:after {\n  border-right: 10px solid #ddd;\n}\n.vdp-datepicker__calendar header .next:after {\n  border-left: 10px solid #000;\n  margin-left: 5px;\n}\n.vdp-datepicker__calendar header .next.disabled:after {\n  border-left: 10px solid #ddd;\n}\n.vdp-datepicker__calendar header .prev:not(.disabled),\n.vdp-datepicker__calendar header .next:not(.disabled),\n.vdp-datepicker__calendar header .up:not(.disabled) {\n  cursor: pointer;\n}\n.vdp-datepicker__calendar header .prev:not(.disabled):hover,\n.vdp-datepicker__calendar header .next:not(.disabled):hover,\n.vdp-datepicker__calendar header .up:not(.disabled):hover {\n  background: #eee;\n}\n.vdp-datepicker__calendar .disabled {\n  color: #ddd;\n  cursor: default;\n}\n.vdp-datepicker__calendar .flex-rtl {\n  display: flex;\n  width: inherit;\n  flex-wrap: wrap;\n}\n.vdp-datepicker__calendar .cell {\n  display: inline-block;\n  padding: 0 5px;\n  width: 14.285714285714286%;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  vertical-align: middle;\n  border: 1px solid transparent;\n}\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).day,\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).month,\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).year {\n  cursor: pointer;\n}\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).day:hover,\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).month:hover,\n.vdp-datepicker__calendar .cell:not(.blank):not(.disabled).year:hover {\n  border: 1px solid #4bd;\n}\n.vdp-datepicker__calendar .cell.selected {\n  background: #4bd;\n}\n.vdp-datepicker__calendar .cell.selected:hover {\n  background: #4bd;\n}\n.vdp-datepicker__calendar .cell.selected.highlighted {\n  background: #4bd;\n}\n.vdp-datepicker__calendar .cell.highlighted {\n  background: #cae5ed;\n}\n.vdp-datepicker__calendar .cell.highlighted.disabled {\n  color: #a3a3a3;\n}\n.vdp-datepicker__calendar .cell.grey {\n  color: #888;\n}\n.vdp-datepicker__calendar .cell.grey:hover {\n  background: inherit;\n}\n.vdp-datepicker__calendar .cell.day-header {\n  font-size: 75%;\n  white-space: nowrap;\n  cursor: inherit;\n}\n.vdp-datepicker__calendar .cell.day-header:hover {\n  background: inherit;\n}\n.vdp-datepicker__calendar .month,\n.vdp-datepicker__calendar .year {\n  width: 33.333%;\n}\n.vdp-datepicker__clear-button,\n.vdp-datepicker__calendar-button {\n  cursor: pointer;\n  font-style: normal;\n}\n.vdp-datepicker__clear-button.disabled,\n.vdp-datepicker__calendar-button.disabled {\n  color: #999;\n  cursor: default;\n}\n"]},media:void 0})};var W=g({render:H,staticRenderFns:V},Y,z,void 0,!1,void 0,q,void 0);t.default=W},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[n("div",{staticClass:"prompt my-1",domProps:{innerHTML:e._f("linkify")(e.step.message)}}),e._v(" "),e.isUpdating?n("loading-indicator",{staticClass:"loader",attrs:{size:"20",color:"#ced4da"}}):e._e(),e._v(" "),n("form",{staticClass:"mt-1 p-0",on:{submit:function(e){e.preventDefault()}}},[n("div",[e.isDateAnswer||e.isDatetimeAnswer?n("datepicker",{ref:"datePicker",class:[e.isDisabled&&"disable-calendar"],attrs:{disabled:e.isDisabled,"wrapper-class":"playstep-calendar",inline:""},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}}):e._e(),e._v(" "),e.isTimeAnswer||e.isDatetimeAnswer?n("time-picker",{ref:"timePicker",staticClass:"mt-2",attrs:{disabled:e.isDisabled},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}}):e._e()],1),e._v(" "),e.isValid||e.isUpdating?e._e():n("div",{staticClass:"text-danger mt-1 ml-2"},[n("small",[e._v(e._s(e.validationError))])]),e._v(" "),n("div",{staticClass:"d-flex justify-content-end mt-2 mb-1"},[e.isSkippable&&!e.isAnswered||e.isSkipped?n("button",{staticClass:"playbook-btn btn d-flex align-items-center justify-content-center btn-outline-secondary flex-grow-0",class:[e.isSkipped?"completed mr-0":"mr-1"],attrs:{disabled:e.isDisabled,type:"button"},on:{click:e.submitSkip}},[e._v("\n        "+e._s(e.isSkipped?"Skipped":"Skip")+"\n        "),e.isSkipped?n("svgicon",{staticClass:"ml-1",attrs:{name:"check-o",width:"16",height:"16"}}):e._e()],1):e._e(),e._v(" "),e.isSkipped?e._e():n("button",{staticClass:"playbook-btn btn d-flex align-items-center justify-content-center flex-grow-0",class:[e.isAnswered?"btn-outline-success completed":"btn-success"],attrs:{disabled:e.isDisabled||!e.hasAnswer},on:{click:e.submitAnswer}},[e._v("\n        "+e._s(e.isAnswered?"Saved":"Save")+"\n        "),e.isAnswered?n("svgicon",{staticClass:"ml-1",attrs:{name:"check-o",width:"16",height:"16"}}):e._e()],1)])])],1)},staticRenderFns:[]}},function(e,t,n){var r=n(9)(n(797),n(798),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"message-playstep",props:{step:{type:Object,required:!0}},watch:{stepValue:function(e,t){this.form.answer=e}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[n("div",{staticClass:"prompt my-1",domProps:{innerHTML:e._f("linkify")(e.step.message)}})])},staticRenderFns:[]}},function(e,t,n){var r=n(9)(n(800),n(801),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(118);t.default={name:"multiple-choice-playstep",mixins:[r.PlaystepStateMixin],props:{step:{type:Object,required:!0},stepValue:{type:String|Number,required:!1},stepCompleted:{type:Boolean,required:!0}},data:function(){return{form:{answer:this.stepCompleted?this.stepValue||this.step.value:""},submitted:!!this.stepCompleted}},computed:{isDisabled:function(){return this.submitted||this.isAnswered||this.isSkipped},isUpdating:function(){return this.submitted&&!(this.isAnswered||this.isSkipped)},hasAnswer:function(){return!!this.form.answer.trim()},inButtonMode:function(){return this.step.actions.length<=6},inSelectMode:function(){return!this.inButtonMode}},methods:{submitAction:function(e){this.form.answer=e,this.submitAnswer()},submitAnswer:function(){this.$emit("answered",{value:this.form.answer,skipped:!1}),this.submitted=!0}},watch:{stepValue:function(e,t){this.form.answer=e}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[n("div",{staticClass:"prompt my-1",domProps:{innerHTML:e._f("linkify")(e.step.message)}}),e._v(" "),e.isUpdating?n("loading-indicator",{staticClass:"loader",attrs:{size:"20",color:"#ced4da"}}):e._e(),e._v(" "),n("form",{staticClass:"mt-3 p-0",on:{submit:function(t){return t.preventDefault(),e.submitAnswer()}}},[e.inButtonMode?n("div",e._l(e.step.actions,function(t){return n("button",{key:t.id,staticClass:"d-flex align-items-center playbook-option-btn btn",class:[e.form.answer===t.name?"btn-primary selected":"btn-outline-primary"],attrs:{disabled:e.isDisabled},on:{click:function(n){return n.preventDefault(),e.submitAction(t.name)}}},[e._v("\n        "+e._s(t.name)+"\n        "),e.isAnswered&&e.form.answer===t.name?n("svgicon",{staticClass:"ml-1 flex-shrink-0",attrs:{name:"check-o",width:"16",height:"16"}}):e._e()],1)}),0):n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.answer,expression:"form.answer"}],staticClass:"action-select form-control form-control-sm mb-2",attrs:{disabled:e.isDisabled},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.form,"answer",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",disabled:"",hidden:""}},[e._v("\n        "+e._s(e.isDisabled?"":"Select an option")+"\n      ")]),e._v(" "),e._l(e.step.actions,function(t){return n("option",{key:t.id,domProps:{value:t.name}},[e._v("\n        "+e._s(t.name)+"\n      ")])})],2),e._v(" "),e.inSelectMode?n("div",{staticClass:"d-flex justify-content-end mb-1"},[n("button",{staticClass:"playbook-btn btn d-flex align-items-center justify-content-center flex-grow-0",class:[e.isAnswered?"btn-outline-success completed":"btn-success"],attrs:{disabled:e.isDisabled||!e.hasAnswer,type:"submit"}},[e._v("\n        "+e._s(e.isAnswered?"Saved":"Save")+"\n        "),e.isAnswered?n("svgicon",{staticClass:"ml-1",attrs:{name:"check-o",width:"16",height:"16"}}):e._e()],1)]):e._e()])],1)},staticRenderFns:[]}},function(e,t,n){var r=n(9)(n(803),n(804),null,null);e.exports=r.exports},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(30),a=n(118),o=n(116);t.default={name:"text-question-playstep",mixins:[a.PlaystepStateMixin],props:{step:{type:Object,required:!0},stepValue:{type:String|Number,required:!1},stepCompleted:{type:Boolean,required:!0}},data:function(){return{form:{answer:this.stepValue||this.step.value||""},submitted:!!this.stepCompleted,validationError:""}},computed:{isDisabled:function(){return this.submitted||this.isAnswered||this.isSkipped},isUpdating:function(){return this.submitted&&!(this.isAnswered||this.isSkipped)},hasAnswer:function(){return!!this.form.answer.trim()},placeholder:function(){var e;return this.isSkipped?"":(e={},r(e,i.ANSWERTYPE_FREETEXT,"Enter a response"),r(e,i.ANSWERTYPE_PHONE,"Enter a phone"),r(e,i.ANSWERTYPE_EMAIL,"Enter an email"),r(e,i.ANSWERTYPE_WEBSITE,"Enter a website url"),e)[this.step.answer_type]},inputType:function(){var e;return(e={},r(e,i.ANSWERTYPE_FREETEXT,"text"),r(e,i.ANSWERTYPE_PHONE,"tel"),r(e,i.ANSWERTYPE_EMAIL,"email"),r(e,i.ANSWERTYPE_WEBSITE,"text"),e)[this.step.answer_type]},inputPatternType:function(){var e;return(e={},r(e,i.ANSWERTYPE_FREETEXT,null),r(e,i.ANSWERTYPE_PHONE,"[0-9 +()-]{7,}"),r(e,i.ANSWERTYPE_EMAIL,null),r(e,i.ANSWERTYPE_WEBSITE,"^(http://|https://)[a-z0-9]+([-.]{1}[a-z0-9]+)*.[a-z]{2,5}(:[0-9]{1,5})?(/.*)?"),e)[this.step.answer_type]},inputTitleType:function(){var e;return(e={},r(e,i.ANSWERTYPE_FREETEXT,null),r(e,i.ANSWERTYPE_PHONE,"Phone must be at least 7 digits containing only numbers, spaces, and +, -, ()"),r(e,i.ANSWERTYPE_EMAIL,"Email address is not valid"),r(e,i.ANSWERTYPE_WEBSITE,"Website url must start with http://, or https://"),e)[this.step.answer_type]},inputIconType:function(){var e;return(e={},r(e,i.ANSWERTYPE_FREETEXT,"doc-text"),r(e,i.ANSWERTYPE_PHONE,"phone"),r(e,i.ANSWERTYPE_EMAIL,"email"),r(e,i.ANSWERTYPE_WEBSITE,"link"),e)[this.step.answer_type]}},methods:{submit:function(){var e=this;this.form.answer&&this.validateInput().then(function(){e.validationError="",e.submitAnswer(e.form.answer,!1)}).catch(function(t){var n=t.message;e.validationError=n})},validateInput:function(){var e=this;return new Promise(function(t,n){if(e.isPhoneAnswer)(0,o.checkPhone)(e.form.answer).then(function(){t()}).catch(function(e){var t=e.response,r=400===t.status?t.data.phone.join(", "):"Server error";n(new Error(r))});else{var r=e.step.field_max_length;r&&e.form.answer.length>r?n(new Error("The maximum length is "+r+" characters")):t()}})},submitSkip:function(){this.submitAnswer("Skipped",!0)},submitAnswer:function(e,t){this.$emit("answered",{value:e,skipped:t}),this.submitted=!0}},watch:{stepValue:function(e,t){this.form.answer=e}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[n("div",{staticClass:"prompt my-1",domProps:{innerHTML:e._f("linkify")(e.step.message)}}),e._v(" "),e.isUpdating?n("loading-indicator",{staticClass:"loader",attrs:{size:"20",color:"#ced4da"}}):e._e(),e._v(" "),n("form",{staticClass:"mt-3 p-0",on:{submit:function(t){return t.preventDefault(),e.submit()}}},[[n("div",{staticClass:"position-relative"},[n("svgicon",{staticClass:"input-icon d-block",attrs:{name:e.inputIconType,color:"#c5c5c5",width:"16",height:"16"}}),e._v(" "),n("div",{staticClass:"mb-2"},[e.isFreetextAnswer?n("autosize-textarea",{staticClass:"question-textarea mb-0",attrs:{placeholder:e.placeholder,disabled:e.isDisabled,"extra-style":"padding: 6px 12px 6px 32px !important;"},on:{keydown:function(t){return e.$emit("user-typing")}},model:{value:e.form.answer,callback:function(t){e.$set(e.form,"answer",t)},expression:"form.answer"}}):"checkbox"===e.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.answer,expression:"form.answer"}],staticClass:"form-control input",attrs:{pattern:e.inputPatternType,title:e.inputTitleType,disabled:e.isDisabled,placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.form.answer)?e._i(e.form.answer,null)>-1:e.form.answer},on:{keydown:function(t){return e.$emit("user-typing")},change:function(t){var n=e.form.answer,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&e.$set(e.form,"answer",n.concat([null])):a>-1&&e.$set(e.form,"answer",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.form,"answer",i)}}}):"radio"===e.inputType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.answer,expression:"form.answer"}],staticClass:"form-control input",attrs:{pattern:e.inputPatternType,title:e.inputTitleType,disabled:e.isDisabled,placeholder:e.placeholder,type:"radio"},domProps:{checked:e._q(e.form.answer,null)},on:{keydown:function(t){return e.$emit("user-typing")},change:function(t){return e.$set(e.form,"answer",null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.answer,expression:"form.answer"}],staticClass:"form-control input",attrs:{pattern:e.inputPatternType,title:e.inputTitleType,disabled:e.isDisabled,placeholder:e.placeholder,type:e.inputType},domProps:{value:e.form.answer},on:{keydown:function(t){return e.$emit("user-typing")},input:function(t){t.target.composing||e.$set(e.form,"answer",t.target.value)}}}),e._v(" "),e.validationError?n("div",{staticClass:"invalid-feedback mt-0"},[n("small",[e._v(e._s(e.validationError))])]):e._e()],1)],1)],e._v(" "),n("div",{staticClass:"d-flex justify-content-end mb-1"},[e.isSkippable&&!e.isAnswered||e.isSkipped?n("button",{staticClass:"playbook-btn btn d-flex align-items-center justify-content-center btn-outline-secondary flex-grow-0",class:[e.isSkipped?"completed mr-0":"mr-1"],attrs:{disabled:e.isDisabled||e.stepCompleted,type:"button"},on:{click:e.submitSkip}},[e._v("\n        "+e._s(e.isSkipped?"Skipped":"Skip")+"\n        "),e.isSkipped?n("svgicon",{staticClass:"ml-1",attrs:{name:"check-o",width:"16",height:"16"}}):e._e()],1):e._e(),e._v(" "),e.isSkipped?e._e():n("button",{staticClass:"playbook-btn btn d-flex align-items-center justify-content-center flex-grow-0",class:[e.isAnswered?"btn-outline-success completed":"btn-success"],attrs:{disabled:e.isDisabled||!e.hasAnswer,type:"submit"}},[e._v("\n        "+e._s(e.isAnswered?"Saved":"Save")+"\n        "),e.isAnswered?n("svgicon",{staticClass:"ml-1",attrs:{name:"check-o",width:"16",height:"16"}}):e._e()],1)])],2)],1)},staticRenderFns:[]}},function(e,t,n){n(806);var r=n(9)(n(807),n(808),"data-v-3d05a6d7",null);e.exports=r.exports},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"time-picker",props:{value:{type:null|Date,required:!0},disabled:{type:Boolean,default:!1}},data:function(){if(!this.value)return{hours:null,minutes:null,meridian:null};var e=this.value.getHours(),t=this.value.getMinutes();return{hours:(e+11)%12+1,minutes:t<10?"0"+t:t,meridian:e>=12?"PM":"AM"}},computed:{hasValidHours:function(){var e=parseInt(this.hours,10);return!isNaN(e)&&e>0&&e<=12},hasValidMinutes:function(){var e=parseInt(this.minutes,10);return!isNaN(e)&&e>=0&&e<=59},currentDate:function(){if(!this.hasValidHours||!this.hasValidMinutes)return new Date("Invalid Date");var e=new Date(null),t=parseInt(this.hours,10),n=parseInt(this.minutes,10);return t="AM"===this.meridian?12===t?0:t:t+12,e.setHours(t,n),e}},methods:{onHourKeypress:function(e){return this._hasValidKeypress(e,"hours")},onHourBlur:function(e){var t=parseInt(this.hours,10);this.hours=t||"12",this.$emit("input",this.currentDate)},onMinuteKeypress:function(e){return this._hasValidKeypress(e,"minutes")},onMinuteBlur:function(e){var t=parseInt(this.minutes,10);this.minutes=t?t<10?"0"+t:t:"00",this.$emit("input",this.currentDate)},_hasValidKeypress:function(e,t){var n=e.keyCode>=48&&e.keyCode<=57,r=String(this[t]).length>=2;return!n||r?(e.preventDefault(),!1):e}},watch:{value:function(e,t){null===e&&(this.hours=null,this.minutes=null,this.meridian=null)}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"form-row align-items-center"},[n("div",{staticClass:"ml-3 mr-2"},[n("svgicon",{staticClass:"d-block",attrs:{name:"time",width:"20",height:"20",color:"#c5c5c5"}})],1),e._v(" "),n("div",{staticClass:"mr-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.hours,expression:"hours"}],ref:"hours",staticClass:"form-control form-control-sm",attrs:{type:"tel",min:"1",max:"12",pattern:"[0-9]*",disabled:e.disabled},domProps:{value:e.hours},on:{keypress:e.onHourKeypress,blur:e.onHourBlur,input:[function(t){t.target.composing||(e.hours=t.target.value)},function(t){return e.$emit("input",e.currentDate)}],paste:function(e){e.preventDefault()}}})]),e._v(" "),n("div",{staticClass:"mr-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.minutes,expression:"minutes"}],ref:"minutes",staticClass:"form-control form-control-sm",attrs:{type:"tel",min:"0",max:"59",pattern:"[0-9]*",disabled:e.disabled},domProps:{value:e.minutes},on:{blur:e.onMinuteBlur,keypress:e.onMinuteKeypress,input:[function(t){t.target.composing||(e.minutes=t.target.value)},function(t){return e.$emit("input",e.currentDate)}],paste:function(e){e.preventDefault()}}})]),e._v(" "),n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.meridian,expression:"meridian"}],ref:"meridian",staticClass:"form-control form-control-sm",attrs:{disabled:e.disabled},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.meridian=t.target.multiple?n:n[0]},function(t){return e.$emit("input",e.currentDate)}]}},[n("option",[e._v("AM")]),e._v(" "),n("option",[e._v("PM")])])])])])},staticRenderFns:[]}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.PublicAPI=function(){function e(t){r(this,e),this.vm=t}return i(e,[{key:"onWidgetInitialized",value:function(e){e&&this.vm.$on("widget-initialized",e)}},{key:"onConversationStarted",value:function(e){e&&this.vm.$on("conversation-started",e)}},{key:"onConversationClosed",value:function(e){e&&this.vm.$on("conversation-closed",e)}},{key:"getChannelId",value:function(){return this.vm.getChannelId()}},{key:"getConversationData",value:function(e){if(e)return this.vm.getConversationData(e)}},{key:"updateConversationMetadata",value:function(e){if(e)return this.vm.updateConversationMetadata(e)}},{key:"startPlaybook",value:function(e){if(e)return this.vm.startPlaybook(e)}},{key:"setVisibility",value:function(e,t){"boolean"==typeof e&&this.vm.setVisibility(e,t)}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(811);Object.defineProperty(t,"GTMTrackingPlugin",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});t.default={install:function(e){e.prototype.$addGTMVariable=function(e){var t=e.name,n=e.value;t&&n&&(t="SMITHAI_CHAT-"+t,window.dataLayer=window.dataLayer||[],window.dataLayer.push(r({},t,n)))},e.prototype.$addGTMEvent=function(e){var t=e.event;t&&(t="SMITHAI_CHAT-"+t,window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:t}))}}}}]);
//# sourceMappingURL=build.js.map